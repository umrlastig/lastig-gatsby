"use strict";(self.webpackChunklastig_gastby=self.webpackChunklastig_gastby||[]).push([[212],{7528:function(t,n,e){var r=e(6540),i=e(4794);n.A=t=>{let{title:n}=t;const e=(0,i.useStaticQuery)("3159585216");return r.createElement("title",null,n," | ",e.site.siteMetadata.title)}},5775:function(t,n,e){e.r(n),e.d(n,{Head:function(){return dx},default:function(){return sx}});var r=e(4506),i=e(6540),a=e(4587),o=e(7528),c=e(7065),f=e(6442),u=e(6358);function l(t,n){return null==t||null==n?NaN:t<n?-1:t>n?1:t>=n?0:NaN}function s(t,n){return null==t||null==n?NaN:n<t?-1:n>t?1:n>=t?0:NaN}function d(t){let n,e,r;function i(t,r,i=0,a=t.length){if(i<a){if(0!==n(r,r))return a;do{const n=i+a>>>1;e(t[n],r)<0?i=n+1:a=n}while(i<a)}return i}return 2!==t.length?(n=l,e=(n,e)=>l(t(n),e),r=(n,e)=>t(n)-e):(n=t===l||t===s?t:h,e=t,r=t),{left:i,center:function(t,n,e=0,a=t.length){const o=i(t,n,e,a-1);return o>e&&r(t[o-1],n)>-r(t[o],n)?o-1:o},right:function(t,r,i=0,a=t.length){if(i<a){if(0!==n(r,r))return a;do{const n=i+a>>>1;e(t[n],r)<=0?i=n+1:a=n}while(i<a)}return i}}}function h(){return 0}function p(t){return 0|t.length}function g(t){return!(t>0)}function m(t){return"object"!=typeof t||"length"in t?t:Array.from(t)}function b(t,n){let e,r=0,i=0,a=0;if(void 0===n)for(let o of t)null!=o&&(o=+o)>=o&&(e=o-i,i+=e/++r,a+=e*(o-i));else{let o=-1;for(let c of t)null!=(c=n(c,++o,t))&&(c=+c)>=c&&(e=c-i,i+=e/++r,a+=e*(c-i))}if(r>1)return a/(r-1)}function y(t,n){const e=b(t,n);return e?Math.sqrt(e):e}function v(t,n){let e,r;if(void 0===n)for(const i of t)null!=i&&(void 0===e?i>=i&&(e=r=i):(e>i&&(e=i),r<i&&(r=i)));else{let i=-1;for(let a of t)null!=(a=n(a,++i,t))&&(void 0===e?a>=a&&(e=r=a):(e>a&&(e=a),r<a&&(r=a)))}return[e,r]}class w extends Map{constructor(t,n=$){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),null!=t)for(const[e,r]of t)this.set(e,r)}get(t){return super.get(M(this,t))}has(t){return super.has(M(this,t))}set(t,n){return super.set(k(this,t),n)}delete(t){return super.delete(_(this,t))}}class x extends Set{constructor(t,n=$){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),null!=t)for(const e of t)this.add(e)}has(t){return super.has(M(this,t))}add(t){return super.add(k(this,t))}delete(t){return super.delete(_(this,t))}}function M({_intern:t,_key:n},e){const r=n(e);return t.has(r)?t.get(r):e}function k({_intern:t,_key:n},e){const r=n(e);return t.has(r)?t.get(r):(t.set(r,e),e)}function _({_intern:t,_key:n},e){const r=n(e);return t.has(r)&&(e=t.get(r),t.delete(r)),e}function $(t){return null!==t&&"object"==typeof t?t.valueOf():t}function A(t){return t}function T(t,n,...e){return E(t,A,n,e)}function S(t,n,...e){return E(t,Array.from,n,e)}function E(t,n,e,r){return function t(i,a){if(a>=r.length)return e(i);const o=new w,c=r[a++];let f=-1;for(const n of i){const t=c(n,++f,i),e=o.get(t);e?e.push(n):o.set(t,[n])}for(const[n,e]of o)o.set(n,t(e,a));return n(o)}(t,0)}function N(t,n){let e;if(void 0===n)for(const r of t)null!=r&&(e<r||void 0===e&&r>=r)&&(e=r);else{let r=-1;for(let i of t)null!=(i=n(i,++r,t))&&(e<i||void 0===e&&i>=i)&&(e=i)}return e}function C(t,n){let e,r=-1,i=-1;if(void 0===n)for(const a of t)++i,null!=a&&(e<a||void 0===e&&a>=a)&&(e=a,r=i);else for(let a of t)null!=(a=n(a,++i,t))&&(e<a||void 0===e&&a>=a)&&(e=a,r=i);return r}function L(t,n){let e=0,r=0;if(void 0===n)for(let i of t)null!=i&&(i=+i)>=i&&(++e,r+=i);else{let i=-1;for(let a of t)null!=(a=n(a,++i,t))&&(a=+a)>=a&&(++e,r+=a)}if(e)return r/e}function D(t,n){let e;if(void 0===n)for(const r of t)null!=r&&(e>r||void 0===e&&r>=r)&&(e=r);else{let r=-1;for(let i of t)null!=(i=n(i,++r,t))&&(e>i||void 0===e&&i>=i)&&(e=i)}return e}function O(t,...n){if("function"!=typeof t[Symbol.iterator])throw new TypeError("values is not iterable");t=Array.from(t);let[e]=n;if(e&&2!==e.length||n.length>1){const a=Uint32Array.from(t,((t,n)=>n));return n.length>1?(n=n.map((n=>t.map(n))),a.sort(((t,e)=>{for(const r of n){const n=F(r[t],r[e]);if(n)return n}}))):(e=t.map(e),a.sort(((t,n)=>F(e[t],e[n])))),r=t,i=a,Array.from(i,(t=>r[t]))}var r,i;return t.sort(R(e))}function R(t=l){if(t===l)return F;if("function"!=typeof t)throw new TypeError("compare is not a function");return(n,e)=>{const r=t(n,e);return r||0===r?r:(0===t(e,e))-(0===t(n,n))}}function F(t,n){return(null==t||!(t>=t))-(null==n||!(n>=n))||(t<n?-1:t>n?1:0)}function z(t,n,e=0,r=1/0,i){if(n=Math.floor(n),e=Math.floor(Math.max(0,e)),r=Math.floor(Math.min(t.length-1,r)),!(e<=n&&n<=r))return t;for(i=void 0===i?F:R(i);r>e;){if(r-e>600){const a=r-e+1,o=n-e+1,c=Math.log(a),f=.5*Math.exp(2*c/3),u=.5*Math.sqrt(c*f*(a-f)/a)*(o-a/2<0?-1:1);z(t,n,Math.max(e,Math.floor(n-o*f/a+u)),Math.min(r,Math.floor(n+(a-o)*f/a+u)),i)}const a=t[n];let o=e,c=r;for(j(t,e,n),i(t[r],a)>0&&j(t,e,r);o<c;){for(j(t,o,c),++o,--c;i(t[o],a)<0;)++o;for(;i(t[c],a)>0;)--c}0===i(t[e],a)?j(t,e,c):(++c,j(t,c,r)),c<=n&&(e=c+1),n<=c&&(r=c-1)}return t}function j(t,n,e){const r=t[n];t[n]=t[e],t[e]=r}function U(t){return null===t?NaN:+t}function P(t,n,e){if(t=Float64Array.from(function*(t,n){if(void 0===n)for(let e of t)null!=e&&(e=+e)>=e&&(yield e);else{let e=-1;for(let r of t)null!=(r=n(r,++e,t))&&(r=+r)>=r&&(yield r)}}(t,e)),(r=t.length)&&!isNaN(n=+n)){if(n<=0||r<2)return D(t);if(n>=1)return N(t);var r,i=(r-1)*n,a=Math.floor(i),o=N(z(t,a).subarray(0,a+1));return o+(D(t.subarray(a+1))-o)*(i-a)}}function I(t,n,e=U){if((r=t.length)&&!isNaN(n=+n)){if(n<=0||r<2)return+e(t[0],0,t);if(n>=1)return+e(t[r-1],r-1,t);var r,i=(r-1)*n,a=Math.floor(i),o=+e(t[a],a,t);return o+(+e(t[a+1],a+1,t)-o)*(i-a)}}function q(t,n){return P(t,.5,n)}function B(t,n){let e,r=-1,i=-1;if(void 0===n)for(const a of t)++i,null!=a&&(e>a||void 0===e&&a>=a)&&(e=a,r=i);else for(let a of t)null!=(a=n(a,++i,t))&&(e>a||void 0===e&&a>=a)&&(e=a,r=i);return r}function W(t,n){const e=new w;if(void 0===n)for(let a of t)null!=a&&a>=a&&e.set(a,(e.get(a)||0)+1);else{let r=-1;for(let i of t)null!=(i=n(i,++r,t))&&i>=i&&e.set(i,(e.get(i)||0)+1)}let r,i=0;for(const[a,o]of e)o>i&&(i=o,r=a);return r}function H(t,n){return[t,n]}function Y(t,n,e){t=+t,n=+n,e=(i=arguments.length)<2?(n=t,t=0,1):i<3?1:+e;for(var r=-1,i=0|Math.max(0,Math.ceil((n-t)/e)),a=new Array(i);++r<i;)a[r]=t+r*e;return a}function V(t,n){let e=0;if(void 0===n)for(let r of t)(r=+r)&&(e+=r);else{let r=-1;for(let i of t)(i=+n(i,++r,t))&&(e+=i)}return e}const X=Math.sqrt(50),Z=Math.sqrt(10),G=Math.sqrt(2);function Q(t,n,e){const r=(n-t)/Math.max(0,e),i=Math.floor(Math.log10(r)),a=r/Math.pow(10,i),o=a>=X?10:a>=Z?5:a>=G?2:1;let c,f,u;return i<0?(u=Math.pow(10,-i)/o,c=Math.round(t*u),f=Math.round(n*u),c/u<t&&++c,f/u>n&&--f,u=-u):(u=Math.pow(10,i)*o,c=Math.round(t/u),f=Math.round(n/u),c*u<t&&++c,f*u>n&&--f),f<c&&.5<=e&&e<2?Q(t,n,2*e):[c,f,u]}function J(t,n,e){if(!((e=+e)>0))return[];if((t=+t)===(n=+n))return[t];const r=n<t,[i,a,o]=r?Q(n,t,e):Q(t,n,e);if(!(a>=i))return[];const c=a-i+1,f=new Array(c);if(r)if(o<0)for(let u=0;u<c;++u)f[u]=(a-u)/-o;else for(let u=0;u<c;++u)f[u]=(a-u)*o;else if(o<0)for(let u=0;u<c;++u)f[u]=(i+u)/-o;else for(let u=0;u<c;++u)f[u]=(i+u)*o;return f}function K(t,n,e){return Q(t=+t,n=+n,e=+e)[2]}function tt(t,n,e){e=+e;const r=(n=+n)<(t=+t),i=r?K(n,t,e):K(t,n,e);return(r?-1:1)*(i<0?1/-i:i)}function nt(t){if("function"!=typeof t[Symbol.iterator])throw new TypeError("values is not iterable");return Array.from(t).reverse()}function et(t){return t}var rt=1,at=2,ot=3,ct=4,ft=1e-6;function ut(t){return"translate("+t+",0)"}function lt(t){return"translate(0,"+t+")"}function st(t){return n=>+t(n)}function dt(t,n){return n=Math.max(0,t.bandwidth()-2*n)/2,t.round()&&(n=Math.round(n)),e=>+t(e)+n}function ht(){return!this.__axis}function pt(t,n){var e=[],r=null,i=null,a=6,o=6,c=3,f="undefined"!=typeof window&&window.devicePixelRatio>1?0:.5,u=t===rt||t===ct?-1:1,l=t===ct||t===at?"x":"y",s=t===rt||t===ot?ut:lt;function d(d){var h=null==r?n.ticks?n.ticks.apply(n,e):n.domain():r,p=null==i?n.tickFormat?n.tickFormat.apply(n,e):et:i,g=Math.max(a,0)+c,m=n.range(),b=+m[0]+f,y=+m[m.length-1]+f,v=(n.bandwidth?dt:st)(n.copy(),f),w=d.selection?d.selection():d,x=w.selectAll(".domain").data([null]),M=w.selectAll(".tick").data(h,n).order(),k=M.exit(),_=M.enter().append("g").attr("class","tick"),$=M.select("line"),A=M.select("text");x=x.merge(x.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),M=M.merge(_),$=$.merge(_.append("line").attr("stroke","currentColor").attr(l+"2",u*a)),A=A.merge(_.append("text").attr("fill","currentColor").attr(l,u*g).attr("dy",t===rt?"0em":t===ot?"0.71em":"0.32em")),d!==w&&(x=x.transition(d),M=M.transition(d),$=$.transition(d),A=A.transition(d),k=k.transition(d).attr("opacity",ft).attr("transform",(function(t){return isFinite(t=v(t))?s(t+f):this.getAttribute("transform")})),_.attr("opacity",ft).attr("transform",(function(t){var n=this.parentNode.__axis;return s((n&&isFinite(n=n(t))?n:v(t))+f)}))),k.remove(),x.attr("d",t===ct||t===at?o?"M"+u*o+","+b+"H"+f+"V"+y+"H"+u*o:"M"+f+","+b+"V"+y:o?"M"+b+","+u*o+"V"+f+"H"+y+"V"+u*o:"M"+b+","+f+"H"+y),M.attr("opacity",1).attr("transform",(function(t){return s(v(t)+f)})),$.attr(l+"2",u*a),A.attr(l,u*g).text(p),w.filter(ht).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",t===at?"start":t===ct?"end":"middle"),w.each((function(){this.__axis=v}))}return d.scale=function(t){return arguments.length?(n=t,d):n},d.ticks=function(){return e=Array.from(arguments),d},d.tickArguments=function(t){return arguments.length?(e=null==t?[]:Array.from(t),d):e.slice()},d.tickValues=function(t){return arguments.length?(r=null==t?null:Array.from(t),d):r&&r.slice()},d.tickFormat=function(t){return arguments.length?(i=t,d):i},d.tickSize=function(t){return arguments.length?(a=o=+t,d):a},d.tickSizeInner=function(t){return arguments.length?(a=+t,d):a},d.tickSizeOuter=function(t){return arguments.length?(o=+t,d):o},d.tickPadding=function(t){return arguments.length?(c=+t,d):c},d.offset=function(t){return arguments.length?(f=+t,d):f},d}function gt(){}function mt(t){return null==t?gt:function(){return this.querySelector(t)}}function bt(){return[]}function yt(t){return null==t?bt:function(){return this.querySelectorAll(t)}}function vt(t){return function(){return null==(n=t.apply(this,arguments))?[]:Array.isArray(n)?n:Array.from(n);var n}}function wt(t){return function(){return this.matches(t)}}function xt(t){return function(n){return n.matches(t)}}var Mt=Array.prototype.find;function kt(){return this.firstElementChild}var _t=Array.prototype.filter;function $t(){return Array.from(this.children)}function At(t){return new Array(t.length)}function Tt(t,n){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=n}function St(t,n,e,r,i,a){for(var o,c=0,f=n.length,u=a.length;c<u;++c)(o=n[c])?(o.__data__=a[c],r[c]=o):e[c]=new Tt(t,a[c]);for(;c<f;++c)(o=n[c])&&(i[c]=o)}function Et(t,n,e,r,i,a,o){var c,f,u,l=new Map,s=n.length,d=a.length,h=new Array(s);for(c=0;c<s;++c)(f=n[c])&&(h[c]=u=o.call(f,f.__data__,c,n)+"",l.has(u)?i[c]=f:l.set(u,f));for(c=0;c<d;++c)u=o.call(t,a[c],c,a)+"",(f=l.get(u))?(r[c]=f,f.__data__=a[c],l.delete(u)):e[c]=new Tt(t,a[c]);for(c=0;c<s;++c)(f=n[c])&&l.get(h[c])===f&&(i[c]=f)}function Nt(t){return t.__data__}function Ct(t){return"object"==typeof t&&"length"in t?t:Array.from(t)}function Lt(t,n){return t<n?-1:t>n?1:t>=n?0:NaN}Tt.prototype={constructor:Tt,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,n){return this._parent.insertBefore(t,n)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};var Dt="http://www.w3.org/1999/xhtml",Ot={svg:"http://www.w3.org/2000/svg",xhtml:Dt,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Rt(t){var n=t+="",e=n.indexOf(":");return e>=0&&"xmlns"!==(n=t.slice(0,e))&&(t=t.slice(e+1)),Ot.hasOwnProperty(n)?{space:Ot[n],local:t}:t}function Ft(t){return function(){this.removeAttribute(t)}}function zt(t){return function(){this.removeAttributeNS(t.space,t.local)}}function jt(t,n){return function(){this.setAttribute(t,n)}}function Ut(t,n){return function(){this.setAttributeNS(t.space,t.local,n)}}function Pt(t,n){return function(){var e=n.apply(this,arguments);null==e?this.removeAttribute(t):this.setAttribute(t,e)}}function It(t,n){return function(){var e=n.apply(this,arguments);null==e?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,e)}}function qt(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function Bt(t){return function(){this.style.removeProperty(t)}}function Wt(t,n,e){return function(){this.style.setProperty(t,n,e)}}function Ht(t,n,e){return function(){var r=n.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,e)}}function Yt(t,n){return t.style.getPropertyValue(n)||qt(t).getComputedStyle(t,null).getPropertyValue(n)}function Vt(t){return function(){delete this[t]}}function Xt(t,n){return function(){this[t]=n}}function Zt(t,n){return function(){var e=n.apply(this,arguments);null==e?delete this[t]:this[t]=e}}function Gt(t){return t.trim().split(/^|\s+/)}function Qt(t){return t.classList||new Jt(t)}function Jt(t){this._node=t,this._names=Gt(t.getAttribute("class")||"")}function Kt(t,n){for(var e=Qt(t),r=-1,i=n.length;++r<i;)e.add(n[r])}function tn(t,n){for(var e=Qt(t),r=-1,i=n.length;++r<i;)e.remove(n[r])}function nn(t){return function(){Kt(this,t)}}function en(t){return function(){tn(this,t)}}function rn(t,n){return function(){(n.apply(this,arguments)?Kt:tn)(this,t)}}function an(){this.textContent=""}function on(t){return function(){this.textContent=t}}function cn(t){return function(){var n=t.apply(this,arguments);this.textContent=null==n?"":n}}function fn(){this.innerHTML=""}function un(t){return function(){this.innerHTML=t}}function ln(t){return function(){var n=t.apply(this,arguments);this.innerHTML=null==n?"":n}}function sn(){this.nextSibling&&this.parentNode.appendChild(this)}function dn(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function hn(t){return function(){var n=this.ownerDocument,e=this.namespaceURI;return e===Dt&&n.documentElement.namespaceURI===Dt?n.createElement(t):n.createElementNS(e,t)}}function pn(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function gn(t){var n=Rt(t);return(n.local?pn:hn)(n)}function mn(){return null}function bn(){var t=this.parentNode;t&&t.removeChild(this)}function yn(){var t=this.cloneNode(!1),n=this.parentNode;return n?n.insertBefore(t,this.nextSibling):t}function vn(){var t=this.cloneNode(!0),n=this.parentNode;return n?n.insertBefore(t,this.nextSibling):t}function wn(t){return function(){var n=this.__on;if(n){for(var e,r=0,i=-1,a=n.length;r<a;++r)e=n[r],t.type&&e.type!==t.type||e.name!==t.name?n[++i]=e:this.removeEventListener(e.type,e.listener,e.options);++i?n.length=i:delete this.__on}}}function xn(t,n,e){return function(){var r,i=this.__on,a=function(t){return function(n){t.call(this,n,this.__data__)}}(n);if(i)for(var o=0,c=i.length;o<c;++o)if((r=i[o]).type===t.type&&r.name===t.name)return this.removeEventListener(r.type,r.listener,r.options),this.addEventListener(r.type,r.listener=a,r.options=e),void(r.value=n);this.addEventListener(t.type,a,e),r={type:t.type,name:t.name,value:n,listener:a,options:e},i?i.push(r):this.__on=[r]}}function Mn(t,n,e){var r=qt(t),i=r.CustomEvent;"function"==typeof i?i=new i(n,e):(i=r.document.createEvent("Event"),e?(i.initEvent(n,e.bubbles,e.cancelable),i.detail=e.detail):i.initEvent(n,!1,!1)),t.dispatchEvent(i)}function kn(t,n){return function(){return Mn(this,t,n)}}function _n(t,n){return function(){return Mn(this,t,n.apply(this,arguments))}}Jt.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var n=this._names.indexOf(t);n>=0&&(this._names.splice(n,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};var $n=[null];function An(t,n){this._groups=t,this._parents=n}function Tn(){return new An([[document.documentElement]],$n)}An.prototype=Tn.prototype={constructor:An,select:function(t){"function"!=typeof t&&(t=mt(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var a,o,c=n[i],f=c.length,u=r[i]=new Array(f),l=0;l<f;++l)(a=c[l])&&(o=t.call(a,a.__data__,l,c))&&("__data__"in a&&(o.__data__=a.__data__),u[l]=o);return new An(r,this._parents)},selectAll:function(t){t="function"==typeof t?vt(t):yt(t);for(var n=this._groups,e=n.length,r=[],i=[],a=0;a<e;++a)for(var o,c=n[a],f=c.length,u=0;u<f;++u)(o=c[u])&&(r.push(t.call(o,o.__data__,u,c)),i.push(o));return new An(r,i)},selectChild:function(t){return this.select(null==t?kt:function(t){return function(){return Mt.call(this.children,t)}}("function"==typeof t?t:xt(t)))},selectChildren:function(t){return this.selectAll(null==t?$t:function(t){return function(){return _t.call(this.children,t)}}("function"==typeof t?t:xt(t)))},filter:function(t){"function"!=typeof t&&(t=wt(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var a,o=n[i],c=o.length,f=r[i]=[],u=0;u<c;++u)(a=o[u])&&t.call(a,a.__data__,u,o)&&f.push(a);return new An(r,this._parents)},data:function(t,n){if(!arguments.length)return Array.from(this,Nt);var e,r=n?Et:St,i=this._parents,a=this._groups;"function"!=typeof t&&(e=t,t=function(){return e});for(var o=a.length,c=new Array(o),f=new Array(o),u=new Array(o),l=0;l<o;++l){var s=i[l],d=a[l],h=d.length,p=Ct(t.call(s,s&&s.__data__,l,i)),g=p.length,m=f[l]=new Array(g),b=c[l]=new Array(g);r(s,d,m,b,u[l]=new Array(h),p,n);for(var y,v,w=0,x=0;w<g;++w)if(y=m[w]){for(w>=x&&(x=w+1);!(v=b[x])&&++x<g;);y._next=v||null}}return(c=new An(c,i))._enter=f,c._exit=u,c},enter:function(){return new An(this._enter||this._groups.map(At),this._parents)},exit:function(){return new An(this._exit||this._groups.map(At),this._parents)},join:function(t,n,e){var r=this.enter(),i=this,a=this.exit();return"function"==typeof t?(r=t(r))&&(r=r.selection()):r=r.append(t+""),null!=n&&(i=n(i))&&(i=i.selection()),null==e?a.remove():e(a),r&&i?r.merge(i).order():i},merge:function(t){for(var n=t.selection?t.selection():t,e=this._groups,r=n._groups,i=e.length,a=r.length,o=Math.min(i,a),c=new Array(i),f=0;f<o;++f)for(var u,l=e[f],s=r[f],d=l.length,h=c[f]=new Array(d),p=0;p<d;++p)(u=l[p]||s[p])&&(h[p]=u);for(;f<i;++f)c[f]=e[f];return new An(c,this._parents)},selection:function(){return this},order:function(){for(var t=this._groups,n=-1,e=t.length;++n<e;)for(var r,i=t[n],a=i.length-1,o=i[a];--a>=0;)(r=i[a])&&(o&&4^r.compareDocumentPosition(o)&&o.parentNode.insertBefore(r,o),o=r);return this},sort:function(t){function n(n,e){return n&&e?t(n.__data__,e.__data__):!n-!e}t||(t=Lt);for(var e=this._groups,r=e.length,i=new Array(r),a=0;a<r;++a){for(var o,c=e[a],f=c.length,u=i[a]=new Array(f),l=0;l<f;++l)(o=c[l])&&(u[l]=o);u.sort(n)}return new An(i,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){return Array.from(this)},node:function(){for(var t=this._groups,n=0,e=t.length;n<e;++n)for(var r=t[n],i=0,a=r.length;i<a;++i){var o=r[i];if(o)return o}return null},size:function(){let t=0;for(const n of this)++t;return t},empty:function(){return!this.node()},each:function(t){for(var n=this._groups,e=0,r=n.length;e<r;++e)for(var i,a=n[e],o=0,c=a.length;o<c;++o)(i=a[o])&&t.call(i,i.__data__,o,a);return this},attr:function(t,n){var e=Rt(t);if(arguments.length<2){var r=this.node();return e.local?r.getAttributeNS(e.space,e.local):r.getAttribute(e)}return this.each((null==n?e.local?zt:Ft:"function"==typeof n?e.local?It:Pt:e.local?Ut:jt)(e,n))},style:function(t,n,e){return arguments.length>1?this.each((null==n?Bt:"function"==typeof n?Ht:Wt)(t,n,null==e?"":e)):Yt(this.node(),t)},property:function(t,n){return arguments.length>1?this.each((null==n?Vt:"function"==typeof n?Zt:Xt)(t,n)):this.node()[t]},classed:function(t,n){var e=Gt(t+"");if(arguments.length<2){for(var r=Qt(this.node()),i=-1,a=e.length;++i<a;)if(!r.contains(e[i]))return!1;return!0}return this.each(("function"==typeof n?rn:n?nn:en)(e,n))},text:function(t){return arguments.length?this.each(null==t?an:("function"==typeof t?cn:on)(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?fn:("function"==typeof t?ln:un)(t)):this.node().innerHTML},raise:function(){return this.each(sn)},lower:function(){return this.each(dn)},append:function(t){var n="function"==typeof t?t:gn(t);return this.select((function(){return this.appendChild(n.apply(this,arguments))}))},insert:function(t,n){var e="function"==typeof t?t:gn(t),r=null==n?mn:"function"==typeof n?n:mt(n);return this.select((function(){return this.insertBefore(e.apply(this,arguments),r.apply(this,arguments)||null)}))},remove:function(){return this.each(bn)},clone:function(t){return this.select(t?vn:yn)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,n,e){var r,i,a=function(t){return t.trim().split(/^|\s+/).map((function(t){var n="",e=t.indexOf(".");return e>=0&&(n=t.slice(e+1),t=t.slice(0,e)),{type:t,name:n}}))}(t+""),o=a.length;if(!(arguments.length<2)){for(c=n?xn:wn,r=0;r<o;++r)this.each(c(a[r],n,e));return this}var c=this.node().__on;if(c)for(var f,u=0,l=c.length;u<l;++u)for(r=0,f=c[u];r<o;++r)if((i=a[r]).type===f.type&&i.name===f.name)return f.value},dispatch:function(t,n){return this.each(("function"==typeof n?_n:kn)(t,n))},[Symbol.iterator]:function*(){for(var t=this._groups,n=0,e=t.length;n<e;++n)for(var r,i=t[n],a=0,o=i.length;a<o;++a)(r=i[a])&&(yield r)}};var Sn=Tn,En={value:()=>{}};function Nn(){for(var t,n=0,e=arguments.length,r={};n<e;++n){if(!(t=arguments[n]+"")||t in r||/[\s.]/.test(t))throw new Error("illegal type: "+t);r[t]=[]}return new Cn(r)}function Cn(t){this._=t}function Ln(t,n){for(var e,r=0,i=t.length;r<i;++r)if((e=t[r]).name===n)return e.value}function Dn(t,n,e){for(var r=0,i=t.length;r<i;++r)if(t[r].name===n){t[r]=En,t=t.slice(0,r).concat(t.slice(r+1));break}return null!=e&&t.push({name:n,value:e}),t}Cn.prototype=Nn.prototype={constructor:Cn,on:function(t,n){var e,r,i=this._,a=(r=i,(t+"").trim().split(/^|\s+/).map((function(t){var n="",e=t.indexOf(".");if(e>=0&&(n=t.slice(e+1),t=t.slice(0,e)),t&&!r.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:n}}))),o=-1,c=a.length;if(!(arguments.length<2)){if(null!=n&&"function"!=typeof n)throw new Error("invalid callback: "+n);for(;++o<c;)if(e=(t=a[o]).type)i[e]=Dn(i[e],t.name,n);else if(null==n)for(e in i)i[e]=Dn(i[e],t.name,null);return this}for(;++o<c;)if((e=(t=a[o]).type)&&(e=Ln(i[e],t.name)))return e},copy:function(){var t={},n=this._;for(var e in n)t[e]=n[e].slice();return new Cn(t)},call:function(t,n){if((e=arguments.length-2)>0)for(var e,r,i=new Array(e),a=0;a<e;++a)i[a]=arguments[a+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(a=0,e=(r=this._[t]).length;a<e;++a)r[a].value.apply(n,i)},apply:function(t,n,e){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,a=r.length;i<a;++i)r[i].value.apply(n,e)}};var On,Rn,Fn=Nn,zn=0,jn=0,Un=0,Pn=1e3,In=0,qn=0,Bn=0,Wn="object"==typeof performance&&performance.now?performance:Date,Hn="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function Yn(){return qn||(Hn(Vn),qn=Wn.now()+Bn)}function Vn(){qn=0}function Xn(){this._call=this._time=this._next=null}function Zn(t,n,e){var r=new Xn;return r.restart(t,n,e),r}function Gn(){qn=(In=Wn.now())+Bn,zn=jn=0;try{!function(){Yn(),++zn;for(var t,n=On;n;)(t=qn-n._time)>=0&&n._call.call(void 0,t),n=n._next;--zn}()}finally{zn=0,function(){var t,n,e=On,r=1/0;for(;e;)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:On=n);Rn=t,Jn(r)}(),qn=0}}function Qn(){var t=Wn.now(),n=t-In;n>Pn&&(Bn-=n,In=t)}function Jn(t){zn||(jn&&(jn=clearTimeout(jn)),t-qn>24?(t<1/0&&(jn=setTimeout(Gn,t-Wn.now()-Bn)),Un&&(Un=clearInterval(Un))):(Un||(In=Wn.now(),Un=setInterval(Qn,Pn)),zn=1,Hn(Gn)))}function Kn(t,n,e){var r=new Xn;return n=null==n?0:+n,r.restart((e=>{r.stop(),t(e+n)}),n,e),r}Xn.prototype=Zn.prototype={constructor:Xn,restart:function(t,n,e){if("function"!=typeof t)throw new TypeError("callback is not a function");e=(null==e?Yn():+e)+(null==n?0:+n),this._next||Rn===this||(Rn?Rn._next=this:On=this,Rn=this),this._call=t,this._time=e,Jn()},stop:function(){this._call&&(this._call=null,this._time=1/0,Jn())}};var te=Fn("start","end","cancel","interrupt"),ne=[],ee=0,re=1,ie=2,ae=3,oe=4,ce=5,fe=6;function ue(t,n,e,r,i,a){var o=t.__transition;if(o){if(e in o)return}else t.__transition={};!function(t,n,e){var r,i=t.__transition;function a(t){e.state=re,e.timer.restart(o,e.delay,e.time),e.delay<=t&&o(t-e.delay)}function o(a){var u,l,s,d;if(e.state!==re)return f();for(u in i)if((d=i[u]).name===e.name){if(d.state===ae)return Kn(o);d.state===oe?(d.state=fe,d.timer.stop(),d.on.call("interrupt",t,t.__data__,d.index,d.group),delete i[u]):+u<n&&(d.state=fe,d.timer.stop(),d.on.call("cancel",t,t.__data__,d.index,d.group),delete i[u])}if(Kn((function(){e.state===ae&&(e.state=oe,e.timer.restart(c,e.delay,e.time),c(a))})),e.state=ie,e.on.call("start",t,t.__data__,e.index,e.group),e.state===ie){for(e.state=ae,r=new Array(s=e.tween.length),u=0,l=-1;u<s;++u)(d=e.tween[u].value.call(t,t.__data__,e.index,e.group))&&(r[++l]=d);r.length=l+1}}function c(n){for(var i=n<e.duration?e.ease.call(null,n/e.duration):(e.timer.restart(f),e.state=ce,1),a=-1,o=r.length;++a<o;)r[a].call(t,i);e.state===ce&&(e.on.call("end",t,t.__data__,e.index,e.group),f())}function f(){for(var r in e.state=fe,e.timer.stop(),delete i[n],i)return;delete t.__transition}i[n]=e,e.timer=Zn(a,0,e.time)}(t,e,{name:n,index:r,group:i,on:te,tween:ne,time:a.time,delay:a.delay,duration:a.duration,ease:a.ease,timer:null,state:ee})}function le(t,n){var e=de(t,n);if(e.state>ee)throw new Error("too late; already scheduled");return e}function se(t,n){var e=de(t,n);if(e.state>ae)throw new Error("too late; already running");return e}function de(t,n){var e=t.__transition;if(!e||!(e=e[n]))throw new Error("transition not found");return e}function he(t,n){return t=+t,n=+n,function(e){return t*(1-e)+n*e}}var pe,ge=180/Math.PI,me={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function be(t,n,e,r,i,a){var o,c,f;return(o=Math.sqrt(t*t+n*n))&&(t/=o,n/=o),(f=t*e+n*r)&&(e-=t*f,r-=n*f),(c=Math.sqrt(e*e+r*r))&&(e/=c,r/=c,f/=c),t*r<n*e&&(t=-t,n=-n,f=-f,o=-o),{translateX:i,translateY:a,rotate:Math.atan2(n,t)*ge,skewX:Math.atan(f)*ge,scaleX:o,scaleY:c}}function ye(t,n,e,r){function i(t){return t.length?t.pop()+" ":""}return function(a,o){var c=[],f=[];return a=t(a),o=t(o),function(t,r,i,a,o,c){if(t!==i||r!==a){var f=o.push("translate(",null,n,null,e);c.push({i:f-4,x:he(t,i)},{i:f-2,x:he(r,a)})}else(i||a)&&o.push("translate("+i+n+a+e)}(a.translateX,a.translateY,o.translateX,o.translateY,c,f),function(t,n,e,a){t!==n?(t-n>180?n+=360:n-t>180&&(t+=360),a.push({i:e.push(i(e)+"rotate(",null,r)-2,x:he(t,n)})):n&&e.push(i(e)+"rotate("+n+r)}(a.rotate,o.rotate,c,f),function(t,n,e,a){t!==n?a.push({i:e.push(i(e)+"skewX(",null,r)-2,x:he(t,n)}):n&&e.push(i(e)+"skewX("+n+r)}(a.skewX,o.skewX,c,f),function(t,n,e,r,a,o){if(t!==e||n!==r){var c=a.push(i(a)+"scale(",null,",",null,")");o.push({i:c-4,x:he(t,e)},{i:c-2,x:he(n,r)})}else 1===e&&1===r||a.push(i(a)+"scale("+e+","+r+")")}(a.scaleX,a.scaleY,o.scaleX,o.scaleY,c,f),a=o=null,function(t){for(var n,e=-1,r=f.length;++e<r;)c[(n=f[e]).i]=n.x(t);return c.join("")}}}var ve=ye((function(t){const n=new("function"==typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(t+"");return n.isIdentity?me:be(n.a,n.b,n.c,n.d,n.e,n.f)}),"px, ","px)","deg)"),we=ye((function(t){return null==t?me:(pe||(pe=document.createElementNS("http://www.w3.org/2000/svg","g")),pe.setAttribute("transform",t),(t=pe.transform.baseVal.consolidate())?be((t=t.matrix).a,t.b,t.c,t.d,t.e,t.f):me)}),", ",")",")");function xe(t,n){var e,r;return function(){var i=se(this,t),a=i.tween;if(a!==e)for(var o=0,c=(r=e=a).length;o<c;++o)if(r[o].name===n){(r=r.slice()).splice(o,1);break}i.tween=r}}function Me(t,n,e){var r,i;if("function"!=typeof e)throw new Error;return function(){var a=se(this,t),o=a.tween;if(o!==r){i=(r=o).slice();for(var c={name:n,value:e},f=0,u=i.length;f<u;++f)if(i[f].name===n){i[f]=c;break}f===u&&i.push(c)}a.tween=i}}function ke(t,n,e){var r=t._id;return t.each((function(){var t=se(this,r);(t.value||(t.value={}))[n]=e.apply(this,arguments)})),function(t){return de(t,r).value[n]}}function _e(t,n,e){t.prototype=n.prototype=e,e.constructor=t}function $e(t,n){var e=Object.create(t.prototype);for(var r in n)e[r]=n[r];return e}function Ae(){}var Te=.7,Se=1/Te,Ee="\\s*([+-]?\\d+)\\s*",Ne="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ce="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Le=/^#([0-9a-f]{3,8})$/,De=new RegExp(`^rgb\\(${Ee},${Ee},${Ee}\\)$`),Oe=new RegExp(`^rgb\\(${Ce},${Ce},${Ce}\\)$`),Re=new RegExp(`^rgba\\(${Ee},${Ee},${Ee},${Ne}\\)$`),Fe=new RegExp(`^rgba\\(${Ce},${Ce},${Ce},${Ne}\\)$`),ze=new RegExp(`^hsl\\(${Ne},${Ce},${Ce}\\)$`),je=new RegExp(`^hsla\\(${Ne},${Ce},${Ce},${Ne}\\)$`),Ue={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function Pe(){return this.rgb().formatHex()}function Ie(){return this.rgb().formatRgb()}function qe(t){var n,e;return t=(t+"").trim().toLowerCase(),(n=Le.exec(t))?(e=n[1].length,n=parseInt(n[1],16),6===e?Be(n):3===e?new Ve(n>>8&15|n>>4&240,n>>4&15|240&n,(15&n)<<4|15&n,1):8===e?We(n>>24&255,n>>16&255,n>>8&255,(255&n)/255):4===e?We(n>>12&15|n>>8&240,n>>8&15|n>>4&240,n>>4&15|240&n,((15&n)<<4|15&n)/255):null):(n=De.exec(t))?new Ve(n[1],n[2],n[3],1):(n=Oe.exec(t))?new Ve(255*n[1]/100,255*n[2]/100,255*n[3]/100,1):(n=Re.exec(t))?We(n[1],n[2],n[3],n[4]):(n=Fe.exec(t))?We(255*n[1]/100,255*n[2]/100,255*n[3]/100,n[4]):(n=ze.exec(t))?Ke(n[1],n[2]/100,n[3]/100,1):(n=je.exec(t))?Ke(n[1],n[2]/100,n[3]/100,n[4]):Ue.hasOwnProperty(t)?Be(Ue[t]):"transparent"===t?new Ve(NaN,NaN,NaN,0):null}function Be(t){return new Ve(t>>16&255,t>>8&255,255&t,1)}function We(t,n,e,r){return r<=0&&(t=n=e=NaN),new Ve(t,n,e,r)}function He(t){return t instanceof Ae||(t=qe(t)),t?new Ve((t=t.rgb()).r,t.g,t.b,t.opacity):new Ve}function Ye(t,n,e,r){return 1===arguments.length?He(t):new Ve(t,n,e,null==r?1:r)}function Ve(t,n,e,r){this.r=+t,this.g=+n,this.b=+e,this.opacity=+r}function Xe(){return`#${Je(this.r)}${Je(this.g)}${Je(this.b)}`}function Ze(){const t=Ge(this.opacity);return`${1===t?"rgb(":"rgba("}${Qe(this.r)}, ${Qe(this.g)}, ${Qe(this.b)}${1===t?")":`, ${t})`}`}function Ge(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Qe(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Je(t){return((t=Qe(t))<16?"0":"")+t.toString(16)}function Ke(t,n,e,r){return r<=0?t=n=e=NaN:e<=0||e>=1?t=n=NaN:n<=0&&(t=NaN),new er(t,n,e,r)}function tr(t){if(t instanceof er)return new er(t.h,t.s,t.l,t.opacity);if(t instanceof Ae||(t=qe(t)),!t)return new er;if(t instanceof er)return t;var n=(t=t.rgb()).r/255,e=t.g/255,r=t.b/255,i=Math.min(n,e,r),a=Math.max(n,e,r),o=NaN,c=a-i,f=(a+i)/2;return c?(o=n===a?(e-r)/c+6*(e<r):e===a?(r-n)/c+2:(n-e)/c+4,c/=f<.5?a+i:2-a-i,o*=60):c=f>0&&f<1?0:o,new er(o,c,f,t.opacity)}function nr(t,n,e,r){return 1===arguments.length?tr(t):new er(t,n,e,null==r?1:r)}function er(t,n,e,r){this.h=+t,this.s=+n,this.l=+e,this.opacity=+r}function rr(t){return(t=(t||0)%360)<0?t+360:t}function ir(t){return Math.max(0,Math.min(1,t||0))}function ar(t,n,e){return 255*(t<60?n+(e-n)*t/60:t<180?e:t<240?n+(e-n)*(240-t)/60:n)}function or(t,n,e,r,i){var a=t*t,o=a*t;return((1-3*t+3*a-o)*n+(4-6*a+3*o)*e+(1+3*t+3*a-3*o)*r+o*i)/6}_e(Ae,qe,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:Pe,formatHex:Pe,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return tr(this).formatHsl()},formatRgb:Ie,toString:Ie}),_e(Ve,Ye,$e(Ae,{brighter(t){return t=null==t?Se:Math.pow(Se,t),new Ve(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=null==t?Te:Math.pow(Te,t),new Ve(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Ve(Qe(this.r),Qe(this.g),Qe(this.b),Ge(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Xe,formatHex:Xe,formatHex8:function(){return`#${Je(this.r)}${Je(this.g)}${Je(this.b)}${Je(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:Ze,toString:Ze})),_e(er,nr,$e(Ae,{brighter(t){return t=null==t?Se:Math.pow(Se,t),new er(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=null==t?Te:Math.pow(Te,t),new er(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+360*(this.h<0),n=isNaN(t)||isNaN(this.s)?0:this.s,e=this.l,r=e+(e<.5?e:1-e)*n,i=2*e-r;return new Ve(ar(t>=240?t-240:t+120,i,r),ar(t,i,r),ar(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new er(rr(this.h),ir(this.s),ir(this.l),Ge(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Ge(this.opacity);return`${1===t?"hsl(":"hsla("}${rr(this.h)}, ${100*ir(this.s)}%, ${100*ir(this.l)}%${1===t?")":`, ${t})`}`}}));var cr=t=>()=>t;function fr(t,n){return function(e){return t+e*n}}function ur(t,n){var e=n-t;return e?fr(t,e>180||e<-180?e-360*Math.round(e/360):e):cr(isNaN(t)?n:t)}function lr(t){return 1==(t=+t)?sr:function(n,e){return e-n?function(t,n,e){return t=Math.pow(t,e),n=Math.pow(n,e)-t,e=1/e,function(r){return Math.pow(t+r*n,e)}}(n,e,t):cr(isNaN(n)?e:n)}}function sr(t,n){var e=n-t;return e?fr(t,e):cr(isNaN(t)?n:t)}var dr=function t(n){var e=lr(n);function r(t,n){var r=e((t=Ye(t)).r,(n=Ye(n)).r),i=e(t.g,n.g),a=e(t.b,n.b),o=sr(t.opacity,n.opacity);return function(n){return t.r=r(n),t.g=i(n),t.b=a(n),t.opacity=o(n),t+""}}return r.gamma=t,r}(1);function hr(t){return function(n){var e,r,i=n.length,a=new Array(i),o=new Array(i),c=new Array(i);for(e=0;e<i;++e)r=Ye(n[e]),a[e]=r.r||0,o[e]=r.g||0,c[e]=r.b||0;return a=t(a),o=t(o),c=t(c),r.opacity=1,function(t){return r.r=a(t),r.g=o(t),r.b=c(t),r+""}}}var pr=hr((function(t){var n=t.length-1;return function(e){var r=e<=0?e=0:e>=1?(e=1,n-1):Math.floor(e*n),i=t[r],a=t[r+1],o=r>0?t[r-1]:2*i-a,c=r<n-1?t[r+2]:2*a-i;return or((e-r/n)*n,o,i,a,c)}})),gr=(hr((function(t){var n=t.length;return function(e){var r=Math.floor(((e%=1)<0?++e:e)*n),i=t[(r+n-1)%n],a=t[r%n],o=t[(r+1)%n],c=t[(r+2)%n];return or((e-r/n)*n,i,a,o,c)}})),/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g),mr=new RegExp(gr.source,"g");function br(t,n){var e,r,i,a=gr.lastIndex=mr.lastIndex=0,o=-1,c=[],f=[];for(t+="",n+="";(e=gr.exec(t))&&(r=mr.exec(n));)(i=r.index)>a&&(i=n.slice(a,i),c[o]?c[o]+=i:c[++o]=i),(e=e[0])===(r=r[0])?c[o]?c[o]+=r:c[++o]=r:(c[++o]=null,f.push({i:o,x:he(e,r)})),a=mr.lastIndex;return a<n.length&&(i=n.slice(a),c[o]?c[o]+=i:c[++o]=i),c.length<2?f[0]?function(t){return function(n){return t(n)+""}}(f[0].x):function(t){return function(){return t}}(n):(n=f.length,function(t){for(var e,r=0;r<n;++r)c[(e=f[r]).i]=e.x(t);return c.join("")})}function yr(t,n){var e;return("number"==typeof n?he:n instanceof qe?dr:(e=qe(n))?(n=e,dr):br)(t,n)}function vr(t){return function(){this.removeAttribute(t)}}function wr(t){return function(){this.removeAttributeNS(t.space,t.local)}}function xr(t,n,e){var r,i,a=e+"";return function(){var o=this.getAttribute(t);return o===a?null:o===r?i:i=n(r=o,e)}}function Mr(t,n,e){var r,i,a=e+"";return function(){var o=this.getAttributeNS(t.space,t.local);return o===a?null:o===r?i:i=n(r=o,e)}}function kr(t,n,e){var r,i,a;return function(){var o,c,f=e(this);if(null!=f)return(o=this.getAttribute(t))===(c=f+"")?null:o===r&&c===i?a:(i=c,a=n(r=o,f));this.removeAttribute(t)}}function _r(t,n,e){var r,i,a;return function(){var o,c,f=e(this);if(null!=f)return(o=this.getAttributeNS(t.space,t.local))===(c=f+"")?null:o===r&&c===i?a:(i=c,a=n(r=o,f));this.removeAttributeNS(t.space,t.local)}}function $r(t,n){var e,r;function i(){var i=n.apply(this,arguments);return i!==r&&(e=(r=i)&&function(t,n){return function(e){this.setAttributeNS(t.space,t.local,n.call(this,e))}}(t,i)),e}return i._value=n,i}function Ar(t,n){var e,r;function i(){var i=n.apply(this,arguments);return i!==r&&(e=(r=i)&&function(t,n){return function(e){this.setAttribute(t,n.call(this,e))}}(t,i)),e}return i._value=n,i}function Tr(t,n){return function(){le(this,t).delay=+n.apply(this,arguments)}}function Sr(t,n){return n=+n,function(){le(this,t).delay=n}}function Er(t,n){return function(){se(this,t).duration=+n.apply(this,arguments)}}function Nr(t,n){return n=+n,function(){se(this,t).duration=n}}var Cr=Sn.prototype.constructor;function Lr(t){return function(){this.style.removeProperty(t)}}var Dr=0;function Or(t,n,e,r){this._groups=t,this._parents=n,this._name=e,this._id=r}function Rr(){return++Dr}var Fr=Sn.prototype;Or.prototype=function(t){return Sn().transition(t)}.prototype={constructor:Or,select:function(t){var n=this._name,e=this._id;"function"!=typeof t&&(t=mt(t));for(var r=this._groups,i=r.length,a=new Array(i),o=0;o<i;++o)for(var c,f,u=r[o],l=u.length,s=a[o]=new Array(l),d=0;d<l;++d)(c=u[d])&&(f=t.call(c,c.__data__,d,u))&&("__data__"in c&&(f.__data__=c.__data__),s[d]=f,ue(s[d],n,e,d,s,de(c,e)));return new Or(a,this._parents,n,e)},selectAll:function(t){var n=this._name,e=this._id;"function"!=typeof t&&(t=yt(t));for(var r=this._groups,i=r.length,a=[],o=[],c=0;c<i;++c)for(var f,u=r[c],l=u.length,s=0;s<l;++s)if(f=u[s]){for(var d,h=t.call(f,f.__data__,s,u),p=de(f,e),g=0,m=h.length;g<m;++g)(d=h[g])&&ue(d,n,e,g,h,p);a.push(h),o.push(f)}return new Or(a,o,n,e)},selectChild:Fr.selectChild,selectChildren:Fr.selectChildren,filter:function(t){"function"!=typeof t&&(t=wt(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var a,o=n[i],c=o.length,f=r[i]=[],u=0;u<c;++u)(a=o[u])&&t.call(a,a.__data__,u,o)&&f.push(a);return new Or(r,this._parents,this._name,this._id)},merge:function(t){if(t._id!==this._id)throw new Error;for(var n=this._groups,e=t._groups,r=n.length,i=e.length,a=Math.min(r,i),o=new Array(r),c=0;c<a;++c)for(var f,u=n[c],l=e[c],s=u.length,d=o[c]=new Array(s),h=0;h<s;++h)(f=u[h]||l[h])&&(d[h]=f);for(;c<r;++c)o[c]=n[c];return new Or(o,this._parents,this._name,this._id)},selection:function(){return new Cr(this._groups,this._parents)},transition:function(){for(var t=this._name,n=this._id,e=Rr(),r=this._groups,i=r.length,a=0;a<i;++a)for(var o,c=r[a],f=c.length,u=0;u<f;++u)if(o=c[u]){var l=de(o,n);ue(o,t,e,u,c,{time:l.time+l.delay+l.duration,delay:0,duration:l.duration,ease:l.ease})}return new Or(r,this._parents,t,e)},call:Fr.call,nodes:Fr.nodes,node:Fr.node,size:Fr.size,empty:Fr.empty,each:Fr.each,on:function(t,n){var e=this._id;return arguments.length<2?de(this.node(),e).on.on(t):this.each(function(t,n,e){var r,i,a=function(t){return(t+"").trim().split(/^|\s+/).every((function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||"start"===t}))}(n)?le:se;return function(){var o=a(this,t),c=o.on;c!==r&&(i=(r=c).copy()).on(n,e),o.on=i}}(e,t,n))},attr:function(t,n){var e=Rt(t),r="transform"===e?we:yr;return this.attrTween(t,"function"==typeof n?(e.local?_r:kr)(e,r,ke(this,"attr."+t,n)):null==n?(e.local?wr:vr)(e):(e.local?Mr:xr)(e,r,n))},attrTween:function(t,n){var e="attr."+t;if(arguments.length<2)return(e=this.tween(e))&&e._value;if(null==n)return this.tween(e,null);if("function"!=typeof n)throw new Error;var r=Rt(t);return this.tween(e,(r.local?$r:Ar)(r,n))},style:function(t,n,e){var r="transform"==(t+="")?ve:yr;return null==n?this.styleTween(t,function(t,n){var e,r,i;return function(){var a=Yt(this,t),o=(this.style.removeProperty(t),Yt(this,t));return a===o?null:a===e&&o===r?i:i=n(e=a,r=o)}}(t,r)).on("end.style."+t,Lr(t)):"function"==typeof n?this.styleTween(t,function(t,n,e){var r,i,a;return function(){var o=Yt(this,t),c=e(this),f=c+"";return null==c&&(this.style.removeProperty(t),f=c=Yt(this,t)),o===f?null:o===r&&f===i?a:(i=f,a=n(r=o,c))}}(t,r,ke(this,"style."+t,n))).each(function(t,n){var e,r,i,a,o="style."+n,c="end."+o;return function(){var f=se(this,t),u=f.on,l=null==f.value[o]?a||(a=Lr(n)):void 0;u===e&&i===l||(r=(e=u).copy()).on(c,i=l),f.on=r}}(this._id,t)):this.styleTween(t,function(t,n,e){var r,i,a=e+"";return function(){var o=Yt(this,t);return o===a?null:o===r?i:i=n(r=o,e)}}(t,r,n),e).on("end.style."+t,null)},styleTween:function(t,n,e){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==n)return this.tween(r,null);if("function"!=typeof n)throw new Error;return this.tween(r,function(t,n,e){var r,i;function a(){var a=n.apply(this,arguments);return a!==i&&(r=(i=a)&&function(t,n,e){return function(r){this.style.setProperty(t,n.call(this,r),e)}}(t,a,e)),r}return a._value=n,a}(t,n,null==e?"":e))},text:function(t){return this.tween("text","function"==typeof t?function(t){return function(){var n=t(this);this.textContent=null==n?"":n}}(ke(this,"text",t)):function(t){return function(){this.textContent=t}}(null==t?"":t+""))},textTween:function(t){var n="text";if(arguments.length<1)return(n=this.tween(n))&&n._value;if(null==t)return this.tween(n,null);if("function"!=typeof t)throw new Error;return this.tween(n,function(t){var n,e;function r(){var r=t.apply(this,arguments);return r!==e&&(n=(e=r)&&function(t){return function(n){this.textContent=t.call(this,n)}}(r)),n}return r._value=t,r}(t))},remove:function(){return this.on("end.remove",function(t){return function(){var n=this.parentNode;for(var e in this.__transition)if(+e!==t)return;n&&n.removeChild(this)}}(this._id))},tween:function(t,n){var e=this._id;if(t+="",arguments.length<2){for(var r,i=de(this.node(),e).tween,a=0,o=i.length;a<o;++a)if((r=i[a]).name===t)return r.value;return null}return this.each((null==n?xe:Me)(e,t,n))},delay:function(t){var n=this._id;return arguments.length?this.each(("function"==typeof t?Tr:Sr)(n,t)):de(this.node(),n).delay},duration:function(t){var n=this._id;return arguments.length?this.each(("function"==typeof t?Er:Nr)(n,t)):de(this.node(),n).duration},ease:function(t){var n=this._id;return arguments.length?this.each(function(t,n){if("function"!=typeof n)throw new Error;return function(){se(this,t).ease=n}}(n,t)):de(this.node(),n).ease},easeVarying:function(t){if("function"!=typeof t)throw new Error;return this.each(function(t,n){return function(){var e=n.apply(this,arguments);if("function"!=typeof e)throw new Error;se(this,t).ease=e}}(this._id,t))},end:function(){var t,n,e=this,r=e._id,i=e.size();return new Promise((function(a,o){var c={value:o},f={value:function(){0==--i&&a()}};e.each((function(){var e=se(this,r),i=e.on;i!==t&&((n=(t=i).copy())._.cancel.push(c),n._.interrupt.push(c),n._.end.push(f)),e.on=n})),0===i&&a()}))},[Symbol.iterator]:Fr[Symbol.iterator]};var zr={time:null,delay:0,duration:250,ease:function(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}};function jr(t,n){for(var e;!(e=t.__transition)||!(e=e[n]);)if(!(t=t.parentNode))throw new Error(`transition ${n} not found`);return e}Sn.prototype.interrupt=function(t){return this.each((function(){!function(t,n){var e,r,i,a=t.__transition,o=!0;if(a){for(i in n=null==n?null:n+"",a)(e=a[i]).name===n?(r=e.state>ie&&e.state<ce,e.state=fe,e.timer.stop(),e.on.call(r?"interrupt":"cancel",t,t.__data__,e.index,e.group),delete a[i]):o=!1;o&&delete t.__transition}}(this,t)}))},Sn.prototype.transition=function(t){var n,e;t instanceof Or?(n=t._id,t=t._name):(n=Rr(),(e=zr).time=Yn(),t=null==t?null:t+"");for(var r=this._groups,i=r.length,a=0;a<i;++a)for(var o,c=r[a],f=c.length,u=0;u<f;++u)(o=c[u])&&ue(o,t,n,u,c,e||jr(o,n));return new Or(r,this._parents,t,n)};const{abs:Ur,max:Pr,min:Ir}=Math;function qr(t){return[+t[0],+t[1]]}function Br(t){return[qr(t[0]),qr(t[1])]}["w","e"].map(Wr),["n","s"].map(Wr),["n","w","e","s","nw","ne","sw","se"].map(Wr);function Wr(t){return{type:t}}function Hr(t,n){if((e=(t=n?t.toExponential(n-1):t.toExponential()).indexOf("e"))<0)return null;var e,r=t.slice(0,e);return[r.length>1?r[0]+r.slice(2):r,+t.slice(e+1)]}function Yr(t){return(t=Hr(Math.abs(t)))?t[1]:NaN}var Vr,Xr=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Zr(t){if(!(n=Xr.exec(t)))throw new Error("invalid format: "+t);var n;return new Gr({fill:n[1],align:n[2],sign:n[3],symbol:n[4],zero:n[5],width:n[6],comma:n[7],precision:n[8]&&n[8].slice(1),trim:n[9],type:n[10]})}function Gr(t){this.fill=void 0===t.fill?" ":t.fill+"",this.align=void 0===t.align?">":t.align+"",this.sign=void 0===t.sign?"-":t.sign+"",this.symbol=void 0===t.symbol?"":t.symbol+"",this.zero=!!t.zero,this.width=void 0===t.width?void 0:+t.width,this.comma=!!t.comma,this.precision=void 0===t.precision?void 0:+t.precision,this.trim=!!t.trim,this.type=void 0===t.type?"":t.type+""}function Qr(t,n){var e=Hr(t,n);if(!e)return t+"";var r=e[0],i=e[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}Zr.prototype=Gr.prototype,Gr.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var Jr={"%":(t,n)=>(100*t).toFixed(n),b:t=>Math.round(t).toString(2),c:t=>t+"",d:function(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)},e:(t,n)=>t.toExponential(n),f:(t,n)=>t.toFixed(n),g:(t,n)=>t.toPrecision(n),o:t=>Math.round(t).toString(8),p:(t,n)=>Qr(100*t,n),r:Qr,s:function(t,n){var e=Hr(t,n);if(!e)return t+"";var r=e[0],i=e[1],a=i-(Vr=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,o=r.length;return a===o?r:a>o?r+new Array(a-o+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+Hr(t,Math.max(0,n+a-1))[0]},X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function Kr(t){return t}var ti,ni,ei,ri=Array.prototype.map,ii=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function ai(t){var n,e,r=void 0===t.grouping||void 0===t.thousands?Kr:(n=ri.call(t.grouping,Number),e=t.thousands+"",function(t,r){for(var i=t.length,a=[],o=0,c=n[0],f=0;i>0&&c>0&&(f+c+1>r&&(c=Math.max(1,r-f)),a.push(t.substring(i-=c,i+c)),!((f+=c+1)>r));)c=n[o=(o+1)%n.length];return a.reverse().join(e)}),i=void 0===t.currency?"":t.currency[0]+"",a=void 0===t.currency?"":t.currency[1]+"",o=void 0===t.decimal?".":t.decimal+"",c=void 0===t.numerals?Kr:function(t){return function(n){return n.replace(/[0-9]/g,(function(n){return t[+n]}))}}(ri.call(t.numerals,String)),f=void 0===t.percent?"%":t.percent+"",u=void 0===t.minus?"−":t.minus+"",l=void 0===t.nan?"NaN":t.nan+"";function s(t){var n=(t=Zr(t)).fill,e=t.align,s=t.sign,d=t.symbol,h=t.zero,p=t.width,g=t.comma,m=t.precision,b=t.trim,y=t.type;"n"===y?(g=!0,y="g"):Jr[y]||(void 0===m&&(m=12),b=!0,y="g"),(h||"0"===n&&"="===e)&&(h=!0,n="0",e="=");var v="$"===d?i:"#"===d&&/[boxX]/.test(y)?"0"+y.toLowerCase():"",w="$"===d?a:/[%p]/.test(y)?f:"",x=Jr[y],M=/[defgprs%]/.test(y);function k(t){var i,a,f,d=v,k=w;if("c"===y)k=x(t)+k,t="";else{var _=(t=+t)<0||1/t<0;if(t=isNaN(t)?l:x(Math.abs(t),m),b&&(t=function(t){t:for(var n,e=t.length,r=1,i=-1;r<e;++r)switch(t[r]){case".":i=n=r;break;case"0":0===i&&(i=r),n=r;break;default:if(!+t[r])break t;i>0&&(i=0)}return i>0?t.slice(0,i)+t.slice(n+1):t}(t)),_&&0==+t&&"+"!==s&&(_=!1),d=(_?"("===s?s:u:"-"===s||"("===s?"":s)+d,k=("s"===y?ii[8+Vr/3]:"")+k+(_&&"("===s?")":""),M)for(i=-1,a=t.length;++i<a;)if(48>(f=t.charCodeAt(i))||f>57){k=(46===f?o+t.slice(i+1):t.slice(i))+k,t=t.slice(0,i);break}}g&&!h&&(t=r(t,1/0));var $=d.length+t.length+k.length,A=$<p?new Array(p-$+1).join(n):"";switch(g&&h&&(t=r(A+t,A.length?p-k.length:1/0),A=""),e){case"<":t=d+t+k+A;break;case"=":t=d+A+t+k;break;case"^":t=A.slice(0,$=A.length>>1)+d+t+k+A.slice($);break;default:t=A+d+t+k}return c(t)}return m=void 0===m?6:/[gprs]/.test(y)?Math.max(1,Math.min(21,m)):Math.max(0,Math.min(20,m)),k.toString=function(){return t+""},k}return{format:s,formatPrefix:function(t,n){var e=s(((t=Zr(t)).type="f",t)),r=3*Math.max(-8,Math.min(8,Math.floor(Yr(n)/3))),i=Math.pow(10,-r),a=ii[8+r/3];return function(t){return e(i*t)+a}}}}ti=ai({thousands:",",grouping:[3],currency:["$",""]}),ni=ti.format,ei=ti.formatPrefix;var oi=1e-6,ci=1e-12,fi=Math.PI,ui=fi/2,li=fi/4,si=2*fi,di=180/fi,hi=fi/180,pi=Math.abs,gi=Math.atan,mi=Math.atan2,bi=Math.cos,yi=(Math.ceil,Math.exp),vi=(Math.floor,Math.hypot,Math.log),wi=Math.pow,xi=Math.sin,Mi=Math.sign||function(t){return t>0?1:t<0?-1:0},ki=Math.sqrt,_i=Math.tan;function $i(t){return t>1?0:t<-1?fi:Math.acos(t)}function Ai(t){return t>1?ui:t<-1?-ui:Math.asin(t)}function Ti(){}function Si(){var t,n=[];return{point:function(n,e,r){t.push([n,e,r])},lineStart:function(){n.push(t=[])},lineEnd:Ti,rejoin:function(){n.length>1&&n.push(n.pop().concat(n.shift()))},result:function(){var e=n;return n=[],t=null,e}}}function Ei(t,n){return pi(t[0]-n[0])<oi&&pi(t[1]-n[1])<oi}function Ni(t,n,e,r){this.x=t,this.z=n,this.o=e,this.e=r,this.v=!1,this.n=this.p=null}function Ci(t,n,e,r,i){var a,o,c=[],f=[];if(t.forEach((function(t){if(!((n=t.length-1)<=0)){var n,e,r=t[0],o=t[n];if(Ei(r,o)){if(!r[2]&&!o[2]){for(i.lineStart(),a=0;a<n;++a)i.point((r=t[a])[0],r[1]);return void i.lineEnd()}o[0]+=2*oi}c.push(e=new Ni(r,t,null,!0)),f.push(e.o=new Ni(r,null,e,!1)),c.push(e=new Ni(o,t,null,!1)),f.push(e.o=new Ni(o,null,e,!0))}})),c.length){for(f.sort(n),Li(c),Li(f),a=0,o=f.length;a<o;++a)f[a].e=e=!e;for(var u,l,s=c[0];;){for(var d=s,h=!0;d.v;)if((d=d.n)===s)return;u=d.z,i.lineStart();do{if(d.v=d.o.v=!0,d.e){if(h)for(a=0,o=u.length;a<o;++a)i.point((l=u[a])[0],l[1]);else r(d.x,d.n.x,1,i);d=d.n}else{if(h)for(u=d.p.z,a=u.length-1;a>=0;--a)i.point((l=u[a])[0],l[1]);else r(d.x,d.p.x,-1,i);d=d.p}u=(d=d.o).z,h=!h}while(!d.v);i.lineEnd()}}}function Li(t){if(n=t.length){for(var n,e,r=0,i=t[0];++r<n;)i.n=e=t[r],e.p=i,i=e;i.n=e=t[0],e.p=i}}function Di(t){return Array.from(function*(t){for(const n of t)yield*n}(t))}var Oi=1e9,Ri=-Oi;function Fi(t,n,e,r){function i(i,a){return t<=i&&i<=e&&n<=a&&a<=r}function a(i,a,c,u){var l=0,s=0;if(null==i||(l=o(i,c))!==(s=o(a,c))||f(i,a)<0^c>0)do{u.point(0===l||3===l?t:e,l>1?r:n)}while((l=(l+c+4)%4)!==s);else u.point(a[0],a[1])}function o(r,i){return pi(r[0]-t)<oi?i>0?0:3:pi(r[0]-e)<oi?i>0?2:1:pi(r[1]-n)<oi?i>0?1:0:i>0?3:2}function c(t,n){return f(t.x,n.x)}function f(t,n){var e=o(t,1),r=o(n,1);return e!==r?e-r:0===e?n[1]-t[1]:1===e?t[0]-n[0]:2===e?t[1]-n[1]:n[0]-t[0]}return function(o){var f,u,l,s,d,h,p,g,m,b,y,v=o,w=Si(),x={point:M,lineStart:function(){x.point=k,u&&u.push(l=[]);b=!0,m=!1,p=g=NaN},lineEnd:function(){f&&(k(s,d),h&&m&&w.rejoin(),f.push(w.result()));x.point=M,m&&v.lineEnd()},polygonStart:function(){v=w,f=[],u=[],y=!0},polygonEnd:function(){var n=function(){for(var n=0,e=0,i=u.length;e<i;++e)for(var a,o,c=u[e],f=1,l=c.length,s=c[0],d=s[0],h=s[1];f<l;++f)a=d,o=h,d=(s=c[f])[0],h=s[1],o<=r?h>r&&(d-a)*(r-o)>(h-o)*(t-a)&&++n:h<=r&&(d-a)*(r-o)<(h-o)*(t-a)&&--n;return n}(),e=y&&n,i=(f=Di(f)).length;(e||i)&&(o.polygonStart(),e&&(o.lineStart(),a(null,null,1,o),o.lineEnd()),i&&Ci(f,c,n,a,o),o.polygonEnd());v=o,f=u=l=null}};function M(t,n){i(t,n)&&v.point(t,n)}function k(a,o){var c=i(a,o);if(u&&l.push([a,o]),b)s=a,d=o,h=c,b=!1,c&&(v.lineStart(),v.point(a,o));else if(c&&m)v.point(a,o);else{var f=[p=Math.max(Ri,Math.min(Oi,p)),g=Math.max(Ri,Math.min(Oi,g))],w=[a=Math.max(Ri,Math.min(Oi,a)),o=Math.max(Ri,Math.min(Oi,o))];!function(t,n,e,r,i,a){var o,c=t[0],f=t[1],u=0,l=1,s=n[0]-c,d=n[1]-f;if(o=e-c,s||!(o>0)){if(o/=s,s<0){if(o<u)return;o<l&&(l=o)}else if(s>0){if(o>l)return;o>u&&(u=o)}if(o=i-c,s||!(o<0)){if(o/=s,s<0){if(o>l)return;o>u&&(u=o)}else if(s>0){if(o<u)return;o<l&&(l=o)}if(o=r-f,d||!(o>0)){if(o/=d,d<0){if(o<u)return;o<l&&(l=o)}else if(d>0){if(o>l)return;o>u&&(u=o)}if(o=a-f,d||!(o<0)){if(o/=d,d<0){if(o>l)return;o>u&&(u=o)}else if(d>0){if(o<u)return;o<l&&(l=o)}return u>0&&(t[0]=c+u*s,t[1]=f+u*d),l<1&&(n[0]=c+l*s,n[1]=f+l*d),!0}}}}}(f,w,t,n,e,r)?c&&(v.lineStart(),v.point(a,o),y=!1):(m||(v.lineStart(),v.point(f[0],f[1])),v.point(w[0],w[1]),c||v.lineEnd(),y=!1)}p=a,g=o,m=c}return x}}var zi=t=>t;function ji(t,n){t&&Pi.hasOwnProperty(t.type)&&Pi[t.type](t,n)}var Ui={Feature:function(t,n){ji(t.geometry,n)},FeatureCollection:function(t,n){for(var e=t.features,r=-1,i=e.length;++r<i;)ji(e[r].geometry,n)}},Pi={Sphere:function(t,n){n.sphere()},Point:function(t,n){t=t.coordinates,n.point(t[0],t[1],t[2])},MultiPoint:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)t=e[r],n.point(t[0],t[1],t[2])},LineString:function(t,n){Ii(t.coordinates,n,0)},MultiLineString:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)Ii(e[r],n,0)},Polygon:function(t,n){qi(t.coordinates,n)},MultiPolygon:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)qi(e[r],n)},GeometryCollection:function(t,n){for(var e=t.geometries,r=-1,i=e.length;++r<i;)ji(e[r],n)}};function Ii(t,n,e){var r,i=-1,a=t.length-e;for(n.lineStart();++i<a;)r=t[i],n.point(r[0],r[1],r[2]);n.lineEnd()}function qi(t,n){var e=-1,r=t.length;for(n.polygonStart();++e<r;)Ii(t[e],n,1);n.polygonEnd()}function Bi(t,n){t&&Ui.hasOwnProperty(t.type)?Ui[t.type](t,n):ji(t,n)}class Wi{constructor(){this._partials=new Float64Array(32),this._n=0}add(t){const n=this._partials;let e=0;for(let r=0;r<this._n&&r<32;r++){const i=n[r],a=t+i,o=Math.abs(t)<Math.abs(i)?t-(a-i):i-(a-t);o&&(n[e++]=o),t=a}return n[e]=t,this._n=e+1,this}valueOf(){const t=this._partials;let n,e,r,i=this._n,a=0;if(i>0){for(a=t[--i];i>0&&(n=a,e=t[--i],a=n+e,r=e-(a-n),!r););i>0&&(r<0&&t[i-1]<0||r>0&&t[i-1]>0)&&(e=2*r,n=a+e,e==n-a&&(a=n))}return a}}var Hi,Yi,Vi,Xi,Zi=new Wi,Gi=new Wi,Qi={point:Ti,lineStart:Ti,lineEnd:Ti,polygonStart:function(){Qi.lineStart=Ji,Qi.lineEnd=na},polygonEnd:function(){Qi.lineStart=Qi.lineEnd=Qi.point=Ti,Zi.add(pi(Gi)),Gi=new Wi},result:function(){var t=Zi/2;return Zi=new Wi,t}};function Ji(){Qi.point=Ki}function Ki(t,n){Qi.point=ta,Hi=Vi=t,Yi=Xi=n}function ta(t,n){Gi.add(Xi*t-Vi*n),Vi=t,Xi=n}function na(){ta(Hi,Yi)}var ea=Qi,ra=1/0,ia=ra,aa=-ra,oa=aa,ca={point:function(t,n){t<ra&&(ra=t);t>aa&&(aa=t);n<ia&&(ia=n);n>oa&&(oa=n)},lineStart:Ti,lineEnd:Ti,polygonStart:Ti,polygonEnd:Ti,result:function(){var t=[[ra,ia],[aa,oa]];return aa=oa=-(ia=ra=1/0),t}};var fa,ua,la,sa,da=ca,ha=0,pa=0,ga=0,ma=0,ba=0,ya=0,va=0,wa=0,xa=0,Ma={point:ka,lineStart:_a,lineEnd:Ta,polygonStart:function(){Ma.lineStart=Sa,Ma.lineEnd=Ea},polygonEnd:function(){Ma.point=ka,Ma.lineStart=_a,Ma.lineEnd=Ta},result:function(){var t=xa?[va/xa,wa/xa]:ya?[ma/ya,ba/ya]:ga?[ha/ga,pa/ga]:[NaN,NaN];return ha=pa=ga=ma=ba=ya=va=wa=xa=0,t}};function ka(t,n){ha+=t,pa+=n,++ga}function _a(){Ma.point=$a}function $a(t,n){Ma.point=Aa,ka(la=t,sa=n)}function Aa(t,n){var e=t-la,r=n-sa,i=ki(e*e+r*r);ma+=i*(la+t)/2,ba+=i*(sa+n)/2,ya+=i,ka(la=t,sa=n)}function Ta(){Ma.point=ka}function Sa(){Ma.point=Na}function Ea(){Ca(fa,ua)}function Na(t,n){Ma.point=Ca,ka(fa=la=t,ua=sa=n)}function Ca(t,n){var e=t-la,r=n-sa,i=ki(e*e+r*r);ma+=i*(la+t)/2,ba+=i*(sa+n)/2,ya+=i,va+=(i=sa*t-la*n)*(la+t),wa+=i*(sa+n),xa+=3*i,ka(la=t,sa=n)}var La=Ma;function Da(t){this._context=t}Da.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath(),this._point=NaN},point:function(t,n){switch(this._point){case 0:this._context.moveTo(t,n),this._point=1;break;case 1:this._context.lineTo(t,n);break;default:this._context.moveTo(t+this._radius,n),this._context.arc(t,n,this._radius,0,si)}},result:Ti};var Oa,Ra,Fa,za,ja,Ua=new Wi,Pa={point:Ti,lineStart:function(){Pa.point=Ia},lineEnd:function(){Oa&&qa(Ra,Fa),Pa.point=Ti},polygonStart:function(){Oa=!0},polygonEnd:function(){Oa=null},result:function(){var t=+Ua;return Ua=new Wi,t}};function Ia(t,n){Pa.point=qa,Ra=za=t,Fa=ja=n}function qa(t,n){za-=t,ja-=n,Ua.add(ki(za*za+ja*ja)),za=t,ja=n}var Ba=Pa;let Wa,Ha,Ya,Va;class Xa{constructor(t){this._append=null==t?Za:function(t){const n=Math.floor(t);if(!(n>=0))throw new RangeError(`invalid digits: ${t}`);if(n>15)return Za;if(n!==Wa){const t=10**n;Wa=n,Ha=function(n){let e=1;this._+=n[0];for(const r=n.length;e<r;++e)this._+=Math.round(arguments[e]*t)/t+n[e]}}return Ha}(t),this._radius=4.5,this._=""}pointRadius(t){return this._radius=+t,this}polygonStart(){this._line=0}polygonEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){0===this._line&&(this._+="Z"),this._point=NaN}point(t,n){switch(this._point){case 0:this._append`M${t},${n}`,this._point=1;break;case 1:this._append`L${t},${n}`;break;default:if(this._append`M${t},${n}`,this._radius!==Ya||this._append!==Ha){const t=this._radius,n=this._;this._="",this._append`m0,${t}a${t},${t} 0 1,1 0,${-2*t}a${t},${t} 0 1,1 0,${2*t}z`,Ya=t,Ha=this._append,Va=this._,this._=n}this._+=Va}}result(){const t=this._;return this._="",t.length?t:null}}function Za(t){let n=1;this._+=t[0];for(const e=t.length;n<e;++n)this._+=arguments[n]+t[n]}function Ga(t,n){let e,r,i=3,a=4.5;function o(t){return t&&("function"==typeof a&&r.pointRadius(+a.apply(this,arguments)),Bi(t,e(r))),r.result()}return o.area=function(t){return Bi(t,e(ea)),ea.result()},o.measure=function(t){return Bi(t,e(Ba)),Ba.result()},o.bounds=function(t){return Bi(t,e(da)),da.result()},o.centroid=function(t){return Bi(t,e(La)),La.result()},o.projection=function(n){return arguments.length?(e=null==n?(t=null,zi):(t=n).stream,o):t},o.context=function(t){return arguments.length?(r=null==t?(n=null,new Xa(i)):new Da(n=t),"function"!=typeof a&&r.pointRadius(a),o):n},o.pointRadius=function(t){return arguments.length?(a="function"==typeof t?t:(r.pointRadius(+t),+t),o):a},o.digits=function(t){if(!arguments.length)return i;if(null==t)i=null;else{const n=Math.floor(t);if(!(n>=0))throw new RangeError(`invalid digits: ${t}`);i=n}return null===n&&(r=new Xa(i)),o},o.projection(t).digits(i).context(n)}function Qa(t){return[mi(t[1],t[0]),Ai(t[2])]}function Ja(t){var n=t[0],e=t[1],r=bi(e);return[r*bi(n),r*xi(n),xi(e)]}function Ka(t,n){return t[0]*n[0]+t[1]*n[1]+t[2]*n[2]}function to(t,n){return[t[1]*n[2]-t[2]*n[1],t[2]*n[0]-t[0]*n[2],t[0]*n[1]-t[1]*n[0]]}function no(t,n){t[0]+=n[0],t[1]+=n[1],t[2]+=n[2]}function eo(t,n){return[t[0]*n,t[1]*n,t[2]*n]}function ro(t){var n=ki(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=n,t[1]/=n,t[2]/=n}function io(t){return pi(t[0])<=fi?t[0]:Mi(t[0])*((pi(t[0])+fi)%si-fi)}function ao(t,n,e,r){return function(i){var a,o,c,f=n(i),u=Si(),l=n(u),s=!1,d={point:h,lineStart:g,lineEnd:m,polygonStart:function(){d.point=b,d.lineStart=y,d.lineEnd=v,o=[],a=[]},polygonEnd:function(){d.point=h,d.lineStart=g,d.lineEnd=m,o=Di(o);var t=function(t,n){var e=io(n),r=n[1],i=xi(r),a=[xi(e),-bi(e),0],o=0,c=0,f=new Wi;1===i?r=ui+oi:-1===i&&(r=-ui-oi);for(var u=0,l=t.length;u<l;++u)if(d=(s=t[u]).length)for(var s,d,h=s[d-1],p=io(h),g=h[1]/2+li,m=xi(g),b=bi(g),y=0;y<d;++y,p=w,m=M,b=k,h=v){var v=s[y],w=io(v),x=v[1]/2+li,M=xi(x),k=bi(x),_=w-p,$=_>=0?1:-1,A=$*_,T=A>fi,S=m*M;if(f.add(mi(S*$*xi(A),b*k+S*bi(A))),o+=T?_+$*si:_,T^p>=e^w>=e){var E=to(Ja(h),Ja(v));ro(E);var N=to(a,E);ro(N);var C=(T^_>=0?-1:1)*Ai(N[2]);(r>C||r===C&&(E[0]||E[1]))&&(c+=T^_>=0?1:-1)}}return(o<-oi||o<oi&&f<-ci)^1&c}(a,r);o.length?(s||(i.polygonStart(),s=!0),Ci(o,co,t,e,i)):t&&(s||(i.polygonStart(),s=!0),i.lineStart(),e(null,null,1,i),i.lineEnd()),s&&(i.polygonEnd(),s=!1),o=a=null},sphere:function(){i.polygonStart(),i.lineStart(),e(null,null,1,i),i.lineEnd(),i.polygonEnd()}};function h(n,e){t(n,e)&&i.point(n,e)}function p(t,n){f.point(t,n)}function g(){d.point=p,f.lineStart()}function m(){d.point=h,f.lineEnd()}function b(t,n){c.push([t,n]),l.point(t,n)}function y(){l.lineStart(),c=[]}function v(){b(c[0][0],c[0][1]),l.lineEnd();var t,n,e,r,f=l.clean(),d=u.result(),h=d.length;if(c.pop(),a.push(c),c=null,h)if(1&f){if((n=(e=d[0]).length-1)>0){for(s||(i.polygonStart(),s=!0),i.lineStart(),t=0;t<n;++t)i.point((r=e[t])[0],r[1]);i.lineEnd()}}else h>1&&2&f&&d.push(d.pop().concat(d.shift())),o.push(d.filter(oo))}return d}}function oo(t){return t.length>1}function co(t,n){return((t=t.x)[0]<0?t[1]-ui-oi:ui-t[1])-((n=n.x)[0]<0?n[1]-ui-oi:ui-n[1])}var fo=ao((function(){return!0}),(function(t){var n,e=NaN,r=NaN,i=NaN;return{lineStart:function(){t.lineStart(),n=1},point:function(a,o){var c=a>0?fi:-fi,f=pi(a-e);pi(f-fi)<oi?(t.point(e,r=(r+o)/2>0?ui:-ui),t.point(i,r),t.lineEnd(),t.lineStart(),t.point(c,r),t.point(a,r),n=0):i!==c&&f>=fi&&(pi(e-i)<oi&&(e-=i*oi),pi(a-c)<oi&&(a-=c*oi),r=function(t,n,e,r){var i,a,o=xi(t-e);return pi(o)>oi?gi((xi(n)*(a=bi(r))*xi(e)-xi(r)*(i=bi(n))*xi(t))/(i*a*o)):(n+r)/2}(e,r,a,o),t.point(i,r),t.lineEnd(),t.lineStart(),t.point(c,r),n=0),t.point(e=a,r=o),i=c},lineEnd:function(){t.lineEnd(),e=r=NaN},clean:function(){return 2-n}}}),(function(t,n,e,r){var i;if(null==t)i=e*ui,r.point(-fi,i),r.point(0,i),r.point(fi,i),r.point(fi,0),r.point(fi,-i),r.point(0,-i),r.point(-fi,-i),r.point(-fi,0),r.point(-fi,i);else if(pi(t[0]-n[0])>oi){var a=t[0]<n[0]?fi:-fi;i=e*a/2,r.point(-a,i),r.point(0,i),r.point(a,i)}else r.point(n[0],n[1])}),[-fi,-ui]);function uo(t,n,e,r,i,a){if(e){var o=bi(n),c=xi(n),f=r*e;null==i?(i=n+r*si,a=n-f/2):(i=lo(o,i),a=lo(o,a),(r>0?i<a:i>a)&&(i+=r*si));for(var u,l=i;r>0?l>a:l<a;l-=f)u=Qa([o,-c*bi(l),-c*xi(l)]),t.point(u[0],u[1])}}function lo(t,n){(n=Ja(n))[0]-=t,ro(n);var e=$i(-n[1]);return((-n[2]<0?-e:e)+si-oi)%si}function so(t,n){function e(e,r){return e=t(e,r),n(e[0],e[1])}return t.invert&&n.invert&&(e.invert=function(e,r){return(e=n.invert(e,r))&&t.invert(e[0],e[1])}),e}function ho(t,n){return pi(t)>fi&&(t-=Math.round(t/si)*si),[t,n]}function po(t,n,e){return(t%=si)?n||e?so(mo(t),bo(n,e)):mo(t):n||e?bo(n,e):ho}function go(t){return function(n,e){return pi(n+=t)>fi&&(n-=Math.round(n/si)*si),[n,e]}}function mo(t){var n=go(t);return n.invert=go(-t),n}function bo(t,n){var e=bi(t),r=xi(t),i=bi(n),a=xi(n);function o(t,n){var o=bi(n),c=bi(t)*o,f=xi(t)*o,u=xi(n),l=u*e+c*r;return[mi(f*i-l*a,c*e-u*r),Ai(l*i+f*a)]}return o.invert=function(t,n){var o=bi(n),c=bi(t)*o,f=xi(t)*o,u=xi(n),l=u*i-f*a;return[mi(f*i+u*a,c*e+l*r),Ai(l*e-c*r)]},o}function yo(t){return{stream:vo(t)}}function vo(t){return function(n){var e=new wo;for(var r in t)e[r]=t[r];return e.stream=n,e}}function wo(){}function xo(t,n,e){var r=t.clipExtent&&t.clipExtent();return t.scale(150).translate([0,0]),null!=r&&t.clipExtent(null),Bi(e,t.stream(da)),n(da.result()),null!=r&&t.clipExtent(r),t}function Mo(t,n,e){return xo(t,(function(e){var r=n[1][0]-n[0][0],i=n[1][1]-n[0][1],a=Math.min(r/(e[1][0]-e[0][0]),i/(e[1][1]-e[0][1])),o=+n[0][0]+(r-a*(e[1][0]+e[0][0]))/2,c=+n[0][1]+(i-a*(e[1][1]+e[0][1]))/2;t.scale(150*a).translate([o,c])}),e)}function ko(t,n,e){return Mo(t,[[0,0],n],e)}function _o(t,n,e){return xo(t,(function(e){var r=+n,i=r/(e[1][0]-e[0][0]),a=(r-i*(e[1][0]+e[0][0]))/2,o=-i*e[0][1];t.scale(150*i).translate([a,o])}),e)}function $o(t,n,e){return xo(t,(function(e){var r=+n,i=r/(e[1][1]-e[0][1]),a=-i*e[0][0],o=(r-i*(e[1][1]+e[0][1]))/2;t.scale(150*i).translate([a,o])}),e)}ho.invert=ho,wo.prototype={constructor:wo,point:function(t,n){this.stream.point(t,n)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var Ao=16,To=bi(30*hi);function So(t,n){return+n?function(t,n){function e(r,i,a,o,c,f,u,l,s,d,h,p,g,m){var b=u-r,y=l-i,v=b*b+y*y;if(v>4*n&&g--){var w=o+d,x=c+h,M=f+p,k=ki(w*w+x*x+M*M),_=Ai(M/=k),$=pi(pi(M)-1)<oi||pi(a-s)<oi?(a+s)/2:mi(x,w),A=t($,_),T=A[0],S=A[1],E=T-r,N=S-i,C=y*E-b*N;(C*C/v>n||pi((b*E+y*N)/v-.5)>.3||o*d+c*h+f*p<To)&&(e(r,i,a,o,c,f,T,S,$,w/=k,x/=k,M,g,m),m.point(T,S),e(T,S,$,w,x,M,u,l,s,d,h,p,g,m))}}return function(n){var r,i,a,o,c,f,u,l,s,d,h,p,g={point:m,lineStart:b,lineEnd:v,polygonStart:function(){n.polygonStart(),g.lineStart=w},polygonEnd:function(){n.polygonEnd(),g.lineStart=b}};function m(e,r){e=t(e,r),n.point(e[0],e[1])}function b(){l=NaN,g.point=y,n.lineStart()}function y(r,i){var a=Ja([r,i]),o=t(r,i);e(l,s,u,d,h,p,l=o[0],s=o[1],u=r,d=a[0],h=a[1],p=a[2],Ao,n),n.point(l,s)}function v(){g.point=m,n.lineEnd()}function w(){b(),g.point=x,g.lineEnd=M}function x(t,n){y(r=t,n),i=l,a=s,o=d,c=h,f=p,g.point=y}function M(){e(l,s,u,d,h,p,i,a,r,o,c,f,Ao,n),g.lineEnd=v,v()}return g}}(t,n):function(t){return vo({point:function(n,e){n=t(n,e),this.stream.point(n[0],n[1])}})}(t)}var Eo=vo({point:function(t,n){this.stream.point(t*hi,n*hi)}});function No(t,n,e,r,i,a){if(!a)return function(t,n,e,r,i){function a(a,o){return[n+t*(a*=r),e-t*(o*=i)]}return a.invert=function(a,o){return[(a-n)/t*r,(e-o)/t*i]},a}(t,n,e,r,i);var o=bi(a),c=xi(a),f=o*t,u=c*t,l=o/t,s=c/t,d=(c*e-o*n)/t,h=(c*n+o*e)/t;function p(t,a){return[f*(t*=r)-u*(a*=i)+n,e-u*t-f*a]}return p.invert=function(t,n){return[r*(l*t-s*n+d),i*(h-s*t-l*n)]},p}function Co(t){return Lo((function(){return t}))()}function Lo(t){var n,e,r,i,a,o,c,f,u,l,s=150,d=480,h=250,p=0,g=0,m=0,b=0,y=0,v=0,w=1,x=1,M=null,k=fo,_=null,$=zi,A=.5;function T(t){return f(t[0]*hi,t[1]*hi)}function S(t){return(t=f.invert(t[0],t[1]))&&[t[0]*di,t[1]*di]}function E(){var t=No(s,0,0,w,x,v).apply(null,n(p,g)),r=No(s,d-t[0],h-t[1],w,x,v);return e=po(m,b,y),c=so(n,r),f=so(e,c),o=So(c,A),N()}function N(){return u=l=null,T}return T.stream=function(t){return u&&l===t?u:u=Eo(function(t){return vo({point:function(n,e){var r=t(n,e);return this.stream.point(r[0],r[1])}})}(e)(k(o($(l=t)))))},T.preclip=function(t){return arguments.length?(k=t,M=void 0,N()):k},T.postclip=function(t){return arguments.length?($=t,_=r=i=a=null,N()):$},T.clipAngle=function(t){return arguments.length?(k=+t?function(t){var n=bi(t),e=2*hi,r=n>0,i=pi(n)>oi;function a(t,e){return bi(t)*bi(e)>n}function o(t,e,r){var i=[1,0,0],a=to(Ja(t),Ja(e)),o=Ka(a,a),c=a[0],f=o-c*c;if(!f)return!r&&t;var u=n*o/f,l=-n*c/f,s=to(i,a),d=eo(i,u);no(d,eo(a,l));var h=s,p=Ka(d,h),g=Ka(h,h),m=p*p-g*(Ka(d,d)-1);if(!(m<0)){var b=ki(m),y=eo(h,(-p-b)/g);if(no(y,d),y=Qa(y),!r)return y;var v,w=t[0],x=e[0],M=t[1],k=e[1];x<w&&(v=w,w=x,x=v);var _=x-w,$=pi(_-fi)<oi;if(!$&&k<M&&(v=M,M=k,k=v),$||_<oi?$?M+k>0^y[1]<(pi(y[0]-w)<oi?M:k):M<=y[1]&&y[1]<=k:_>fi^(w<=y[0]&&y[0]<=x)){var A=eo(h,(-p+b)/g);return no(A,d),[y,Qa(A)]}}}function c(n,e){var i=r?t:fi-t,a=0;return n<-i?a|=1:n>i&&(a|=2),e<-i?a|=4:e>i&&(a|=8),a}return ao(a,(function(t){var n,e,f,u,l;return{lineStart:function(){u=f=!1,l=1},point:function(s,d){var h,p=[s,d],g=a(s,d),m=r?g?0:c(s,d):g?c(s+(s<0?fi:-fi),d):0;if(!n&&(u=f=g)&&t.lineStart(),g!==f&&(!(h=o(n,p))||Ei(n,h)||Ei(p,h))&&(p[2]=1),g!==f)l=0,g?(t.lineStart(),h=o(p,n),t.point(h[0],h[1])):(h=o(n,p),t.point(h[0],h[1],2),t.lineEnd()),n=h;else if(i&&n&&r^g){var b;m&e||!(b=o(p,n,!0))||(l=0,r?(t.lineStart(),t.point(b[0][0],b[0][1]),t.point(b[1][0],b[1][1]),t.lineEnd()):(t.point(b[1][0],b[1][1]),t.lineEnd(),t.lineStart(),t.point(b[0][0],b[0][1],3)))}!g||n&&Ei(n,p)||t.point(p[0],p[1]),n=p,f=g,e=m},lineEnd:function(){f&&t.lineEnd(),n=null},clean:function(){return l|(u&&f)<<1}}}),(function(n,r,i,a){uo(a,t,e,i,n,r)}),r?[0,-t]:[-fi,t-fi])}(M=t*hi):(M=null,fo),N()):M*di},T.clipExtent=function(t){return arguments.length?($=null==t?(_=r=i=a=null,zi):Fi(_=+t[0][0],r=+t[0][1],i=+t[1][0],a=+t[1][1]),N()):null==_?null:[[_,r],[i,a]]},T.scale=function(t){return arguments.length?(s=+t,E()):s},T.translate=function(t){return arguments.length?(d=+t[0],h=+t[1],E()):[d,h]},T.center=function(t){return arguments.length?(p=t[0]%360*hi,g=t[1]%360*hi,E()):[p*di,g*di]},T.rotate=function(t){return arguments.length?(m=t[0]%360*hi,b=t[1]%360*hi,y=t.length>2?t[2]%360*hi:0,E()):[m*di,b*di,y*di]},T.angle=function(t){return arguments.length?(v=t%360*hi,E()):v*di},T.reflectX=function(t){return arguments.length?(w=t?-1:1,E()):w<0},T.reflectY=function(t){return arguments.length?(x=t?-1:1,E()):x<0},T.precision=function(t){return arguments.length?(o=So(c,A=t*t),N()):ki(A)},T.fitExtent=function(t,n){return Mo(T,t,n)},T.fitSize=function(t,n){return ko(T,t,n)},T.fitWidth=function(t,n){return _o(T,t,n)},T.fitHeight=function(t,n){return $o(T,t,n)},function(){return n=t.apply(this,arguments),T.invert=n.invert&&S,E()}}function Do(t){var n=0,e=fi/3,r=Lo(t),i=r(n,e);return i.parallels=function(t){return arguments.length?r(n=t[0]*hi,e=t[1]*hi):[n*di,e*di]},i}function Oo(t,n){var e=xi(t),r=(e+xi(n))/2;if(pi(r)<oi)return function(t){var n=bi(t);function e(t,e){return[t*n,xi(e)/n]}return e.invert=function(t,e){return[t/n,Ai(e*n)]},e}(t);var i=1+e*(2*r-e),a=ki(i)/r;function o(t,n){var e=ki(i-2*r*xi(n))/r;return[e*xi(t*=r),a-e*bi(t)]}return o.invert=function(t,n){var e=a-n,o=mi(t,pi(e))*Mi(e);return e*r<0&&(o-=fi*Mi(t)*Mi(e)),[o/r,Ai((i-(t*t+e*e)*r*r)/(2*r))]},o}function Ro(){return Do(Oo).scale(155.424).center([0,33.6442])}function Fo(){return Ro().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function zo(){var t,n,e,r,i,a,o=Fo(),c=Ro().rotate([154,0]).center([-2,58.5]).parallels([55,65]),f=Ro().rotate([157,0]).center([-3,19.9]).parallels([8,18]),u={point:function(t,n){a=[t,n]}};function l(t){var n=t[0],o=t[1];return a=null,e.point(n,o),a||(r.point(n,o),a)||(i.point(n,o),a)}function s(){return t=n=null,l}return l.invert=function(t){var n=o.scale(),e=o.translate(),r=(t[0]-e[0])/n,i=(t[1]-e[1])/n;return(i>=.12&&i<.234&&r>=-.425&&r<-.214?c:i>=.166&&i<.234&&r>=-.214&&r<-.115?f:o).invert(t)},l.stream=function(e){return t&&n===e?t:(r=[o.stream(n=e),c.stream(e),f.stream(e)],i=r.length,t={point:function(t,n){for(var e=-1;++e<i;)r[e].point(t,n)},sphere:function(){for(var t=-1;++t<i;)r[t].sphere()},lineStart:function(){for(var t=-1;++t<i;)r[t].lineStart()},lineEnd:function(){for(var t=-1;++t<i;)r[t].lineEnd()},polygonStart:function(){for(var t=-1;++t<i;)r[t].polygonStart()},polygonEnd:function(){for(var t=-1;++t<i;)r[t].polygonEnd()}});var r,i},l.precision=function(t){return arguments.length?(o.precision(t),c.precision(t),f.precision(t),s()):o.precision()},l.scale=function(t){return arguments.length?(o.scale(t),c.scale(.35*t),f.scale(t),l.translate(o.translate())):o.scale()},l.translate=function(t){if(!arguments.length)return o.translate();var n=o.scale(),a=+t[0],l=+t[1];return e=o.translate(t).clipExtent([[a-.455*n,l-.238*n],[a+.455*n,l+.238*n]]).stream(u),r=c.translate([a-.307*n,l+.201*n]).clipExtent([[a-.425*n+oi,l+.12*n+oi],[a-.214*n-oi,l+.234*n-oi]]).stream(u),i=f.translate([a-.205*n,l+.212*n]).clipExtent([[a-.214*n+oi,l+.166*n+oi],[a-.115*n-oi,l+.234*n-oi]]).stream(u),s()},l.fitExtent=function(t,n){return Mo(l,t,n)},l.fitSize=function(t,n){return ko(l,t,n)},l.fitWidth=function(t,n){return _o(l,t,n)},l.fitHeight=function(t,n){return $o(l,t,n)},l.scale(1070)}function jo(t){return function(n,e){var r=bi(n),i=bi(e),a=t(r*i);return a===1/0?[2,0]:[a*i*xi(n),a*xi(e)]}}function Uo(t){return function(n,e){var r=ki(n*n+e*e),i=t(r),a=xi(i),o=bi(i);return[mi(n*a,r*o),Ai(r&&e*a/r)]}}var Po=jo((function(t){return ki(2/(1+t))}));function Io(){return Co(Po).scale(124.75).clipAngle(179.999)}Po.invert=Uo((function(t){return 2*Ai(t/2)}));var qo=jo((function(t){return(t=$i(t))&&t/xi(t)}));function Bo(){return Co(qo).scale(79.4188).clipAngle(179.999)}function Wo(t,n){return[t,vi(_i((ui+n)/2))]}function Ho(){return Yo(Wo).scale(961/si)}function Yo(t){var n,e,r,i=Co(t),a=i.center,o=i.scale,c=i.translate,f=i.clipExtent,u=null;function l(){var a=fi*o(),c=i(function(t){function n(n){return(n=t(n[0]*hi,n[1]*hi))[0]*=di,n[1]*=di,n}return t=po(t[0]*hi,t[1]*hi,t.length>2?t[2]*hi:0),n.invert=function(n){return(n=t.invert(n[0]*hi,n[1]*hi))[0]*=di,n[1]*=di,n},n}(i.rotate()).invert([0,0]));return f(null==u?[[c[0]-a,c[1]-a],[c[0]+a,c[1]+a]]:t===Wo?[[Math.max(c[0]-a,u),n],[Math.min(c[0]+a,e),r]]:[[u,Math.max(c[1]-a,n)],[e,Math.min(c[1]+a,r)]])}return i.scale=function(t){return arguments.length?(o(t),l()):o()},i.translate=function(t){return arguments.length?(c(t),l()):c()},i.center=function(t){return arguments.length?(a(t),l()):a()},i.clipExtent=function(t){return arguments.length?(null==t?u=n=e=r=null:(u=+t[0][0],n=+t[0][1],e=+t[1][0],r=+t[1][1]),l()):null==u?null:[[u,n],[e,r]]},l()}function Vo(t){return _i((ui+t)/2)}function Xo(t,n){var e=bi(t),r=t===n?xi(t):vi(e/bi(n))/vi(Vo(n)/Vo(t)),i=e*wi(Vo(t),r)/r;if(!r)return Wo;function a(t,n){i>0?n<-ui+oi&&(n=-ui+oi):n>ui-oi&&(n=ui-oi);var e=i/wi(Vo(n),r);return[e*xi(r*t),i-e*bi(r*t)]}return a.invert=function(t,n){var e=i-n,a=Mi(r)*ki(t*t+e*e),o=mi(t,pi(e))*Mi(e);return e*r<0&&(o-=fi*Mi(t)*Mi(e)),[o/r,2*gi(wi(i/a,1/r))-ui]},a}function Zo(){return Do(Xo).scale(109.5).parallels([30,30])}function Go(t,n){return[t,n]}function Qo(){return Co(Go).scale(152.63)}function Jo(t,n){var e=bi(t),r=t===n?xi(t):(e-bi(n))/(n-t),i=e/r+t;if(pi(r)<oi)return Go;function a(t,n){var e=i-n,a=r*t;return[e*xi(a),i-e*bi(a)]}return a.invert=function(t,n){var e=i-n,a=mi(t,pi(e))*Mi(e);return e*r<0&&(a-=fi*Mi(t)*Mi(e)),[a/r,i-Mi(r)*ki(t*t+e*e)]},a}function Ko(){return Do(Jo).scale(131.154).center([0,13.9389])}qo.invert=Uo((function(t){return t})),Wo.invert=function(t,n){return[t,2*gi(yi(n))-ui]},Go.invert=Go;var tc=1.340264,nc=-.081106,ec=893e-6,rc=.003796,ic=ki(3)/2;function ac(t,n){var e=Ai(ic*xi(n)),r=e*e,i=r*r*r;return[t*bi(e)/(ic*(tc+3*nc*r+i*(7*ec+9*rc*r))),e*(tc+nc*r+i*(ec+rc*r))]}function oc(){return Co(ac).scale(177.158)}function cc(t,n){var e=bi(n),r=bi(t)*e;return[e*xi(t)/r,xi(n)/r]}function fc(){return Co(cc).scale(144.049).clipAngle(60)}function uc(t,n){return[bi(n)*xi(t),xi(n)]}function lc(){return Co(uc).scale(249.5).clipAngle(90+oi)}function sc(t,n){var e=bi(n),r=1+bi(t)*e;return[e*xi(t)/r,xi(n)/r]}function dc(){return Co(sc).scale(250).clipAngle(142)}function hc(t,n){return[vi(_i((ui+n)/2)),-t]}function pc(){var t=Yo(hc),n=t.center,e=t.rotate;return t.center=function(t){return arguments.length?n([-t[1],t[0]]):[(t=n())[1],-t[0]]},t.rotate=function(t){return arguments.length?e([t[0],t[1],t.length>2?t[2]+90:90]):[(t=e())[0],t[1],t[2]-90]},e([0,0,90]).scale(159.155)}function gc(t,n){return t=+t,n=+n,function(e){return Math.round(t*(1-e)+n*e)}}function mc(t){return function(n,e){var r=t((n=nr(n)).h,(e=nr(e)).h),i=sr(n.s,e.s),a=sr(n.l,e.l),o=sr(n.opacity,e.opacity);return function(t){return n.h=r(t),n.s=i(t),n.l=a(t),n.opacity=o(t),n+""}}}ac.invert=function(t,n){for(var e,r=n,i=r*r,a=i*i*i,o=0;o<12&&(a=(i=(r-=e=(r*(tc+nc*i+a*(ec+rc*i))-n)/(tc+3*nc*i+a*(7*ec+9*rc*i)))*r)*i*i,!(pi(e)<ci));++o);return[ic*t*(tc+3*nc*i+a*(7*ec+9*rc*i))/bi(r),Ai(xi(r)/ic)]},cc.invert=Uo(gi),uc.invert=Uo(Ai),sc.invert=Uo((function(t){return 2*gi(t)})),hc.invert=function(t,n){return[-n,2*gi(yi(t))-ui]};var bc=mc(ur);mc(sr);const yc=Math.PI/180,vc=180/Math.PI,wc=.96422,xc=1,Mc=.82521,kc=4/29,_c=6/29,$c=3*_c*_c,Ac=_c*_c*_c;function Tc(t){if(t instanceof Ec)return new Ec(t.l,t.a,t.b,t.opacity);if(t instanceof Fc)return zc(t);t instanceof Ve||(t=He(t));var n,e,r=Dc(t.r),i=Dc(t.g),a=Dc(t.b),o=Nc((.2225045*r+.7168786*i+.0606169*a)/xc);return r===i&&i===a?n=e=o:(n=Nc((.4360747*r+.3850649*i+.1430804*a)/wc),e=Nc((.0139322*r+.0971045*i+.7141733*a)/Mc)),new Ec(116*o-16,500*(n-o),200*(o-e),t.opacity)}function Sc(t,n,e,r){return 1===arguments.length?Tc(t):new Ec(t,n,e,null==r?1:r)}function Ec(t,n,e,r){this.l=+t,this.a=+n,this.b=+e,this.opacity=+r}function Nc(t){return t>Ac?Math.pow(t,1/3):t/$c+kc}function Cc(t){return t>_c?t*t*t:$c*(t-kc)}function Lc(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function Dc(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function Oc(t){if(t instanceof Fc)return new Fc(t.h,t.c,t.l,t.opacity);if(t instanceof Ec||(t=Tc(t)),0===t.a&&0===t.b)return new Fc(NaN,0<t.l&&t.l<100?0:NaN,t.l,t.opacity);var n=Math.atan2(t.b,t.a)*vc;return new Fc(n<0?n+360:n,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}function Rc(t,n,e,r){return 1===arguments.length?Oc(t):new Fc(t,n,e,null==r?1:r)}function Fc(t,n,e,r){this.h=+t,this.c=+n,this.l=+e,this.opacity=+r}function zc(t){if(isNaN(t.h))return new Ec(t.l,0,0,t.opacity);var n=t.h*yc;return new Ec(t.l,Math.cos(n)*t.c,Math.sin(n)*t.c,t.opacity)}function jc(t){return function(n,e){var r=t((n=Rc(n)).h,(e=Rc(e)).h),i=sr(n.c,e.c),a=sr(n.l,e.l),o=sr(n.opacity,e.opacity);return function(t){return n.h=r(t),n.c=i(t),n.l=a(t),n.opacity=o(t),n+""}}}_e(Ec,Sc,$e(Ae,{brighter(t){return new Ec(this.l+18*(null==t?1:t),this.a,this.b,this.opacity)},darker(t){return new Ec(this.l-18*(null==t?1:t),this.a,this.b,this.opacity)},rgb(){var t=(this.l+16)/116,n=isNaN(this.a)?t:t+this.a/500,e=isNaN(this.b)?t:t-this.b/200;return new Ve(Lc(3.1338561*(n=wc*Cc(n))-1.6168667*(t=xc*Cc(t))-.4906146*(e=Mc*Cc(e))),Lc(-.9787684*n+1.9161415*t+.033454*e),Lc(.0719453*n-.2289914*t+1.4052427*e),this.opacity)}})),_e(Fc,Rc,$e(Ae,{brighter(t){return new Fc(this.h,this.c,this.l+18*(null==t?1:t),this.opacity)},darker(t){return new Fc(this.h,this.c,this.l-18*(null==t?1:t),this.opacity)},rgb(){return zc(this).rgb()}}));var Uc=jc(ur);jc(sr);function Pc(t,n){var e,r=n?n.length:0,i=t?Math.min(r,t.length):0,a=new Array(i),o=new Array(r);for(e=0;e<i;++e)a[e]=Wc(t[e],n[e]);for(;e<r;++e)o[e]=n[e];return function(t){for(e=0;e<i;++e)o[e]=a[e](t);return o}}function Ic(t,n){var e=new Date;return t=+t,n=+n,function(r){return e.setTime(t*(1-r)+n*r),e}}function qc(t,n){var e,r={},i={};for(e in null!==t&&"object"==typeof t||(t={}),null!==n&&"object"==typeof n||(n={}),n)e in t?r[e]=Wc(t[e],n[e]):i[e]=n[e];return function(t){for(e in r)i[e]=r[e](t);return i}}function Bc(t,n){n||(n=[]);var e,r=t?Math.min(n.length,t.length):0,i=n.slice();return function(a){for(e=0;e<r;++e)i[e]=t[e]*(1-a)+n[e]*a;return i}}function Wc(t,n){var e,r,i=typeof n;return null==n||"boolean"===i?cr(n):("number"===i?he:"string"===i?(e=qe(n))?(n=e,dr):br:n instanceof qe?dr:n instanceof Date?Ic:(r=n,!ArrayBuffer.isView(r)||r instanceof DataView?Array.isArray(n)?Pc:"function"!=typeof n.valueOf&&"function"!=typeof n.toString||isNaN(n)?qc:he:Bc))(t,n)}function Hc(t,n){void 0===n&&(n=t,t=Wc);for(var e=0,r=n.length-1,i=n[0],a=new Array(r<0?0:r);e<r;)a[e]=t(i,i=n[++e]);return function(t){var n=Math.max(0,Math.min(r-1,Math.floor(t*=r)));return a[n](t-n)}}function Yc(t,n){for(var e=new Array(n),r=0;r<n;++r)e[r]=t(r/(n-1));return e}const Vc=Math.PI,Xc=2*Vc,Zc=1e-6,Gc=Xc-Zc;function Qc(t){this._+=t[0];for(let n=1,e=t.length;n<e;++n)this._+=arguments[n]+t[n]}class Jc{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=null==t?Qc:function(t){let n=Math.floor(t);if(!(n>=0))throw new Error(`invalid digits: ${t}`);if(n>15)return Qc;const e=10**n;return function(t){this._+=t[0];for(let n=1,r=t.length;n<r;++n)this._+=Math.round(arguments[n]*e)/e+t[n]}}(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,e,r){this._append`Q${+t},${+n},${this._x1=+e},${this._y1=+r}`}bezierCurveTo(t,n,e,r,i,a){this._append`C${+t},${+n},${+e},${+r},${this._x1=+i},${this._y1=+a}`}arcTo(t,n,e,r,i){if(t=+t,n=+n,e=+e,r=+r,(i=+i)<0)throw new Error(`negative radius: ${i}`);let a=this._x1,o=this._y1,c=e-t,f=r-n,u=a-t,l=o-n,s=u*u+l*l;if(null===this._x1)this._append`M${this._x1=t},${this._y1=n}`;else if(s>Zc)if(Math.abs(l*c-f*u)>Zc&&i){let d=e-a,h=r-o,p=c*c+f*f,g=d*d+h*h,m=Math.sqrt(p),b=Math.sqrt(s),y=i*Math.tan((Vc-Math.acos((p+s-g)/(2*m*b)))/2),v=y/b,w=y/m;Math.abs(v-1)>Zc&&this._append`L${t+v*u},${n+v*l}`,this._append`A${i},${i},0,0,${+(l*d>u*h)},${this._x1=t+w*c},${this._y1=n+w*f}`}else this._append`L${this._x1=t},${this._y1=n}`;else;}arc(t,n,e,r,i,a){if(t=+t,n=+n,a=!!a,(e=+e)<0)throw new Error(`negative radius: ${e}`);let o=e*Math.cos(r),c=e*Math.sin(r),f=t+o,u=n+c,l=1^a,s=a?r-i:i-r;null===this._x1?this._append`M${f},${u}`:(Math.abs(this._x1-f)>Zc||Math.abs(this._y1-u)>Zc)&&this._append`L${f},${u}`,e&&(s<0&&(s=s%Xc+Xc),s>Gc?this._append`A${e},${e},0,1,${l},${t-o},${n-c}A${e},${e},0,1,${l},${this._x1=f},${this._y1=u}`:s>Zc&&this._append`A${e},${e},0,${+(s>=Vc)},${l},${this._x1=t+e*Math.cos(i)},${this._y1=n+e*Math.sin(i)}`)}rect(t,n,e,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${e=+e}v${+r}h${-e}Z`}toString(){return this._}}function Kc(t=3){return new Jc(+t)}function tf(t,n){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(n).domain(t)}return this}function nf(t,n){switch(arguments.length){case 0:break;case 1:"function"==typeof t?this.interpolator(t):this.range(t);break;default:this.domain(t),"function"==typeof n?this.interpolator(n):this.range(n)}return this}Jc.prototype;const ef=Symbol("implicit");function rf(){var t=new w,n=[],e=[],r=ef;function i(i){let a=t.get(i);if(void 0===a){if(r!==ef)return r;t.set(i,a=n.push(i)-1)}return e[a%e.length]}return i.domain=function(e){if(!arguments.length)return n.slice();n=[],t=new w;for(const r of e)t.has(r)||t.set(r,n.push(r)-1);return i},i.range=function(t){return arguments.length?(e=Array.from(t),i):e.slice()},i.unknown=function(t){return arguments.length?(r=t,i):r},i.copy=function(){return rf(n,e).unknown(r)},tf.apply(i,arguments),i}function af(){var t,n,e=rf().unknown(void 0),r=e.domain,i=e.range,a=0,o=1,c=!1,f=0,u=0,l=.5;function s(){var e=r().length,s=o<a,d=s?o:a,h=s?a:o;t=(h-d)/Math.max(1,e-f+2*u),c&&(t=Math.floor(t)),d+=(h-d-t*(e-f))*l,n=t*(1-f),c&&(d=Math.round(d),n=Math.round(n));var p=Y(e).map((function(n){return d+t*n}));return i(s?p.reverse():p)}return delete e.unknown,e.domain=function(t){return arguments.length?(r(t),s()):r()},e.range=function(t){return arguments.length?([a,o]=t,a=+a,o=+o,s()):[a,o]},e.rangeRound=function(t){return[a,o]=t,a=+a,o=+o,c=!0,s()},e.bandwidth=function(){return n},e.step=function(){return t},e.round=function(t){return arguments.length?(c=!!t,s()):c},e.padding=function(t){return arguments.length?(f=Math.min(1,u=+t),s()):f},e.paddingInner=function(t){return arguments.length?(f=Math.min(1,t),s()):f},e.paddingOuter=function(t){return arguments.length?(u=+t,s()):u},e.align=function(t){return arguments.length?(l=Math.max(0,Math.min(1,t)),s()):l},e.copy=function(){return af(r(),[a,o]).round(c).paddingInner(f).paddingOuter(u).align(l)},tf.apply(s(),arguments)}function of(t){var n=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return of(n())},t}function cf(){return of(af.apply(null,arguments).paddingInner(1))}const ff=d(l),uf=ff.right;ff.left,d(U).center;var lf=uf;function sf(t){return+t}var df=[0,1];function hf(t){return t}function pf(t,n){return(n-=t=+t)?function(e){return(e-t)/n}:(e=isNaN(n)?NaN:.5,function(){return e});var e}function gf(t,n,e){var r=t[0],i=t[1],a=n[0],o=n[1];return i<r?(r=pf(i,r),a=e(o,a)):(r=pf(r,i),a=e(a,o)),function(t){return a(r(t))}}function mf(t,n,e){var r=Math.min(t.length,n.length)-1,i=new Array(r),a=new Array(r),o=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),n=n.slice().reverse());++o<r;)i[o]=pf(t[o],t[o+1]),a[o]=e(n[o],n[o+1]);return function(n){var e=lf(t,n,1,r)-1;return a[e](i[e](n))}}function bf(t,n){return n.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function yf(){var t,n,e,r,i,a,o=df,c=df,f=Wc,u=hf;function l(){var t=Math.min(o.length,c.length);return u!==hf&&(u=function(t,n){var e;return t>n&&(e=t,t=n,n=e),function(e){return Math.max(t,Math.min(n,e))}}(o[0],o[t-1])),r=t>2?mf:gf,i=a=null,s}function s(n){return null==n||isNaN(n=+n)?e:(i||(i=r(o.map(t),c,f)))(t(u(n)))}return s.invert=function(e){return u(n((a||(a=r(c,o.map(t),he)))(e)))},s.domain=function(t){return arguments.length?(o=Array.from(t,sf),l()):o.slice()},s.range=function(t){return arguments.length?(c=Array.from(t),l()):c.slice()},s.rangeRound=function(t){return c=Array.from(t),f=gc,l()},s.clamp=function(t){return arguments.length?(u=!!t||hf,l()):u!==hf},s.interpolate=function(t){return arguments.length?(f=t,l()):f},s.unknown=function(t){return arguments.length?(e=t,s):e},function(e,r){return t=e,n=r,l()}}function vf(){return yf()(hf,hf)}function wf(t,n,e,r){var i,a=tt(t,n,e);switch((r=Zr(null==r?",f":r)).type){case"s":var o=Math.max(Math.abs(t),Math.abs(n));return null!=r.precision||isNaN(i=function(t,n){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(Yr(n)/3)))-Yr(Math.abs(t)))}(a,o))||(r.precision=i),ei(r,o);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(i=function(t,n){return t=Math.abs(t),n=Math.abs(n)-t,Math.max(0,Yr(n)-Yr(t))+1}(a,Math.max(Math.abs(t),Math.abs(n))))||(r.precision=i-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(i=function(t){return Math.max(0,-Yr(Math.abs(t)))}(a))||(r.precision=i-2*("%"===r.type))}return ni(r)}function xf(t){var n=t.domain;return t.ticks=function(t){var e=n();return J(e[0],e[e.length-1],null==t?10:t)},t.tickFormat=function(t,e){var r=n();return wf(r[0],r[r.length-1],null==t?10:t,e)},t.nice=function(e){null==e&&(e=10);var r,i,a=n(),o=0,c=a.length-1,f=a[o],u=a[c],l=10;for(u<f&&(i=f,f=u,u=i,i=o,o=c,c=i);l-- >0;){if((i=K(f,u,e))===r)return a[o]=f,a[c]=u,n(a);if(i>0)f=Math.floor(f/i)*i,u=Math.ceil(u/i)*i;else{if(!(i<0))break;f=Math.ceil(f*i)/i,u=Math.floor(u*i)/i}r=i}return t},t}function Mf(){var t=vf();return t.copy=function(){return bf(t,Mf())},tf.apply(t,arguments),xf(t)}function kf(t){var n;function e(t){return null==t||isNaN(t=+t)?n:t}return e.invert=e,e.domain=e.range=function(n){return arguments.length?(t=Array.from(n,sf),e):t.slice()},e.unknown=function(t){return arguments.length?(n=t,e):n},e.copy=function(){return kf(t).unknown(n)},t=arguments.length?Array.from(t,sf):[0,1],xf(e)}function _f(t,n){var e,r=0,i=(t=t.slice()).length-1,a=t[r],o=t[i];return o<a&&(e=r,r=i,i=e,e=a,a=o,o=e),t[r]=n.floor(a),t[i]=n.ceil(o),t}function $f(t){return Math.log(t)}function Af(t){return Math.exp(t)}function Tf(t){return-Math.log(-t)}function Sf(t){return-Math.exp(-t)}function Ef(t){return isFinite(t)?+("1e"+t):t<0?0:t}function Nf(t){return(n,e)=>-t(-n,e)}function Cf(t){const n=t($f,Af),e=n.domain;let r,i,a=10;function o(){return r=function(t){return t===Math.E?Math.log:10===t&&Math.log10||2===t&&Math.log2||(t=Math.log(t),n=>Math.log(n)/t)}(a),i=function(t){return 10===t?Ef:t===Math.E?Math.exp:n=>Math.pow(t,n)}(a),e()[0]<0?(r=Nf(r),i=Nf(i),t(Tf,Sf)):t($f,Af),n}return n.base=function(t){return arguments.length?(a=+t,o()):a},n.domain=function(t){return arguments.length?(e(t),o()):e()},n.ticks=t=>{const n=e();let o=n[0],c=n[n.length-1];const f=c<o;f&&([o,c]=[c,o]);let u,l,s=r(o),d=r(c);const h=null==t?10:+t;let p=[];if(!(a%1)&&d-s<h){if(s=Math.floor(s),d=Math.ceil(d),o>0){for(;s<=d;++s)for(u=1;u<a;++u)if(l=s<0?u/i(-s):u*i(s),!(l<o)){if(l>c)break;p.push(l)}}else for(;s<=d;++s)for(u=a-1;u>=1;--u)if(l=s>0?u/i(-s):u*i(s),!(l<o)){if(l>c)break;p.push(l)}2*p.length<h&&(p=J(o,c,h))}else p=J(s,d,Math.min(d-s,h)).map(i);return f?p.reverse():p},n.tickFormat=(t,e)=>{if(null==t&&(t=10),null==e&&(e=10===a?"s":","),"function"!=typeof e&&(a%1||null!=(e=Zr(e)).precision||(e.trim=!0),e=ni(e)),t===1/0)return e;const o=Math.max(1,a*t/n.ticks().length);return t=>{let n=t/i(Math.round(r(t)));return n*a<a-.5&&(n*=a),n<=o?e(t):""}},n.nice=()=>e(_f(e(),{floor:t=>i(Math.floor(r(t))),ceil:t=>i(Math.ceil(r(t)))})),n}function Lf(){const t=Cf(yf()).domain([1,10]);return t.copy=()=>bf(t,Lf()).base(t.base()),tf.apply(t,arguments),t}function Df(t){return function(n){return Math.sign(n)*Math.log1p(Math.abs(n/t))}}function Of(t){return function(n){return Math.sign(n)*Math.expm1(Math.abs(n))*t}}function Rf(t){var n=1,e=t(Df(n),Of(n));return e.constant=function(e){return arguments.length?t(Df(n=+e),Of(n)):n},xf(e)}function Ff(){var t=Rf(yf());return t.copy=function(){return bf(t,Ff()).constant(t.constant())},tf.apply(t,arguments)}function zf(t){return function(n){return n<0?-Math.pow(-n,t):Math.pow(n,t)}}function jf(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function Uf(t){return t<0?-t*t:t*t}function Pf(t){var n=t(hf,hf),e=1;return n.exponent=function(n){return arguments.length?1===(e=+n)?t(hf,hf):.5===e?t(jf,Uf):t(zf(e),zf(1/e)):e},xf(n)}function If(){var t=Pf(yf());return t.copy=function(){return bf(t,If()).exponent(t.exponent())},tf.apply(t,arguments),t}function qf(){var t,n=[],e=[],r=[];function i(){var t=0,i=Math.max(1,e.length);for(r=new Array(i-1);++t<i;)r[t-1]=I(n,t/i);return a}function a(n){return null==n||isNaN(n=+n)?t:e[lf(r,n)]}return a.invertExtent=function(t){var i=e.indexOf(t);return i<0?[NaN,NaN]:[i>0?r[i-1]:n[0],i<r.length?r[i]:n[n.length-1]]},a.domain=function(t){if(!arguments.length)return n.slice();n=[];for(let e of t)null==e||isNaN(e=+e)||n.push(e);return n.sort(l),i()},a.range=function(t){return arguments.length?(e=Array.from(t),i()):e.slice()},a.unknown=function(n){return arguments.length?(t=n,a):t},a.quantiles=function(){return r.slice()},a.copy=function(){return qf().domain(n).range(e).unknown(t)},tf.apply(a,arguments)}function Bf(){var t,n=[.5],e=[0,1],r=1;function i(i){return null!=i&&i<=i?e[lf(n,i,0,r)]:t}return i.domain=function(t){return arguments.length?(n=Array.from(t),r=Math.min(n.length,e.length-1),i):n.slice()},i.range=function(t){return arguments.length?(e=Array.from(t),r=Math.min(n.length,e.length-1),i):e.slice()},i.invertExtent=function(t){var r=e.indexOf(t);return[n[r-1],n[r]]},i.unknown=function(n){return arguments.length?(t=n,i):t},i.copy=function(){return Bf().domain(n).range(e).unknown(t)},tf.apply(i,arguments)}const Wf=1e3,Hf=6e4,Yf=36e5,Vf=864e5,Xf=6048e5,Zf=2592e6,Gf=31536e6,Qf=new Date,Jf=new Date;function Kf(t,n,e,r){function i(n){return t(n=0===arguments.length?new Date:new Date(+n)),n}return i.floor=n=>(t(n=new Date(+n)),n),i.ceil=e=>(t(e=new Date(e-1)),n(e,1),t(e),e),i.round=t=>{const n=i(t),e=i.ceil(t);return t-n<e-t?n:e},i.offset=(t,e)=>(n(t=new Date(+t),null==e?1:Math.floor(e)),t),i.range=(e,r,a)=>{const o=[];if(e=i.ceil(e),a=null==a?1:Math.floor(a),!(e<r&&a>0))return o;let c;do{o.push(c=new Date(+e)),n(e,a),t(e)}while(c<e&&e<r);return o},i.filter=e=>Kf((n=>{if(n>=n)for(;t(n),!e(n);)n.setTime(n-1)}),((t,r)=>{if(t>=t)if(r<0)for(;++r<=0;)for(;n(t,-1),!e(t););else for(;--r>=0;)for(;n(t,1),!e(t););})),e&&(i.count=(n,r)=>(Qf.setTime(+n),Jf.setTime(+r),t(Qf),t(Jf),Math.floor(e(Qf,Jf))),i.every=t=>(t=Math.floor(t),isFinite(t)&&t>0?t>1?i.filter(r?n=>r(n)%t==0:n=>i.count(0,n)%t==0):i:null)),i}const tu=Kf((()=>{}),((t,n)=>{t.setTime(+t+n)}),((t,n)=>n-t));tu.every=t=>(t=Math.floor(t),isFinite(t)&&t>0?t>1?Kf((n=>{n.setTime(Math.floor(n/t)*t)}),((n,e)=>{n.setTime(+n+e*t)}),((n,e)=>(e-n)/t)):tu:null);tu.range;const nu=Kf((t=>{t.setTime(t-t.getMilliseconds())}),((t,n)=>{t.setTime(+t+n*Wf)}),((t,n)=>(n-t)/Wf),(t=>t.getUTCSeconds())),eu=(nu.range,Kf((t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Wf)}),((t,n)=>{t.setTime(+t+n*Hf)}),((t,n)=>(n-t)/Hf),(t=>t.getMinutes()))),ru=(eu.range,Kf((t=>{t.setUTCSeconds(0,0)}),((t,n)=>{t.setTime(+t+n*Hf)}),((t,n)=>(n-t)/Hf),(t=>t.getUTCMinutes()))),iu=(ru.range,Kf((t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Wf-t.getMinutes()*Hf)}),((t,n)=>{t.setTime(+t+n*Yf)}),((t,n)=>(n-t)/Yf),(t=>t.getHours()))),au=(iu.range,Kf((t=>{t.setUTCMinutes(0,0,0)}),((t,n)=>{t.setTime(+t+n*Yf)}),((t,n)=>(n-t)/Yf),(t=>t.getUTCHours()))),ou=(au.range,Kf((t=>t.setHours(0,0,0,0)),((t,n)=>t.setDate(t.getDate()+n)),((t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*Hf)/Vf),(t=>t.getDate()-1))),cu=(ou.range,Kf((t=>{t.setUTCHours(0,0,0,0)}),((t,n)=>{t.setUTCDate(t.getUTCDate()+n)}),((t,n)=>(n-t)/Vf),(t=>t.getUTCDate()-1))),fu=(cu.range,Kf((t=>{t.setUTCHours(0,0,0,0)}),((t,n)=>{t.setUTCDate(t.getUTCDate()+n)}),((t,n)=>(n-t)/Vf),(t=>Math.floor(t/Vf))));fu.range;function uu(t){return Kf((n=>{n.setDate(n.getDate()-(n.getDay()+7-t)%7),n.setHours(0,0,0,0)}),((t,n)=>{t.setDate(t.getDate()+7*n)}),((t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*Hf)/Xf))}const lu=uu(0),su=uu(1),du=uu(2),hu=uu(3),pu=uu(4),gu=uu(5),mu=uu(6);lu.range,su.range,du.range,hu.range,pu.range,gu.range,mu.range;function bu(t){return Kf((n=>{n.setUTCDate(n.getUTCDate()-(n.getUTCDay()+7-t)%7),n.setUTCHours(0,0,0,0)}),((t,n)=>{t.setUTCDate(t.getUTCDate()+7*n)}),((t,n)=>(n-t)/Xf))}const yu=bu(0),vu=bu(1),wu=bu(2),xu=bu(3),Mu=bu(4),ku=bu(5),_u=bu(6),$u=(yu.range,vu.range,wu.range,xu.range,Mu.range,ku.range,_u.range,Kf((t=>{t.setDate(1),t.setHours(0,0,0,0)}),((t,n)=>{t.setMonth(t.getMonth()+n)}),((t,n)=>n.getMonth()-t.getMonth()+12*(n.getFullYear()-t.getFullYear())),(t=>t.getMonth()))),Au=($u.range,Kf((t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)}),((t,n)=>{t.setUTCMonth(t.getUTCMonth()+n)}),((t,n)=>n.getUTCMonth()-t.getUTCMonth()+12*(n.getUTCFullYear()-t.getUTCFullYear())),(t=>t.getUTCMonth()))),Tu=(Au.range,Kf((t=>{t.setMonth(0,1),t.setHours(0,0,0,0)}),((t,n)=>{t.setFullYear(t.getFullYear()+n)}),((t,n)=>n.getFullYear()-t.getFullYear()),(t=>t.getFullYear())));Tu.every=t=>isFinite(t=Math.floor(t))&&t>0?Kf((n=>{n.setFullYear(Math.floor(n.getFullYear()/t)*t),n.setMonth(0,1),n.setHours(0,0,0,0)}),((n,e)=>{n.setFullYear(n.getFullYear()+e*t)})):null;Tu.range;const Su=Kf((t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)}),((t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n)}),((t,n)=>n.getUTCFullYear()-t.getUTCFullYear()),(t=>t.getUTCFullYear()));Su.every=t=>isFinite(t=Math.floor(t))&&t>0?Kf((n=>{n.setUTCFullYear(Math.floor(n.getUTCFullYear()/t)*t),n.setUTCMonth(0,1),n.setUTCHours(0,0,0,0)}),((n,e)=>{n.setUTCFullYear(n.getUTCFullYear()+e*t)})):null;Su.range;function Eu(t,n,e,r,i,a){const o=[[nu,1,Wf],[nu,5,5e3],[nu,15,15e3],[nu,30,3e4],[a,1,Hf],[a,5,3e5],[a,15,9e5],[a,30,18e5],[i,1,Yf],[i,3,108e5],[i,6,216e5],[i,12,432e5],[r,1,Vf],[r,2,1728e5],[e,1,Xf],[n,1,Zf],[n,3,7776e6],[t,1,Gf]];function c(n,e,r){const i=Math.abs(e-n)/r,a=d((([,,t])=>t)).right(o,i);if(a===o.length)return t.every(tt(n/Gf,e/Gf,r));if(0===a)return tu.every(Math.max(tt(n,e,r),1));const[c,f]=o[i/o[a-1][2]<o[a][2]/i?a-1:a];return c.every(f)}return[function(t,n,e){const r=n<t;r&&([t,n]=[n,t]);const i=e&&"function"==typeof e.range?e:c(t,n,e),a=i?i.range(t,+n+1):[];return r?a.reverse():a},c]}const[Nu,Cu]=Eu(Su,Au,yu,fu,au,ru),[Lu,Du]=Eu(Tu,$u,lu,ou,iu,eu);function Ou(t){if(0<=t.y&&t.y<100){var n=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return n.setFullYear(t.y),n}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Ru(t){if(0<=t.y&&t.y<100){var n=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return n.setUTCFullYear(t.y),n}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Fu(t,n,e){return{y:t,m:n,d:e,H:0,M:0,S:0,L:0}}var zu,ju,Uu,Pu={"-":"",_:" ",0:"0"},Iu=/^\s*\d+/,qu=/^%/,Bu=/[\\^$*+?|[\]().{}]/g;function Wu(t,n,e){var r=t<0?"-":"",i=(r?-t:t)+"",a=i.length;return r+(a<e?new Array(e-a+1).join(n)+i:i)}function Hu(t){return t.replace(Bu,"\\$&")}function Yu(t){return new RegExp("^(?:"+t.map(Hu).join("|")+")","i")}function Vu(t){return new Map(t.map(((t,n)=>[t.toLowerCase(),n])))}function Xu(t,n,e){var r=Iu.exec(n.slice(e,e+1));return r?(t.w=+r[0],e+r[0].length):-1}function Zu(t,n,e){var r=Iu.exec(n.slice(e,e+1));return r?(t.u=+r[0],e+r[0].length):-1}function Gu(t,n,e){var r=Iu.exec(n.slice(e,e+2));return r?(t.U=+r[0],e+r[0].length):-1}function Qu(t,n,e){var r=Iu.exec(n.slice(e,e+2));return r?(t.V=+r[0],e+r[0].length):-1}function Ju(t,n,e){var r=Iu.exec(n.slice(e,e+2));return r?(t.W=+r[0],e+r[0].length):-1}function Ku(t,n,e){var r=Iu.exec(n.slice(e,e+4));return r?(t.y=+r[0],e+r[0].length):-1}function tl(t,n,e){var r=Iu.exec(n.slice(e,e+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),e+r[0].length):-1}function nl(t,n,e){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(n.slice(e,e+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),e+r[0].length):-1}function el(t,n,e){var r=Iu.exec(n.slice(e,e+1));return r?(t.q=3*r[0]-3,e+r[0].length):-1}function rl(t,n,e){var r=Iu.exec(n.slice(e,e+2));return r?(t.m=r[0]-1,e+r[0].length):-1}function il(t,n,e){var r=Iu.exec(n.slice(e,e+2));return r?(t.d=+r[0],e+r[0].length):-1}function al(t,n,e){var r=Iu.exec(n.slice(e,e+3));return r?(t.m=0,t.d=+r[0],e+r[0].length):-1}function ol(t,n,e){var r=Iu.exec(n.slice(e,e+2));return r?(t.H=+r[0],e+r[0].length):-1}function cl(t,n,e){var r=Iu.exec(n.slice(e,e+2));return r?(t.M=+r[0],e+r[0].length):-1}function fl(t,n,e){var r=Iu.exec(n.slice(e,e+2));return r?(t.S=+r[0],e+r[0].length):-1}function ul(t,n,e){var r=Iu.exec(n.slice(e,e+3));return r?(t.L=+r[0],e+r[0].length):-1}function ll(t,n,e){var r=Iu.exec(n.slice(e,e+6));return r?(t.L=Math.floor(r[0]/1e3),e+r[0].length):-1}function sl(t,n,e){var r=qu.exec(n.slice(e,e+1));return r?e+r[0].length:-1}function dl(t,n,e){var r=Iu.exec(n.slice(e));return r?(t.Q=+r[0],e+r[0].length):-1}function hl(t,n,e){var r=Iu.exec(n.slice(e));return r?(t.s=+r[0],e+r[0].length):-1}function pl(t,n){return Wu(t.getDate(),n,2)}function gl(t,n){return Wu(t.getHours(),n,2)}function ml(t,n){return Wu(t.getHours()%12||12,n,2)}function bl(t,n){return Wu(1+ou.count(Tu(t),t),n,3)}function yl(t,n){return Wu(t.getMilliseconds(),n,3)}function vl(t,n){return yl(t,n)+"000"}function wl(t,n){return Wu(t.getMonth()+1,n,2)}function xl(t,n){return Wu(t.getMinutes(),n,2)}function Ml(t,n){return Wu(t.getSeconds(),n,2)}function kl(t){var n=t.getDay();return 0===n?7:n}function _l(t,n){return Wu(lu.count(Tu(t)-1,t),n,2)}function $l(t){var n=t.getDay();return n>=4||0===n?pu(t):pu.ceil(t)}function Al(t,n){return t=$l(t),Wu(pu.count(Tu(t),t)+(4===Tu(t).getDay()),n,2)}function Tl(t){return t.getDay()}function Sl(t,n){return Wu(su.count(Tu(t)-1,t),n,2)}function El(t,n){return Wu(t.getFullYear()%100,n,2)}function Nl(t,n){return Wu((t=$l(t)).getFullYear()%100,n,2)}function Cl(t,n){return Wu(t.getFullYear()%1e4,n,4)}function Ll(t,n){var e=t.getDay();return Wu((t=e>=4||0===e?pu(t):pu.ceil(t)).getFullYear()%1e4,n,4)}function Dl(t){var n=t.getTimezoneOffset();return(n>0?"-":(n*=-1,"+"))+Wu(n/60|0,"0",2)+Wu(n%60,"0",2)}function Ol(t,n){return Wu(t.getUTCDate(),n,2)}function Rl(t,n){return Wu(t.getUTCHours(),n,2)}function Fl(t,n){return Wu(t.getUTCHours()%12||12,n,2)}function zl(t,n){return Wu(1+cu.count(Su(t),t),n,3)}function jl(t,n){return Wu(t.getUTCMilliseconds(),n,3)}function Ul(t,n){return jl(t,n)+"000"}function Pl(t,n){return Wu(t.getUTCMonth()+1,n,2)}function Il(t,n){return Wu(t.getUTCMinutes(),n,2)}function ql(t,n){return Wu(t.getUTCSeconds(),n,2)}function Bl(t){var n=t.getUTCDay();return 0===n?7:n}function Wl(t,n){return Wu(yu.count(Su(t)-1,t),n,2)}function Hl(t){var n=t.getUTCDay();return n>=4||0===n?Mu(t):Mu.ceil(t)}function Yl(t,n){return t=Hl(t),Wu(Mu.count(Su(t),t)+(4===Su(t).getUTCDay()),n,2)}function Vl(t){return t.getUTCDay()}function Xl(t,n){return Wu(vu.count(Su(t)-1,t),n,2)}function Zl(t,n){return Wu(t.getUTCFullYear()%100,n,2)}function Gl(t,n){return Wu((t=Hl(t)).getUTCFullYear()%100,n,2)}function Ql(t,n){return Wu(t.getUTCFullYear()%1e4,n,4)}function Jl(t,n){var e=t.getUTCDay();return Wu((t=e>=4||0===e?Mu(t):Mu.ceil(t)).getUTCFullYear()%1e4,n,4)}function Kl(){return"+0000"}function ts(){return"%"}function ns(t){return+t}function es(t){return Math.floor(+t/1e3)}function rs(t){return new Date(t)}function is(t){return t instanceof Date?+t:+new Date(+t)}function as(t,n,e,r,i,a,o,c,f,u){var l=vf(),s=l.invert,d=l.domain,h=u(".%L"),p=u(":%S"),g=u("%I:%M"),m=u("%I %p"),b=u("%a %d"),y=u("%b %d"),v=u("%B"),w=u("%Y");function x(t){return(f(t)<t?h:c(t)<t?p:o(t)<t?g:a(t)<t?m:r(t)<t?i(t)<t?b:y:e(t)<t?v:w)(t)}return l.invert=function(t){return new Date(s(t))},l.domain=function(t){return arguments.length?d(Array.from(t,is)):d().map(rs)},l.ticks=function(n){var e=d();return t(e[0],e[e.length-1],null==n?10:n)},l.tickFormat=function(t,n){return null==n?x:u(n)},l.nice=function(t){var e=d();return t&&"function"==typeof t.range||(t=n(e[0],e[e.length-1],null==t?10:t)),t?d(_f(e,t)):l},l.copy=function(){return bf(l,as(t,n,e,r,i,a,o,c,f,u))},l}function os(t,n){return n.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function cs(){var t,n,e,r,i,a,o,c=0,f=.5,u=1,l=1,s=hf,d=!1;function h(t){return isNaN(t=+t)?o:(t=.5+((t=+a(t))-n)*(l*t<l*n?r:i),s(d?Math.max(0,Math.min(1,t)):t))}function p(t){return function(n){var e,r,i;return arguments.length?([e,r,i]=n,s=Hc(t,[e,r,i]),h):[s(0),s(.5),s(1)]}}return h.domain=function(o){return arguments.length?([c,f,u]=o,t=a(c=+c),n=a(f=+f),e=a(u=+u),r=t===n?0:.5/(n-t),i=n===e?0:.5/(e-n),l=n<t?-1:1,h):[c,f,u]},h.clamp=function(t){return arguments.length?(d=!!t,h):d},h.interpolator=function(t){return arguments.length?(s=t,h):s},h.range=p(Wc),h.rangeRound=p(gc),h.unknown=function(t){return arguments.length?(o=t,h):o},function(o){return a=o,t=o(c),n=o(f),e=o(u),r=t===n?0:.5/(n-t),i=n===e?0:.5/(e-n),l=n<t?-1:1,h}}function fs(){var t=xf(cs()(hf));return t.copy=function(){return os(t,fs())},nf.apply(t,arguments)}function us(){var t=Cf(cs()).domain([.1,1,10]);return t.copy=function(){return os(t,us()).base(t.base())},nf.apply(t,arguments)}function ls(){var t=Rf(cs());return t.copy=function(){return os(t,ls()).constant(t.constant())},nf.apply(t,arguments)}function ss(){var t=Pf(cs());return t.copy=function(){return os(t,ss()).exponent(t.exponent())},nf.apply(t,arguments)}function ds(t){for(var n=t.length/6|0,e=new Array(n),r=0;r<n;)e[r]="#"+t.slice(6*r,6*++r);return e}!function(t){zu=function(t){var n=t.dateTime,e=t.date,r=t.time,i=t.periods,a=t.days,o=t.shortDays,c=t.months,f=t.shortMonths,u=Yu(i),l=Vu(i),s=Yu(a),d=Vu(a),h=Yu(o),p=Vu(o),g=Yu(c),m=Vu(c),b=Yu(f),y=Vu(f),v={a:function(t){return o[t.getDay()]},A:function(t){return a[t.getDay()]},b:function(t){return f[t.getMonth()]},B:function(t){return c[t.getMonth()]},c:null,d:pl,e:pl,f:vl,g:Nl,G:Ll,H:gl,I:ml,j:bl,L:yl,m:wl,M:xl,p:function(t){return i[+(t.getHours()>=12)]},q:function(t){return 1+~~(t.getMonth()/3)},Q:ns,s:es,S:Ml,u:kl,U:_l,V:Al,w:Tl,W:Sl,x:null,X:null,y:El,Y:Cl,Z:Dl,"%":ts},w={a:function(t){return o[t.getUTCDay()]},A:function(t){return a[t.getUTCDay()]},b:function(t){return f[t.getUTCMonth()]},B:function(t){return c[t.getUTCMonth()]},c:null,d:Ol,e:Ol,f:Ul,g:Gl,G:Jl,H:Rl,I:Fl,j:zl,L:jl,m:Pl,M:Il,p:function(t){return i[+(t.getUTCHours()>=12)]},q:function(t){return 1+~~(t.getUTCMonth()/3)},Q:ns,s:es,S:ql,u:Bl,U:Wl,V:Yl,w:Vl,W:Xl,x:null,X:null,y:Zl,Y:Ql,Z:Kl,"%":ts},x={a:function(t,n,e){var r=h.exec(n.slice(e));return r?(t.w=p.get(r[0].toLowerCase()),e+r[0].length):-1},A:function(t,n,e){var r=s.exec(n.slice(e));return r?(t.w=d.get(r[0].toLowerCase()),e+r[0].length):-1},b:function(t,n,e){var r=b.exec(n.slice(e));return r?(t.m=y.get(r[0].toLowerCase()),e+r[0].length):-1},B:function(t,n,e){var r=g.exec(n.slice(e));return r?(t.m=m.get(r[0].toLowerCase()),e+r[0].length):-1},c:function(t,e,r){return _(t,n,e,r)},d:il,e:il,f:ll,g:tl,G:Ku,H:ol,I:ol,j:al,L:ul,m:rl,M:cl,p:function(t,n,e){var r=u.exec(n.slice(e));return r?(t.p=l.get(r[0].toLowerCase()),e+r[0].length):-1},q:el,Q:dl,s:hl,S:fl,u:Zu,U:Gu,V:Qu,w:Xu,W:Ju,x:function(t,n,r){return _(t,e,n,r)},X:function(t,n,e){return _(t,r,n,e)},y:tl,Y:Ku,Z:nl,"%":sl};function M(t,n){return function(e){var r,i,a,o=[],c=-1,f=0,u=t.length;for(e instanceof Date||(e=new Date(+e));++c<u;)37===t.charCodeAt(c)&&(o.push(t.slice(f,c)),null!=(i=Pu[r=t.charAt(++c)])?r=t.charAt(++c):i="e"===r?" ":"0",(a=n[r])&&(r=a(e,i)),o.push(r),f=c+1);return o.push(t.slice(f,c)),o.join("")}}function k(t,n){return function(e){var r,i,a=Fu(1900,void 0,1);if(_(a,t,e+="",0)!=e.length)return null;if("Q"in a)return new Date(a.Q);if("s"in a)return new Date(1e3*a.s+("L"in a?a.L:0));if(n&&!("Z"in a)&&(a.Z=0),"p"in a&&(a.H=a.H%12+12*a.p),void 0===a.m&&(a.m="q"in a?a.q:0),"V"in a){if(a.V<1||a.V>53)return null;"w"in a||(a.w=1),"Z"in a?(i=(r=Ru(Fu(a.y,0,1))).getUTCDay(),r=i>4||0===i?vu.ceil(r):vu(r),r=cu.offset(r,7*(a.V-1)),a.y=r.getUTCFullYear(),a.m=r.getUTCMonth(),a.d=r.getUTCDate()+(a.w+6)%7):(i=(r=Ou(Fu(a.y,0,1))).getDay(),r=i>4||0===i?su.ceil(r):su(r),r=ou.offset(r,7*(a.V-1)),a.y=r.getFullYear(),a.m=r.getMonth(),a.d=r.getDate()+(a.w+6)%7)}else("W"in a||"U"in a)&&("w"in a||(a.w="u"in a?a.u%7:"W"in a?1:0),i="Z"in a?Ru(Fu(a.y,0,1)).getUTCDay():Ou(Fu(a.y,0,1)).getDay(),a.m=0,a.d="W"in a?(a.w+6)%7+7*a.W-(i+5)%7:a.w+7*a.U-(i+6)%7);return"Z"in a?(a.H+=a.Z/100|0,a.M+=a.Z%100,Ru(a)):Ou(a)}}function _(t,n,e,r){for(var i,a,o=0,c=n.length,f=e.length;o<c;){if(r>=f)return-1;if(37===(i=n.charCodeAt(o++))){if(i=n.charAt(o++),!(a=x[i in Pu?n.charAt(o++):i])||(r=a(t,e,r))<0)return-1}else if(i!=e.charCodeAt(r++))return-1}return r}return v.x=M(e,v),v.X=M(r,v),v.c=M(n,v),w.x=M(e,w),w.X=M(r,w),w.c=M(n,w),{format:function(t){var n=M(t+="",v);return n.toString=function(){return t},n},parse:function(t){var n=k(t+="",!1);return n.toString=function(){return t},n},utcFormat:function(t){var n=M(t+="",w);return n.toString=function(){return t},n},utcParse:function(t){var n=k(t+="",!0);return n.toString=function(){return t},n}}}(t),ju=zu.format,zu.parse,Uu=zu.utcFormat,zu.utcParse}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});var hs=ds("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),ps=ds("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),gs=ds("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),ms=ds("4269d0efb118ff725c6cc5b03ca951ff8ab7a463f297bbf59c6b4e9498a0"),bs=ds("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),ys=ds("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),vs=ds("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),ws=ds("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),xs=ds("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),Ms=ds("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"),ks=ds("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab"),_s=t=>pr(t[t.length-1]),$s=new Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(ds),As=_s($s),Ts=new Array(3).concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(ds),Ss=_s(Ts),Es=new Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(ds),Ns=_s(Es),Cs=new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(ds),Ls=_s(Cs),Ds=new Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(ds),Os=_s(Ds),Rs=new Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(ds),Fs=_s(Rs),zs=new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(ds),js=_s(zs),Us=new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(ds),Ps=_s(Us),Is=new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(ds),qs=_s(Is),Bs=new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(ds),Ws=_s(Bs),Hs=new Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(ds),Ys=_s(Hs),Vs=new Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(ds),Xs=_s(Vs),Zs=new Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(ds),Gs=_s(Zs),Qs=new Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(ds),Js=_s(Qs),Ks=new Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(ds),td=_s(Ks),nd=new Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(ds),ed=_s(nd),rd=new Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(ds),id=_s(rd),ad=new Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(ds),od=_s(ad),cd=new Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(ds),fd=_s(cd),ud=new Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(ds),ld=_s(ud),sd=new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(ds),dd=_s(sd),hd=new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(ds),pd=_s(hd),gd=new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(ds),md=_s(gd),bd=new Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(ds),yd=_s(bd),vd=new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(ds),wd=_s(vd),xd=new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(ds),Md=_s(xd),kd=new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(ds),_d=_s(kd);function $d(t){return t=Math.max(0,Math.min(1,t)),"rgb("+Math.max(0,Math.min(255,Math.round(-4.54-t*(35.34-t*(2381.73-t*(6402.7-t*(7024.72-2710.57*t)))))))+", "+Math.max(0,Math.min(255,Math.round(32.49+t*(170.73+t*(52.82-t*(131.46-t*(176.58-67.37*t)))))))+", "+Math.max(0,Math.min(255,Math.round(81.24+t*(442.36-t*(2482.43-t*(6167.24-t*(6614.94-2475.67*t)))))))+")"}var Ad=-.14861,Td=1.78277,Sd=-.29227,Ed=-.90649,Nd=1.97294,Cd=Nd*Ed,Ld=Nd*Td,Dd=Td*Sd-Ed*Ad;function Od(t,n,e,r){return 1===arguments.length?function(t){if(t instanceof Rd)return new Rd(t.h,t.s,t.l,t.opacity);t instanceof Ve||(t=He(t));var n=t.r/255,e=t.g/255,r=t.b/255,i=(Dd*r+Cd*n-Ld*e)/(Dd+Cd-Ld),a=r-i,o=(Nd*(e-i)-Sd*a)/Ed,c=Math.sqrt(o*o+a*a)/(Nd*i*(1-i)),f=c?Math.atan2(o,a)*vc-120:NaN;return new Rd(f<0?f+360:f,c,i,t.opacity)}(t):new Rd(t,n,e,null==r?1:r)}function Rd(t,n,e,r){this.h=+t,this.s=+n,this.l=+e,this.opacity=+r}function Fd(t){return function n(e){function r(n,r){var i=t((n=Od(n)).h,(r=Od(r)).h),a=sr(n.s,r.s),o=sr(n.l,r.l),c=sr(n.opacity,r.opacity);return function(t){return n.h=i(t),n.s=a(t),n.l=o(Math.pow(t,e)),n.opacity=c(t),n+""}}return e=+e,r.gamma=n,r}(1)}_e(Rd,Od,$e(Ae,{brighter(t){return t=null==t?Se:Math.pow(Se,t),new Rd(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=null==t?Te:Math.pow(Te,t),new Rd(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=isNaN(this.h)?0:(this.h+120)*yc,n=+this.l,e=isNaN(this.s)?0:this.s*n*(1-n),r=Math.cos(t),i=Math.sin(t);return new Ve(255*(n+e*(Ad*r+Td*i)),255*(n+e*(Sd*r+Ed*i)),255*(n+e*(Nd*r)),this.opacity)}}));Fd(ur);var zd=Fd(sr),jd=zd(Od(300,.5,0),Od(-240,.5,1)),Ud=zd(Od(-100,.75,.35),Od(80,1.5,.8)),Pd=zd(Od(260,.75,.35),Od(80,1.5,.8)),Id=Od();function qd(t){(t<0||t>1)&&(t-=Math.floor(t));var n=Math.abs(t-.5);return Id.h=360*t-100,Id.s=1.5-1.5*n,Id.l=.8-.9*n,Id+""}var Bd=Ye(),Wd=Math.PI/3,Hd=2*Math.PI/3;function Yd(t){var n;return t=(.5-t)*Math.PI,Bd.r=255*(n=Math.sin(t))*n,Bd.g=255*(n=Math.sin(t+Wd))*n,Bd.b=255*(n=Math.sin(t+Hd))*n,Bd+""}function Vd(t){return t=Math.max(0,Math.min(1,t)),"rgb("+Math.max(0,Math.min(255,Math.round(34.61+t*(1172.33-t*(10793.56-t*(33300.12-t*(38394.49-14825.05*t)))))))+", "+Math.max(0,Math.min(255,Math.round(23.31+t*(557.33+t*(1225.33-t*(3574.96-t*(1073.77+707.56*t)))))))+", "+Math.max(0,Math.min(255,Math.round(27.2+t*(3211.1-t*(15327.97-t*(27814-t*(22569.18-6838.66*t)))))))+")"}function Xd(t){var n=t.length;return function(e){return t[Math.max(0,Math.min(n-1,Math.floor(e*n)))]}}var Zd=Xd(ds("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725")),Gd=Xd(ds("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),Qd=Xd(ds("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),Jd=Xd(ds("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));function Kd(t){return"string"==typeof t?new An([[document.querySelector(t)]],[document.documentElement]):new An([[t]],$n)}Math.abs,Math.atan2;const th=Math.cos,nh=(Math.max,Math.min),eh=Math.sin,rh=Math.sqrt,ih=Math.PI,ah=2*ih;const oh=rh(3);var ch={draw(t,n){const e=.59436*rh(n+nh(n/28,.75)),r=e/2,i=r*oh;t.moveTo(0,e),t.lineTo(0,-e),t.moveTo(-i,-r),t.lineTo(i,r),t.moveTo(-i,r),t.lineTo(i,-r)}},fh={draw(t,n){const e=rh(n/ih);t.moveTo(e,0),t.arc(0,0,e,0,ah)}},uh={draw(t,n){const e=rh(n/5)/2;t.moveTo(-3*e,-e),t.lineTo(-e,-e),t.lineTo(-e,-3*e),t.lineTo(e,-3*e),t.lineTo(e,-e),t.lineTo(3*e,-e),t.lineTo(3*e,e),t.lineTo(e,e),t.lineTo(e,3*e),t.lineTo(-e,3*e),t.lineTo(-e,e),t.lineTo(-3*e,e),t.closePath()}};const lh=rh(1/3),sh=2*lh;var dh={draw(t,n){const e=rh(n/sh),r=e*lh;t.moveTo(0,-e),t.lineTo(r,0),t.lineTo(0,e),t.lineTo(-r,0),t.closePath()}},hh={draw(t,n){const e=.62625*rh(n);t.moveTo(0,-e),t.lineTo(e,0),t.lineTo(0,e),t.lineTo(-e,0),t.closePath()}},ph={draw(t,n){const e=.87559*rh(n-nh(n/7,2));t.moveTo(-e,0),t.lineTo(e,0),t.moveTo(0,e),t.lineTo(0,-e)}},gh={draw(t,n){const e=rh(n),r=-e/2;t.rect(r,r,e,e)}},mh={draw(t,n){const e=.4431*rh(n);t.moveTo(e,e),t.lineTo(e,-e),t.lineTo(-e,-e),t.lineTo(-e,e),t.closePath()}};const bh=eh(ih/10)/eh(7*ih/10),yh=eh(ah/10)*bh,vh=-th(ah/10)*bh;var wh={draw(t,n){const e=rh(.8908130915292852*n),r=yh*e,i=vh*e;t.moveTo(0,-e),t.lineTo(r,i);for(let a=1;a<5;++a){const n=ah*a/5,o=th(n),c=eh(n);t.lineTo(c*e,-o*e),t.lineTo(o*r-c*i,c*r+o*i)}t.closePath()}};const xh=rh(3);var Mh={draw(t,n){const e=-rh(n/(3*xh));t.moveTo(0,2*e),t.lineTo(-xh*e,-e),t.lineTo(xh*e,-e),t.closePath()}};const kh=rh(3);var _h={draw(t,n){const e=.6824*rh(n),r=e/2,i=e*kh/2;t.moveTo(0,-e),t.lineTo(i,r),t.lineTo(-i,r),t.closePath()}};const $h=-.5,Ah=rh(3)/2,Th=1/rh(12),Sh=3*(Th/2+1);var Eh={draw(t,n){const e=rh(n/Sh),r=e/2,i=e*Th,a=r,o=e*Th+e,c=-a,f=o;t.moveTo(r,i),t.lineTo(a,o),t.lineTo(c,f),t.lineTo($h*r-Ah*i,Ah*r+$h*i),t.lineTo($h*a-Ah*o,Ah*a+$h*o),t.lineTo($h*c-Ah*f,Ah*c+$h*f),t.lineTo($h*r+Ah*i,$h*i-Ah*r),t.lineTo($h*a+Ah*o,$h*o-Ah*a),t.lineTo($h*c+Ah*f,$h*f-Ah*c),t.closePath()}},Nh={draw(t,n){const e=.6189*rh(n-nh(n/6,1.7));t.moveTo(-e,-e),t.lineTo(e,e),t.moveTo(-e,e),t.lineTo(e,-e)}};const Ch=[fh,uh,dh,gh,wh,Mh,Eh],Lh=[fh,ph,Nh,_h,ch,mh,hh];function Dh(t,n,e){this.k=t,this.x=n,this.y=e}Dh.prototype={constructor:Dh,scale:function(t){return 1===t?this:new Dh(this.k*t,this.x,this.y)},translate:function(t,n){return 0===t&0===n?this:new Dh(this.k,this.x+this.k*t,this.y+this.k*n)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};new Dh(1,0,0);function Oh(t){return null!=t&&!Number.isNaN(t)}function Rh(t,n){return+Oh(n)-+Oh(t)||l(t,n)}function Fh(t,n){return+Oh(n)-+Oh(t)||s(t,n)}function zh(t){return null!=t&&""!=`${t}`}function jh(t){return isFinite(t)?t:NaN}function Uh(t){return t>0&&isFinite(t)?t:NaN}function Ph(t){return t<0&&isFinite(t)?t:NaN}Dh.prototype;const Ih=/^(?:[-+]\d{2})?\d{4}(?:-\d{2}(?:-\d{2})?)?(?:T\d{2}:\d{2}(?::\d{2}(?:\.\d{3})?)?(?:Z|[-+]\d{2}:?\d{2})?)?$/;function qh(t,n){return Ih.test(t+="")?new Date(t):"function"==typeof n?n(t):n}function Bh(t){if(null==t)return;return s(t[0],t[t.length-1])}const Wh=1e3,Hh=6e4,Yh=36e5,Vh=864e5,Xh=7*Vh,Zh=30*Vh,Gh=365*Vh,Qh=[["millisecond",1],["2 milliseconds",2],["5 milliseconds",5],["10 milliseconds",10],["20 milliseconds",20],["50 milliseconds",50],["100 milliseconds",100],["200 milliseconds",200],["500 milliseconds",500],["second",Wh],["5 seconds",5e3],["15 seconds",15e3],["30 seconds",3e4],["minute",Hh],["5 minutes",3e5],["15 minutes",9e5],["30 minutes",18e5],["hour",Yh],["3 hours",108e5],["6 hours",216e5],["12 hours",432e5],["day",Vh],["2 days",2*Vh],["week",Xh],["2 weeks",2*Xh],["month",Zh],["3 months",3*Zh],["6 months",6*Zh],["year",Gh],["2 years",2*Gh],["5 years",5*Gh],["10 years",10*Gh],["20 years",20*Gh],["50 years",50*Gh],["100 years",100*Gh]],Jh=new Map([["second",Wh],["minute",Hh],["hour",Yh],["day",Vh],["monday",Xh],["tuesday",Xh],["wednesday",Xh],["thursday",Xh],["friday",Xh],["saturday",Xh],["sunday",Xh],["week",Xh],["month",Zh],["year",Gh]]),Kh=new Map([["second",nu],["minute",eu],["hour",iu],["day",ou],["monday",su],["tuesday",du],["wednesday",hu],["thursday",pu],["friday",gu],["saturday",mu],["sunday",lu],["week",lu],["month",$u],["year",Tu]]),tp=new Map([["second",nu],["minute",ru],["hour",au],["day",fu],["monday",vu],["tuesday",wu],["wednesday",xu],["thursday",Mu],["friday",ku],["saturday",_u],["sunday",yu],["week",yu],["month",Au],["year",Su]]),np=Symbol("intervalDuration"),ep=Symbol("intervalType");for(const[it,hx]of Kh)hx[np]=Jh.get(it),hx[ep]="time";for(const[it,hx]of tp)hx[np]=Jh.get(it),hx[ep]="utc";const rp=[["year",Su,"utc"],["month",Au,"utc"],["day",fu,"utc",6*Zh],["hour",au,"utc",3*Vh],["minute",ru,"utc",216e5],["second",nu,"utc",18e5]],ip=[["year",Tu,"time"],["month",$u,"time"],["day",ou,"time",6*Zh],["hour",iu,"time",3*Vh],["minute",eu,"time",216e5],["second",nu,"time",18e5]],ap=[rp[0],ip[0],rp[1],ip[1],rp[2],ip[2],...rp.slice(3)];function op(t){let n=`${t}`.toLowerCase();n.endsWith("s")&&(n=n.slice(0,-1));let e=1;const r=/^(?:(\d+)\s+)/.exec(n);switch(r&&(n=n.slice(r[0].length),e=+r[1]),n){case"quarter":n="month",e*=3;break;case"half":n="month",e*=6}let i=tp.get(n);if(!i)throw new Error(`unknown interval: ${t}`);if(e>1&&!i.every)throw new Error(`non-periodic interval: ${n}`);return[n,e]}function cp(t){return up(op(t),"time")}function fp(t){return up(op(t),"utc")}function up([t,n],e){let r=("time"===e?Kh:tp).get(t);return n>1&&(r=r.every(n),r[np]=Jh.get(t)*n,r[ep]=e),r}function lp(t,n){if(!(n>1))return;const e=t[np];if(!Qh.some((([,t])=>t===e)))return;if(e%Vh==0&&Vh<e&&e<Zh)return;const[r]=Qh[d((([,t])=>Math.log(t))).center(Qh,Math.log(e*n))];return("time"===t[ep]?cp:fp)(r)}function sp(t,n,e){const r="time"===n?ju:Uu;if(null==e)return r("year"===t?"%Y":"month"===t?"%Y-%m":"day"===t?"%Y-%m-%d":"hour"===t||"minute"===t?"%Y-%m-%dT%H:%M":"second"===t?"%Y-%m-%dT%H:%M:%S":"%Y-%m-%dT%H:%M:%S.%L");const i=function(t){return"left"===t||"right"===t?(t,n)=>`\n${t}\n${n}`:"top"===t?(t,n)=>`${n}\n${t}`:(t,n)=>`${t}\n${n}`}(e);switch(t){case"millisecond":return hp(r(".%L"),r(":%M:%S"),i);case"second":return hp(r(":%S"),r("%-I:%M"),i);case"minute":return hp(r("%-I:%M"),r("%p"),i);case"hour":return hp(r("%-I %p"),r("%b %-d"),i);case"day":return hp(r("%-d"),r("%b"),i);case"month":return hp(r("%b"),r("%Y"),i);case"year":return r("%Y")}throw new Error("unable to format time ticks")}function dp(t,n,e){const r=N(function(t,n=H){const e=[];let r,i=!1;for(const a of t)i&&e.push(n(r,a)),r=a,i=!0;return e}(n,((t,n)=>Math.abs(n-t))));if(r<1e3)return sp("millisecond","utc",e);for(const[i,a,o,c]of function(t){return"time"===t?ip:"utc"===t?rp:ap}(t)){if(r>c)break;if("hour"===i&&!r)break;if(n.every((t=>a.floor(t)>=t)))return sp(i,o,e)}}function hp(t,n,e){return(r,i,a)=>{const o=t(r,i),c=n(r,i),f=i-Bh(a);return i!==f&&void 0!==a[f]&&c===n(a[f],f)?o:e(o,c)}}const pp=Object.getPrototypeOf(Uint8Array),gp=Object.prototype.toString,mp=Symbol("reindex");function bp(t,n,e){const r=typeof n;return"string"===r?yp(t,xp(n),e):"function"===r?yp(t,n,e):"number"===r||n instanceof Date||"boolean"===r?Up(t,Ep(n),e):"function"==typeof n?.transform?vp(n.transform(t),e):function(t,n){return null!=t&&n?Vp(t,n):t}(vp(n,e),t?.[mp])}function yp(t,n,e){return Up(t,e?.prototype instanceof pp?function(t){return(n,e)=>Cp(t(n,e))}(n):n,e)}function vp(t,n){return void 0===n?jp(t):t instanceof n?t:n.prototype instanceof pp&&!(t instanceof pp)?n.from(t,Cp):n.from(t)}const wp=[null],xp=t=>n=>n[t],Mp={transform:Yp},kp={transform:t=>t},_p=()=>!0,$p=t=>null==t?t:`${t}`,Ap=t=>null==t?t:+t,Tp=t=>t?t[0]:void 0,Sp=t=>t?t[1]:void 0,Ep=t=>()=>t;function Np(t){return t instanceof pp?t:Up(t,Cp,Float64Array)}function Cp(t){return null==t?NaN:Number(t)}function Lp(t){return Up(t,Dp)}function Dp(t){return t instanceof Date&&!isNaN(t)?t:"string"==typeof t?qh(t):null==t||isNaN(t=+t)?void 0:new Date(t)}function Op(t,n){return void 0===t&&(t=n),null===t?[void 0,"none"]:ug(t)?[void 0,t]:[t,void 0]}function Rp(t,n){return void 0===t&&(t=n),null===t||"number"==typeof t?[void 0,t]:[t,void 0]}function Fp(t,n,e){if(null!=t)return zp(t,n,e)}function zp(t,n,e){const r=`${t}`.toLowerCase();if(!e.includes(r))throw new Error(`invalid ${n}: ${t}`);return r}function jp(t){return null==t||t instanceof Array||t instanceof pp?t:Array.from(t)}function Up(t,n,e=Array){return null==t?t:t instanceof e?t.map(n):e.from(t,n)}function Pp(t,n=Array){return t instanceof n?t.slice():n.from(t)}function Ip(t){return t?.toString===gp}function qp(t){return Ip(t)&&(void 0!==t.type||void 0!==t.domain)}function Bp(t){return Ip(t)&&"function"!=typeof t.transform}function Wp(t){return Bp(t)&&void 0===t.value&&void 0===t.channel}function Hp(t,n){return void 0===t&&void 0===n?[Tp,Sp]:[t,n]}function Yp(t){const n=t.length,e=new Uint32Array(n);for(let r=0;r<n;++r)e[r]=r;return e}function Vp(t,n){return Up(n,(n=>t[n]),t.constructor)}function Xp(t){return null!==t&&"object"==typeof t?t.valueOf():t}function Zp(t,n){return"string"==typeof t?t:t&&void 0!==t.label?t.label:n}function Gp(t,n){const e=Qp(t,n);return e&&(t=>Oh(t)?e.floor(t):t)}function Qp(t,n){if(null!=t){if("number"==typeof t)return function(t){t=+t,0<t&&t<1&&Number.isInteger(1/t)&&(t=-1/t);const n=Math.abs(t);return t<0?{floor:t=>Math.floor(t*n)/n,offset:(t,e=1)=>(t*n+Math.floor(e))/n,range:(t,e)=>Y(Math.ceil(t*n),e*n).map((t=>t/n))}:{floor:t=>Math.floor(t/n)*n,offset:(t,e=1)=>t+n*Math.floor(e),range:(t,e)=>Y(Math.ceil(t/n),e/n).map((t=>t*n))}}(t);if("string"==typeof t)return("time"===n?cp:fp)(t);if("function"!=typeof t.floor)throw new Error("invalid interval; missing floor method");if("function"!=typeof t.offset)throw new Error("invalid interval; missing offset method");return t}}function Jp(t,n){if((t=Qp(t,n))&&"function"!=typeof t.range)throw new Error("invalid interval: missing range method");return t}function Kp(t){return"function"==typeof t?.range}function tg(t){return void 0===t||Bp(t)?t:{value:t}}function ng(t){return t&&"function"==typeof t[Symbol.iterator]}function eg(t){for(const n of t)if(null!=n)return"object"!=typeof n||n instanceof Date}function rg(t){for(const n of t){if(null==n)continue;const t=typeof n;return"string"===t||"boolean"===t}}function ig(t){for(const n of t)if(null!=n)return n instanceof Date}function ag(t){for(const n of t)if(null!=n)return"string"==typeof n&&isNaN(n)&&qh(n)}function og(t){for(const n of t)if(null!=n){if("string"!=typeof n)return!1;if(n.trim())return!isNaN(n)}}function cg(t,n){let e;for(const r of t)if(null!=r){if(!n(r))return!1;e=!0}return e}const fg=new Set("none,currentcolor,transparent,aliceblue,antiquewhite,aqua,aquamarine,azure,beige,bisque,black,blanchedalmond,blue,blueviolet,brown,burlywood,cadetblue,chartreuse,chocolate,coral,cornflowerblue,cornsilk,crimson,cyan,darkblue,darkcyan,darkgoldenrod,darkgray,darkgreen,darkgrey,darkkhaki,darkmagenta,darkolivegreen,darkorange,darkorchid,darkred,darksalmon,darkseagreen,darkslateblue,darkslategray,darkslategrey,darkturquoise,darkviolet,deeppink,deepskyblue,dimgray,dimgrey,dodgerblue,firebrick,floralwhite,forestgreen,fuchsia,gainsboro,ghostwhite,gold,goldenrod,gray,green,greenyellow,grey,honeydew,hotpink,indianred,indigo,ivory,khaki,lavender,lavenderblush,lawngreen,lemonchiffon,lightblue,lightcoral,lightcyan,lightgoldenrodyellow,lightgray,lightgreen,lightgrey,lightpink,lightsalmon,lightseagreen,lightskyblue,lightslategray,lightslategrey,lightsteelblue,lightyellow,lime,limegreen,linen,magenta,maroon,mediumaquamarine,mediumblue,mediumorchid,mediumpurple,mediumseagreen,mediumslateblue,mediumspringgreen,mediumturquoise,mediumvioletred,midnightblue,mintcream,mistyrose,moccasin,navajowhite,navy,oldlace,olive,olivedrab,orange,orangered,orchid,palegoldenrod,palegreen,paleturquoise,palevioletred,papayawhip,peachpuff,peru,pink,plum,powderblue,purple,rebeccapurple,red,rosybrown,royalblue,saddlebrown,salmon,sandybrown,seagreen,seashell,sienna,silver,skyblue,slateblue,slategray,slategrey,snow,springgreen,steelblue,tan,teal,thistle,tomato,turquoise,violet,wheat,white,whitesmoke,yellow".split(","));function ug(t){return"string"==typeof t&&(t=t.toLowerCase().trim(),/^#[0-9a-f]{3,8}$/.test(t)||/^(?:url|var|rgb|rgba|hsl|hsla|hwb|lab|lch|oklab|oklch|color|color-mix)\(.*\)$/.test(t)||fg.has(t))}function lg(t){return"number"==typeof t&&(0<=t&&t<=1||isNaN(t))}function sg(t){return null==t||dg(t)}function dg(t){return/^\s*none\s*$/i.test(t)}function hg(t,n){return Fp(t,n,["middle","top-left","top","top-right","right","bottom-right","bottom","bottom-left","left"])}function pg(t="middle"){return hg(t,"frameAnchor")}function gg(t){return ng(t)?function(t){console.warn("named iterables are deprecated; please use an object instead");const n=new Set;return Object.fromEntries(Array.from(t,(t=>{const{name:e}=t;if(null==e)throw new Error("missing name");const r=`${e}`;if("__proto__"===r)throw new Error(`illegal name: ${r}`);if(n.has(r))throw new Error(`duplicate name: ${r}`);return n.add(r),[e,t]})))}(t):t}function mg(t){return!0===t?t="frame":!1===t?t=null:null!=t&&(t=zp(t,"clip",["frame","sphere"])),t}const bg=Symbol("position"),yg=Symbol("color"),vg=Symbol("radius"),wg=Symbol("length"),xg=Symbol("opacity"),Mg=Symbol("symbol"),kg=Symbol("projection"),_g=new Map([["x",bg],["y",bg],["fx",bg],["fy",bg],["r",vg],["color",yg],["opacity",xg],["symbol",Mg],["length",wg],["projection",kg]]);const $g=2/Math.sqrt(3),Ag={draw(t,n){const e=Math.sqrt(n/Math.PI),r=e*$g,i=r/2;t.moveTo(0,r),t.lineTo(e,i),t.lineTo(e,-i),t.lineTo(0,-r),t.lineTo(-e,-i),t.lineTo(-e,i),t.closePath()}},Tg=new Map([["asterisk",ch],["circle",fh],["cross",uh],["diamond",dh],["diamond2",hh],["hexagon",Ag],["plus",ph],["square",gh],["square2",mh],["star",wh],["times",Nh],["triangle",Mh],["triangle2",_h],["wye",Eh]]);function Sg(t){return t&&"function"==typeof t.draw}function Eg(t){return!!Sg(t)||"string"==typeof t&&Tg.has(t.toLowerCase())}function Ng(t){if(null==t||Sg(t))return t;const n=Tg.get(`${t}`.toLowerCase());if(n)return n;throw new Error(`invalid symbol: ${t}`)}function Cg(t,n,e=Lg){if(null==t)return e(t);if("function"==typeof t.reduceIndex)return t;if("function"==typeof t.reduce&&Ip(t))return function(t){return console.warn("deprecated reduce interface; implement reduceIndex instead."),{...t,reduceIndex:t.reduce.bind(t)}}(t);if("function"==typeof t)return r=t,{reduceIndex(t,n,e){return r(Vp(n,t),e)}};var r;if(/^p\d{2}$/i.test(t))return Dg(function(t){const n=+`${t}`.slice(1)/100;return(t,e)=>P(t,n,e)}(t));switch(`${t}`.toLowerCase()){case"first":return Fg;case"last":return zg;case"identity":return Rg;case"count":return jg;case"distinct":return Ug;case"sum":return null==n?jg:Pg;case"proportion":return Ig(n,"data");case"proportion-facet":return Ig(n,"facet");case"deviation":return Dg(y);case"min":return Dg(D);case"min-index":return Dg(B);case"max":return Dg(N);case"max-index":return Dg(C);case"mean":return Og(L);case"median":return Og(q);case"variance":return Dg(b);case"mode":return Dg(W)}return e(t)}function Lg(t){throw new Error(`invalid reduce: ${t}`)}function Dg(t){return{reduceIndex(n,e){return t(n,(t=>e[t]))}}}function Og(t){return{reduceIndex(n,e){const r=t(n,(t=>e[t]));return ig(e)?new Date(r):r}}}const Rg={reduceIndex(t,n){return Vp(n,t)}},Fg={reduceIndex(t,n){return n[t[0]]}},zg={reduceIndex(t,n){return n[t[t.length-1]]}},jg={label:"Frequency",reduceIndex(t){return t.length}},Ug={label:"Distinct",reduceIndex(t,n){const e=new x;for(const r of t)e.add(n[r]);return e.size}},Pg=Dg(V);function Ig(t,n){return null==t?{scope:n,label:"Frequency",reduceIndex:(t,n,e=1)=>t.length/e}:{scope:n,reduceIndex:(t,n,e=1)=>V(t,(t=>n[t]))/e}}function qg(t,{scale:n,type:e,value:r,filter:i,hint:a,label:o=Zp(r)},c){return void 0===a&&"function"==typeof r?.transform&&(a=r.hint),Bg(c,{scale:n,type:e,value:bp(t,r),label:o,filter:i,hint:a})}function Bg(t,n){const{scale:e,value:r}=n;if(!0===e||"auto"===e)switch(t){case"fill":case"stroke":case"color":n.scale=!0!==e&&cg(r,ug)?null:"color";break;case"fillOpacity":case"strokeOpacity":case"opacity":n.scale=!0!==e&&cg(r,lg)?null:"opacity";break;case"symbol":!0!==e&&cg(r,Eg)?(n.scale=null,n.value=Up(r,Ng)):n.scale="symbol";break;default:n.scale=_g.has(t)?t:null}else if(!1===e)n.scale=null;else if(null!=e&&!_g.has(e))throw new Error(`unknown scale: ${e}`);return n}function Wg(t,n){for(const e in t){const r=t[e];if(r.scale===n)return r}}function Hg(t,n){const e=t.original;if(e===t)return n;const r=n.value,i=n.value=[];for(let a=0;a<e.length;++a){const n=r[e[a][0]];for(const e of t[a])i[e]=n}return n}function Yg(t,n,e){const r=Vg(t,n);return Up(Vg(t,e),((t,n)=>Math.abs(t-r[n])),Float64Array)}function Vg(t,n,e){let r=t[n];if(r||void 0===e||(r=t[e]),r)return r.value;throw new Error(`missing channel: ${n}`)}function Xg(t){if(null==t||"function"==typeof t)return t;switch(`${t}`.toLowerCase()){case"ascending":return Zg;case"descending":return Gg}throw new Error(`invalid order: ${t}`)}function Zg([t,n],[e,r]){return Rh(n,r)||Rh(t,e)}function Gg([t,n],[e,r]){return Fh(n,r)||Rh(t,e)}function Qg(t,n){let e=t[n];if(e){for(;e.source;)e=e.source;return null===e.source?null:e}}const Jg=new Map([["accent",ps],["category10",hs],["dark2",gs],["observable10",ms],["paired",bs],["pastel1",ys],["pastel2",vs],["set1",ws],["set2",xs],["set3",Ms],["tableau10",ks]]);const Kg=new Map([...Jg,["brbg",nm($s,As)],["prgn",nm(Ts,Ss)],["piyg",nm(Es,Ns)],["puor",nm(Cs,Ls)],["rdbu",nm(Ds,Os)],["rdgy",nm(Rs,Fs)],["rdylbu",nm(zs,js)],["rdylgn",nm(Us,Ps)],["spectral",nm(Is,qs)],["burd",em(Ds,Os)],["buylrd",em(zs,js)],["blues",tm(hd,pd)],["greens",tm(gd,md)],["greys",tm(bd,yd)],["oranges",tm(kd,_d)],["purples",tm(vd,wd)],["reds",tm(xd,Md)],["turbo",rm(Vd)],["viridis",rm(Zd)],["magma",rm(Gd)],["inferno",rm(Qd)],["plasma",rm(Jd)],["cividis",rm($d)],["cubehelix",rm(jd)],["warm",rm(Ud)],["cool",rm(Pd)],["bugn",tm(Bs,Ws)],["bupu",tm(Hs,Ys)],["gnbu",tm(Vs,Xs)],["orrd",tm(Zs,Gs)],["pubu",tm(Ks,td)],["pubugn",tm(Qs,Js)],["purd",tm(nd,ed)],["rdpu",tm(rd,id)],["ylgn",tm(cd,fd)],["ylgnbu",tm(ad,od)],["ylorbr",tm(ud,ld)],["ylorrd",tm(sd,dd)],["rainbow",im(qd)],["sinebow",im(Yd)]]);function tm(t,n){return({length:e})=>1===e?[t[3][1]]:2===e?[t[3][1],t[3][2]]:(e=Math.max(3,Math.floor(e)))>9?Yc(n,e):t[e]}function nm(t,n){return({length:e})=>2===e?[t[3][0],t[3][2]]:(e=Math.max(3,Math.floor(e)))>11?Yc(n,e):t[e]}function em(t,n){return({length:e})=>2===e?[t[3][2],t[3][0]]:(e=Math.max(3,Math.floor(e)))>11?Yc((t=>n(1-t)),e):t[e].slice().reverse()}function rm(t){return({length:n})=>Yc(t,Math.max(2,Math.floor(n)))}function im(t){return({length:n})=>Yc(t,Math.floor(n)+1).slice(0,-1)}function am(t){const n=`${t}`.toLowerCase();if(!Kg.has(n))throw new Error(`unknown ordinal scheme: ${n}`);return Kg.get(n)}function om(t,n){const e=am(t),r="function"==typeof e?e({length:n}):e;return r.length!==n?r.slice(0,n):r}const cm=new Map([["brbg",As],["prgn",Ss],["piyg",Ns],["puor",Ls],["rdbu",Os],["rdgy",Fs],["rdylbu",js],["rdylgn",Ps],["spectral",qs],["burd",t=>Os(1-t)],["buylrd",t=>js(1-t)],["blues",pd],["greens",md],["greys",yd],["purples",wd],["reds",Md],["oranges",_d],["turbo",Vd],["viridis",Zd],["magma",Gd],["inferno",Qd],["plasma",Jd],["cividis",$d],["cubehelix",jd],["warm",Ud],["cool",Pd],["bugn",Ws],["bupu",Ys],["gnbu",Xs],["orrd",Gs],["pubugn",Js],["pubu",td],["purd",ed],["rdpu",id],["ylgnbu",od],["ylgn",fd],["ylorbr",ld],["ylorrd",dd],["rainbow",qd],["sinebow",Yd]]);function fm(t){const n=`${t}`.toLowerCase();if(!cm.has(n))throw new Error(`unknown quantitative scheme: ${n}`);return cm.get(n)}const um=new Set(["brbg","prgn","piyg","puor","rdbu","rdgy","rdylbu","rdylgn","spectral","burd","buylrd"]);const lm=t=>n=>t(1-n),sm=[0,1],dm=new Map([["number",he],["rgb",dr],["hsl",bc],["hcl",Uc],["lab",function(t,n){var e=sr((t=Sc(t)).l,(n=Sc(n)).l),r=sr(t.a,n.a),i=sr(t.b,n.b),a=sr(t.opacity,n.opacity);return function(n){return t.l=e(n),t.a=r(n),t.b=i(n),t.opacity=a(n),t+""}}]]);function hm(t){const n=`${t}`.toLowerCase();if(!dm.has(n))throw new Error(`unknown interpolator: ${n}`);return dm.get(n)}function pm(t,n,e,{type:r,nice:i,clamp:a,zero:o,domain:c=xm(t,e),unknown:f,round:u,scheme:l,interval:s,range:d=(_g.get(t)===vg?km(e,c):_g.get(t)===wg?_m(e,c):_g.get(t)===xg?sm:void 0),interpolate:h=(_g.get(t)===yg?null==l&&void 0!==d?dr:fm(void 0!==l?l:"cyclical"===r?"rainbow":"turbo"):u?gc:he),reverse:p}){if(s=Jp(s,r),"cyclical"!==r&&"sequential"!==r||(r="linear"),"function"!=typeof h&&(h=hm(h)),p=!!p,void 0!==d){if((c=jp(c)).length!==(d=jp(d)).length){if(1===h.length)throw new Error("invalid piecewise interpolator");h=Hc(h,d),d=void 0}}if(1===h.length?(p&&(h=lm(h),p=!1),void 0===d&&2===(d=Float64Array.from(c,((t,n)=>n/(c.length-1)))).length&&(d=sm),n.interpolate((d===sm?Ep:Tm)(h))):n.interpolate(h),o){const[t,n]=v(c);if(t>0||n<0){(Bh(c=Pp(c))||1)===Math.sign(t)?c[0]=0:c[c.length-1]=0}}return p&&(c=nt(c)),n.domain(c).unknown(f),i&&(n.nice(function(t,n){return!0===t?void 0:"number"==typeof t?t:function(t,n){if((t=Jp(t,n))&&"function"!=typeof t.ceil)throw new Error("invalid interval: missing ceil method");return t}(t,n)}(i,r)),c=n.domain()),void 0!==d&&n.range(d),a&&n.clamp(a),{type:r,domain:c,range:d,scale:n,interpolate:h,interval:s}}function gm(t,n,{exponent:e=1,...r}){return pm(t,If().exponent(e),n,{...r,type:"pow"})}function mm(t,n,{base:e=10,domain:r=$m(n),...i}){return pm(t,Lf().base(e),n,{...i,domain:r})}function bm(t,n,{constant:e=1,...r}){return pm(t,Ff().constant(e),n,r)}function ym(t,n,{range:e,quantiles:r=(void 0===e?5:(e=[...e]).length),n:i=r,scheme:a="rdylbu",domain:o=Am(n),unknown:c,interpolate:f,reverse:u}){return void 0===e&&(e=void 0!==f?Yc(f,i):_g.get(t)===yg?om(a,i):void 0),o.length>0&&(o=qf(o,void 0===e?{length:i}:e).quantiles()),vm(t,n,{domain:o,range:e,reverse:u,unknown:c})}function vm(t,n,{domain:e=[0],unknown:r,scheme:i="rdylbu",interpolate:a,range:o=(void 0!==a?Yc(a,e.length+1):_g.get(t)===yg?om(i,e.length+1):void 0),reverse:c}){const f=Bh(e=jp(e));if(!isNaN(f)&&!function(t,n){for(let e=1,r=t.length,i=t[0];e<r;++e){const r=s(i,i=t[e]);if(0!==r&&r!==n)return!1}return!0}(e,f))throw new Error(`the ${t} scale has a non-monotonic domain`);return c&&(o=nt(o)),{type:"threshold",scale:Bf(f<0?nt(e):e,void 0===o?[]:o).unknown(r),domain:e,range:o}}function wm(t,n=jh){return t.length?[D(t,(({value:t})=>void 0===t?t:D(t,n))),N(t,(({value:t})=>void 0===t?t:N(t,n)))]:[0,1]}function xm(t,n){const e=_g.get(t);return(e===vg||e===xg||e===wg?Mm:wm)(n)}function Mm(t){return[0,t.length?N(t,(({value:t})=>void 0===t?t:N(t,jh))):1]}function km(t,n){const e=t.find((({radius:t})=>void 0!==t));if(void 0!==e)return[0,e.radius];const r=P(t,.5,(({value:t})=>void 0===t?NaN:P(t,.25,Uh))),i=n.map((t=>3*Math.sqrt(t/r))),a=30/N(i);return a<1?i.map((t=>t*a)):i}function _m(t,n){const e=q(t,(({value:t})=>void 0===t?NaN:q(t,Math.abs))),r=n.map((t=>12*t/e)),i=60/N(r);return i<1?r.map((t=>t*i)):r}function $m(t){for(const{value:n}of t)if(void 0!==n)for(let e of n){if(e>0)return wm(t,Uh);if(e<0)return wm(t,Ph)}return[1,10]}function Am(t){const n=[];for(const{value:e}of t)if(void 0!==e)for(const t of e)n.push(t);return n}function Tm(t){return(n,e)=>r=>t(n+r*(e-n))}let Sm,Em=0;function Nm(t){t!==Sm&&(Sm=t,console.warn(t),++Em)}function Cm(t,n,e,r,{type:i,nice:a,clamp:o,domain:c=wm(r),unknown:f,pivot:u=0,scheme:l,range:d,symmetric:h=!0,interpolate:p=(_g.get(t)===yg?null==l&&void 0!==d?dr:fm(void 0!==l?l:"rdbu"):he),reverse:g}){u=+u,c=jp(c);let[m,b]=c;if(c.length>2&&Nm(`Warning: the diverging ${t} scale domain contains extra elements.`),s(m,b)<0&&([m,b]=[b,m],g=!g),m=Math.min(m,u),b=Math.max(b,u),"function"!=typeof p&&(p=hm(p)),void 0!==d&&(p=1===p.length?Tm(p)(...d):Hc(p,d)),g&&(p=lm(p)),h){const t=e.apply(u),n=t-e.apply(m),r=e.apply(b)-t;n<r?m=e.invert(t-r):n>r&&(b=e.invert(t+n))}return n.domain([m,u,b]).unknown(f).interpolator(p),o&&n.clamp(o),a&&n.nice(a),{type:i,domain:[m,b],pivot:u,interpolate:p,scale:n}}function Lm(t,n,e){return Cm(t,fs(),Fm,n,e)}function Dm(t,n,{exponent:e=1,...r}){return Cm(t,ss().exponent(e=+e),function(t){return.5===t?jm:{apply(n){return Math.sign(n)*Math.pow(Math.abs(n),t)},invert(n){return Math.sign(n)*Math.pow(Math.abs(n),1/t)}}}(e),n,{...r,type:"diverging-pow"})}function Om(t,n,{base:e=10,pivot:r=1,domain:i=wm(n,r<0?Ph:Uh),...a}){return Cm(t,us().base(e=+e),zm,n,{domain:i,pivot:r,...a})}function Rm(t,n,{constant:e=1,...r}){return Cm(t,ls().constant(e=+e),function(t){return{apply(n){return Math.sign(n)*Math.log1p(Math.abs(n/t))},invert(n){return Math.sign(n)*Math.expm1(Math.abs(n))*t}}}(e),n,r)}const Fm={apply(t){return t},invert(t){return t}},zm={apply:Math.log,invert:Math.exp},jm={apply(t){return Math.sign(t)*Math.sqrt(Math.abs(t))},invert(t){return Math.sign(t)*(t*t)}};function Um(t,n,e,r){return pm(t,n,e,r)}function Pm(t,n,e){return Um(t,function(){return tf.apply(as(Lu,Du,Tu,$u,lu,ou,iu,eu,nu,ju).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}(),n,e)}function Im(t,n,e){return Um(t,function(){return tf.apply(as(Nu,Cu,Su,Au,yu,cu,au,ru,nu,Uu).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}(),n,e)}const qm=Symbol("ordinal");function Bm(t,n,e,{type:r,interval:i,domain:a,range:o,reverse:c,hint:f}){return i=Jp(i,r),void 0===a&&(a=Ym(e,i,t)),"categorical"!==r&&r!==qm||(r="ordinal"),c&&(a=nt(a)),a=n.domain(a).domain(),void 0!==o&&("function"==typeof o&&(o=o(a)),n.range(o)),{type:r,domain:a,range:o,scale:n,hint:f,interval:i}}function Wm(t,n,{type:e,interval:r,domain:i,range:a,scheme:o,unknown:c,...f}){let u;if(r=Jp(r,e),void 0===i&&(i=Ym(n,r,t)),_g.get(t)===Mg)u=function(t){return{fill:Vm(t,"fill"),stroke:Vm(t,"stroke")}}(n),a=void 0===a?function(t){return sg(t.fill)?Lh:Ch}(u):Up(a,Ng);else if(_g.get(t)===yg&&(void 0!==a||"ordinal"!==e&&e!==qm||(a=function(t,n="greys"){const e=new Set,[r,i]=om(n,2);for(const a of t)if(null!=a)if(!0===a)e.add(i);else{if(!1!==a)return;e.add(r)}return[...e]}(i,o),void 0!==a&&(o=void 0)),void 0===o&&void 0===a&&(o="ordinal"===e?"turbo":"observable10"),void 0!==o))if(void 0!==a){const t=fm(o),n=a[0],e=a[1]-a[0];a=({length:r})=>Yc((r=>t(n+e*r)),r)}else a=am(o);if(c===ef)throw new Error(`implicit unknown on ${t} scale is not supported`);return Bm(t,rf().unknown(c),n,{...f,type:e,domain:i,range:a,hint:u})}function Hm(t,n,e,r){let{round:i}=e;return void 0!==i&&t.round(i=!!i),(t=Bm(r,t,n,e)).round=i,t}function Ym(t,n,e){const r=new x;for(const{value:i,domain:a}of t){if(void 0!==a)return a();if(void 0!==i)for(const t of i)r.add(t)}if(void 0!==n){const[t,e]=v(r).map(n.floor,n);return n.range(t,n.offset(e))}if(r.size>1e4&&_g.get(e)===bg)throw new Error(`implicit ordinal domain of ${e} scale has more than 10,000 values`);return O(r,Rh)}function Vm(t,n){let e;for(const{hint:r}of t){const t=r?.[n];if(void 0!==t)if(void 0===e)e=t;else if(e!==t)return}return e}function Xm(t,{label:n,inset:e=0,insetTop:r=e,insetRight:i=e,insetBottom:a=e,insetLeft:o=e,round:c,nice:f,clamp:u,zero:l,align:s,padding:d,projection:h,facet:{label:p=n}={},...g}={}){const m={};for(const[b,y]of t){const t=g[b],e=rb(b,y,{round:_g.get(b)===bg?c:void 0,nice:f,clamp:u,zero:l,align:s,padding:d,projection:h,...t});if(e){let{label:c=("fx"===b||"fy"===b?p:n),percent:f,transform:u,inset:l,insetTop:s=(void 0!==l?l:"y"===b?r:0),insetRight:d=(void 0!==l?l:"x"===b?i:0),insetBottom:h=(void 0!==l?l:"y"===b?a:0),insetLeft:g=(void 0!==l?l:"x"===b?o:0)}=t||{};if(null==u)u=void 0;else if("function"!=typeof u)throw new Error("invalid scale transform; not a function");e.percent=!!f,e.label=void 0===c?Gm(y,e):c,e.transform=u,"x"===b||"fx"===b?(e.insetLeft=+g,e.insetRight=+d):"y"!==b&&"fy"!==b||(e.insetTop=+s,e.insetBottom=+h),m[b]=e}}return m}function Zm(t){const n={},e={scales:n};for(const[r,i]of Object.entries(t)){const{scale:t,type:a,interval:o,label:c}=i;n[r]=hb(i),e[r]=t,t.type=a,null!=o&&(t.interval=o),null!=c&&(t.label=c)}return e}function Gm(t=[],n){let e;for(const{label:r}of t)if(void 0!==r)if(void 0===e)e=r;else if(e!==r)return;if(void 0!==e)return!fb(n)&&n.percent&&(e=`${e} (%)`),{inferred:!0,toString:()=>e}}function Qm(t){const{marginTop:n,marginRight:e,marginBottom:r,marginLeft:i,width:a,height:o,facet:{marginTop:c,marginRight:f,marginBottom:u,marginLeft:l}}=t;return{marginTop:Math.max(n,c),marginRight:Math.max(e,f),marginBottom:Math.max(r,u),marginLeft:Math.max(i,l),width:a,height:o}}function Jm({fx:t,fy:n},e){const{marginTop:r,marginRight:i,marginBottom:a,marginLeft:o,width:c,height:f}=Qm(e);return{marginTop:r,marginRight:i,marginBottom:a,marginLeft:o,width:t?t.scale.bandwidth()+o+i:c,height:n?n.scale.bandwidth()+r+a:f,facet:{width:c,height:f}}}function Km(t,n){if(void 0===t.range){const{insetLeft:e,insetRight:r}=t,{width:i,marginLeft:a=0,marginRight:o=0}=n,c=a+e,f=i-o-r;t.range=[c,Math.max(c,f)],fb(t)||(t.range=eb(t)),t.scale.range(t.range)}nb(t)}function tb(t,n){if(void 0===t.range){const{insetTop:e,insetBottom:r}=t,{height:i,marginTop:a=0,marginBottom:o=0}=n,c=a+e,f=i-o-r;t.range=[Math.max(c,f),c],fb(t)?t.range.reverse():t.range=eb(t),t.scale.range(t.range)}nb(t)}function nb(t){void 0===t.round&&function({type:t}){return"point"===t||"band"===t}(t)&&function({scale:t}){const n=t.domain().length,[e,r]=t.range(),i=t.paddingInner?t.paddingInner():1,a=t.paddingOuter?t.paddingOuter():t.padding(),o=n-i,c=Math.abs(r-e)/Math.max(1,o+2*a);return(c-Math.floor(c))*o}(t)<=30&&t.scale.round(!0)}function eb(t){const n=t.scale.domain().length+ub(t);if(!(n>2))return t.range;const[e,r]=t.range;return Array.from({length:n},((t,i)=>e+i/(n-1)*(r-e)))}function rb(t,n=[],e={}){const r=function(t,n,{type:e,domain:r,range:i,scheme:a,pivot:o,projection:c}){if(e=ab(e),"fx"===t||"fy"===t)return"band";"x"!==t&&"y"!==t||null==c||(e=ob);for(const u of n){const t=ab(u.type);if(void 0!==t)if(void 0===e)e=t;else if(e!==t)throw new Error(`scale incompatible with channel: ${e} !== ${t}`)}if(e===ob)return;if(void 0!==e)return e;if(void 0===r&&!n.some((({value:t})=>void 0!==t)))return;const f=_g.get(t);if(f===vg)return"sqrt";if(f===xg||f===wg)return"linear";if(f===Mg)return"ordinal";if((r||i||[]).length>2)return cb(f);if(void 0!==r){if(rg(r))return cb(f);if(ig(r))return"utc"}else{const t=n.map((({value:t})=>t)).filter((t=>void 0!==t));if(t.some(rg))return cb(f);if(t.some(ig))return"utc"}if(f===yg){if(null!=o||function(t){return null!=t&&um.has(`${t}`.toLowerCase())}(a))return"diverging";if(function(t){return null!=t&&Jg.has(`${t}`.toLowerCase())}(a))return"categorical"}return"linear"}(t,n,e);if(void 0===e.type&&void 0===e.domain&&void 0===e.range&&null==e.interval&&"fx"!==t&&"fy"!==t&&fb({type:r})){const e=n.map((({value:t})=>t)).filter((t=>void 0!==t));e.some(ig)?Nm(`Warning: some data associated with the ${t} scale are dates. Dates are typically associated with a "utc" or "time" scale rather than a "${ib(r)}" scale. If you are using a bar mark, you probably want a rect mark with the interval option instead; if you are using a group transform, you probably want a bin transform instead. If you want to treat this data as ordinal, you can specify the interval of the ${t} scale (e.g., d3.utcDay), or you can suppress this warning by setting the type of the ${t} scale to "${ib(r)}".`):e.some(ag)?Nm(`Warning: some data associated with the ${t} scale are strings that appear to be dates (e.g., YYYY-MM-DD). If these strings represent dates, you should parse them to Date objects. Dates are typically associated with a "utc" or "time" scale rather than a "${ib(r)}" scale. If you are using a bar mark, you probably want a rect mark with the interval option instead; if you are using a group transform, you probably want a bin transform instead. If you want to treat this data as ordinal, you can suppress this warning by setting the type of the ${t} scale to "${ib(r)}".`):e.some(og)&&Nm(`Warning: some data associated with the ${t} scale are strings that appear to be numbers. If these strings represent numbers, you should parse or coerce them to numbers. Numbers are typically associated with a "linear" scale rather than a "${ib(r)}" scale. If you want to treat this data as ordinal, you can specify the interval of the ${t} scale (e.g., 1 for integers), or you can suppress this warning by setting the type of the ${t} scale to "${ib(r)}".`)}switch(e.type=r,r){case"diverging":case"diverging-sqrt":case"diverging-pow":case"diverging-log":case"diverging-symlog":case"cyclical":case"sequential":case"linear":case"sqrt":case"threshold":case"quantile":case"pow":case"log":case"symlog":e=sb(n,e,Np);break;case"identity":switch(_g.get(t)){case bg:e=sb(n,e,Np);break;case Mg:e=sb(n,e,db)}break;case"utc":case"time":e=sb(n,e,Lp)}switch(r){case"diverging":return Lm(t,n,e);case"diverging-sqrt":return function(t,n,e){return Dm(t,n,{...e,exponent:.5})}(t,n,e);case"diverging-pow":return Dm(t,n,e);case"diverging-log":return Om(t,n,e);case"diverging-symlog":return Rm(t,n,e);case"categorical":case"ordinal":case qm:return Wm(t,n,e);case"cyclical":case"sequential":case"linear":return function(t,n,e){return pm(t,Mf(),n,e)}(t,n,e);case"sqrt":return function(t,n,e){return gm(t,n,{...e,exponent:.5})}(t,n,e);case"threshold":return vm(t,0,e);case"quantile":return ym(t,n,e);case"quantize":return function(t,n,{range:e,n:r=(void 0===e?5:(e=[...e]).length),scheme:i="rdylbu",domain:a=xm(t,n),unknown:o,interpolate:c,reverse:f}){const[u,l]=v(a);let s;return void 0===e?(s=J(u,l,r),s[0]<=u&&s.splice(0,1),s[s.length-1]>=l&&s.pop(),r=s.length+1,e=void 0!==c?Yc(c,r):_g.get(t)===yg?om(i,r):void 0):(s=Yc(he(u,l),r+1).slice(1,-1),u instanceof Date&&(s=s.map((t=>new Date(t))))),Bh(jp(a))<0&&s.reverse(),vm(t,0,{domain:s,range:e,reverse:f,unknown:o})}(t,n,e);case"pow":return gm(t,n,e);case"log":return mm(t,n,e);case"symlog":return bm(t,n,e);case"utc":return Im(t,n,e);case"time":return Pm(t,n,e);case"point":return function(t,n,{align:e=.5,padding:r=.5,...i}){return Hm(cf().align(e).padding(r),n,i,t)}(t,n,e);case"band":return function(t,n,{align:e=.5,padding:r=.1,paddingInner:i=r,paddingOuter:a=("fx"===t||"fy"===t?0:r),...o}){return Hm(af().align(e).paddingInner(i).paddingOuter(a),n,o,t)}(t,n,e);case"identity":return function(t){return{type:"identity",scale:(n=_g.get(t),n===bg||n===vg||n===wg||n===xg?kf():t=>t)};var n}(t);case void 0:return;default:throw new Error(`unknown scale type: ${r}`)}}function ib(t){return"symbol"==typeof t?t.description:t}function ab(t){return"string"==typeof t?`${t}`.toLowerCase():t}const ob={toString:()=>"projection"};function cb(t){switch(t){case bg:return"point";case yg:return qm;default:return"ordinal"}}function fb({type:t}){return"ordinal"===t||"point"===t||"band"===t||t===qm}function ub({type:t}){return"threshold"===t}function lb(t){if(void 0===t)return!0;const n=t.domain(),e=t(n[0]);for(let r=1,i=n.length;r<i;++r)if(t(n[r])-e)return!1;return!0}function sb(t,{domain:n,...e},r){for(const i of t)void 0!==i.value&&(void 0===n&&(n=i.value?.domain),i.value=r(i.value));return{domain:void 0===n?n:r(n),...e}}function db(t){return Up(t,Ng)}function hb({scale:t,type:n,domain:e,range:r,interpolate:i,interval:a,transform:o,percent:c,pivot:f}){if("identity"===n)return{type:"identity",apply:t=>t,invert:t=>t};const u=t.unknown?t.unknown():void 0;return{type:n,domain:Pp(e),...void 0!==r&&{range:Pp(r)},...void 0!==o&&{transform:o},...c&&{percent:c},...void 0!==u&&{unknown:u},...void 0!==a&&{interval:a},...void 0!==i&&{interpolate:i},...t.clamp&&{clamp:t.clamp()},...void 0!==f&&{pivot:f,symmetric:!1},...t.base&&{base:t.base()},...t.exponent&&{exponent:t.exponent()},...t.constant&&{constant:t.constant()},...t.align&&{align:t.align(),round:t.round()},...t.padding&&(t.paddingInner?{paddingInner:t.paddingInner(),paddingOuter:t.paddingOuter()}:{padding:t.padding()}),...t.bandwidth&&{bandwidth:t.bandwidth(),step:t.step()},apply:n=>t(n),...t.invert&&{invert:n=>t.invert(n)}}}function pb(t,n){const{fx:e,fy:r}=Xm(t,n),i=e?.scale.domain(),a=r?.scale.domain();return i&&a?function(...t){const n="function"==typeof t[t.length-1]&&function(t){return n=>t(...n)}(t.pop()),e=(t=t.map(m)).map(p),r=t.length-1,i=new Array(r+1).fill(0),a=[];if(r<0||e.some(g))return a;for(;;){a.push(i.map(((n,e)=>t[e][n])));let o=r;for(;++i[o]===e[o];){if(0===o)return n?a.map(n):a;i[o--]=0}}}(i,a).map((([t,n],e)=>({x:t,y:n,i:e}))):i?i.map(((t,n)=>({x:t,i:n}))):a?a.map(((t,n)=>({y:t,i:n}))):void 0}function gb(t,{fx:n,fy:e}){const r=Yp(t),i=n?.value,a=e?.value;return n&&e?T(r,(t=>(t.fx=i[t[0]],t.fy=a[t[0]],t)),(t=>i[t]),(t=>a[t])):n?T(r,(t=>(t.fx=i[t[0]],t)),(t=>i[t])):T(r,(t=>(t.fy=a[t[0]],t)),(t=>a[t]))}function mb(t){const n=[],e=new Uint32Array(V(t,(t=>t.length)));for(const r of t){let i=0;for(const n of t)r!==n&&(e.set(n,i),i+=n.length);n.push(e.slice(0,i))}return n}const bb=new Map([["top",Mb],["right",$b],["bottom",kb],["left",_b],["top-left",Ab(Mb,_b)],["top-right",Ab(Mb,$b)],["bottom-left",Ab(kb,_b)],["bottom-right",Ab(kb,$b)],["top-empty",function(t,{y:n},{x:e,y:r,empty:i}){if(i)return!1;if(!n)return;const a=wb(n,r);if(a>0)return xb(t,e,n[a-1])}],["right-empty",function(t,{x:n},{x:e,y:r,empty:i}){if(i)return!1;if(!n)return;const a=wb(n,e);if(a<n.length-1)return xb(t,n[a+1],r)}],["bottom-empty",function(t,{y:n},{x:e,y:r,empty:i}){if(i)return!1;if(!n)return;const a=wb(n,r);if(a<n.length-1)return xb(t,e,n[a+1])}],["left-empty",function(t,{x:n},{x:e,y:r,empty:i}){if(i)return!1;if(!n)return;const a=wb(n,e);if(a>0)return xb(t,n[a-1],r)}],["empty",function(t,n,{empty:e}){return e}]]);const yb=new WeakMap;function vb(t){let n=yb.get(t);return n||yb.set(t,n=new w(Up(t,((t,n)=>[t,n])))),n}function wb(t,n){return vb(t).get(n)}function xb(t,n,e){return function(t,n,e){return n=Xp(n),e=Xp(e),t.find((t=>Object.is(Xp(t.x),n)&&Object.is(Xp(t.y),e)))}(t,n,e)?.empty}function Mb(t,{y:n},{y:e}){return!n||0===wb(n,e)}function kb(t,{y:n},{y:e}){return!n||wb(n,e)===n.length-1}function _b(t,{x:n},{x:e}){return!n||0===wb(n,e)}function $b(t,{x:n},{x:e}){return!n||wb(n,e)===n.length-1}function Ab(t,n){return function(){return t.apply(null,arguments)&&n.apply(null,arguments)}}function Tb(t,{channels:{fx:n,fy:e},groups:r}){return n&&e?t.map((({x:t,y:n})=>r.get(t)?.get(n)??[])):n?t.map((({x:t})=>r.get(t)??[])):t.map((({y:t})=>r.get(t)??[]))}const Sb=Math.PI,Eb=2*Sb,Nb=.618;function Cb({projection:t,inset:n=0,insetTop:e=n,insetRight:r=n,insetBottom:i=n,insetLeft:a=n}={},o){if(null==t)return;if("function"==typeof t.stream)return t;let c,f,u="frame";if(Ip(t)){let n;if(({type:t,domain:f,inset:n,insetTop:e=(void 0!==n?n:e),insetRight:r=(void 0!==n?n:r),insetBottom:i=(void 0!==n?n:i),insetLeft:a=(void 0!==n?n:a),clip:u=u,...c}=t),null==t)return}"function"!=typeof t&&({type:t}=Lb(t));const{width:l,height:s,marginLeft:d,marginRight:h,marginTop:p,marginBottom:g}=o,m=l-d-h-a-r,b=s-p-g-e-i;if(t=t?.({width:m,height:b,clip:u,...c}),null==t)return;u=function(t,n,e,r,i){if(!1===t||null==t||"number"==typeof t)return t=>t;!0===t&&(t="frame");if("frame"===`${t}`.toLowerCase())return Fi(n,e,r,i);throw new Error(`unknown projection clip type: ${t}`)}(u,d,p,l-h,s-g);let y,v=d+a,w=p+e;if(null!=f){const[[n,e],[r,i]]=Ga(t).bounds(f),a=Math.min(m/(r-n),b/(i-e));a>0?(v-=(a*(n+r)-m)/2,w-=(a*(e+i)-b)/2,y=yo({point(t,n){this.stream.point(t*a+v,n*a+w)}})):Nm("Warning: the projection could not be fit to the specified domain; using the default scale.")}return y??=0===v&&0===w?Rb():yo({point(t,n){this.stream.point(t+v,n+w)}}),{stream:n=>t.stream(y.stream(u(n)))}}function Lb(t){switch(`${t}`.toLowerCase()){case"albers-usa":return Db(zo,.7463,.4673);case"albers":return Ob(Fo,.7463,.4673);case"azimuthal-equal-area":return Db(Io,4,4);case"azimuthal-equidistant":return Db(Bo,Eb,Eb);case"conic-conformal":return Ob(Zo,Eb,Eb);case"conic-equal-area":return Ob(Ro,6.1702,2.9781);case"conic-equidistant":return Ob(Ko,7.312,3.6282);case"equal-earth":return Db(oc,5.4133,2.6347);case"equirectangular":return Db(Qo,Eb,Sb);case"gnomonic":return Db(fc,3.4641,3.4641);case"identity":return{type:Rb};case"reflect-y":return{type:Fb};case"mercator":return Db(Ho,Eb,Eb);case"orthographic":return Db(lc,2,2);case"stereographic":return Db(dc,2,2);case"transverse-mercator":return Db(pc,Eb,Eb);default:throw new Error(`unknown projection type: ${t}`)}}function Db(t,n,e){return{type:({width:r,height:i,rotate:a,precision:o=.15,clip:c})=>{const f=t();return null!=o&&f.precision?.(o),null!=a&&f.rotate?.(a),"number"==typeof c&&f.clipAngle?.(c),f.scale(Math.min(r/n,i/e)),f.translate([r/2,i/2]),f},aspectRatio:e/n}}function Ob(t,n,e){const{type:r,aspectRatio:i}=Db(t,n,e);return{type:t=>{const{parallels:n,domain:e,width:i,height:a}=t,o=r(t);return null!=n&&(o.parallels(n),void 0===e&&o.fitSize([i,a],{type:"Sphere"})),o},aspectRatio:i}}const Rb=Ep({stream:t=>t}),Fb=Ep(yo({point(t,n){this.stream.point(t,-n)}}));function zb(t,n,e,r){const i=e[t],a=e[n],o=i.length,c=e[t]=new Float64Array(o).fill(NaN),f=e[n]=new Float64Array(o).fill(NaN);let u;const l=r.stream({point(t,n){c[u]=t,f[u]=n}});for(u=0;u<o;++u)l.point(i[u],a[u])}function jb({projection:t}={}){return null!=t&&("function"==typeof t.stream||(Ip(t)&&(t=t.type),null!=t))}function Ub(t){const n=[],e=[],r={scale:"x",value:n},i={scale:"y",value:e},a={point(t,r){n.push(t),e.push(r)},lineStart(){},lineEnd(){},polygonStart(){},polygonEnd(){},sphere(){}};for(const o of t.value)Bi(o,a);return[r,i]}function Pb(t={}){const{document:n=("undefined"!=typeof window?window.document:void 0),clip:e}=t;return{document:n,clip:mg(e)}}function Ib(t,{document:n}){return Kd(gn(t).call(n.documentElement))}function qb(t,n){if(t instanceof Date||(t=new Date(+t)),isNaN(t))return"function"==typeof n?n(t):n;const e=t.getUTCHours(),r=t.getUTCMinutes(),i=t.getUTCSeconds(),a=t.getUTCMilliseconds();return`${o=t.getUTCFullYear(),o<0?`-${Bb(-o,6)}`:o>9999?`+${Bb(o,6)}`:Bb(o,4)}-${Bb(t.getUTCMonth()+1,2)}-${Bb(t.getUTCDate(),2)}${e||r||i||a?`T${Bb(e,2)}:${Bb(r,2)}${i||a?`:${Bb(i,2)}${a?`.${Bb(a,3)}`:""}`:""}Z`:""}`;var o}function Bb(t,n){return`${t}`.padStart(n,"0")}function Wb(t){let n,e;return(...r)=>((e?.length!==r.length||e.some(((t,n)=>t!==r[n])))&&(e=r,n=t(...r)),n)}const Hb=Wb((t=>new Intl.NumberFormat(t)));Wb(((t,n)=>new Intl.DateTimeFormat(t,{timeZone:"UTC",...n&&{month:n}}))),Wb(((t,n)=>new Intl.DateTimeFormat(t,{timeZone:"UTC",...n&&{weekday:n}})));function Yb(t){return qb(t,"Invalid Date")}const Vb=function(t="en-US"){const n=function(t="en-US"){const n=Hb(t);return t=>null==t||isNaN(t)?void 0:n.format(t)}(t);return t=>(t instanceof Date?Yb:"number"==typeof t?n:$p)(t)}(),Xb=("undefined"!=typeof window?window.devicePixelRatio>1:"undefined"==typeof it)?0:.5;let Zb=0;function Gb(){return"plot-clip-"+ ++Zb}function Qb(t,{title:n,href:e,ariaLabel:r,ariaDescription:i,ariaHidden:a,target:o,fill:c,fillOpacity:f,stroke:u,strokeWidth:l,strokeOpacity:s,strokeLinejoin:d,strokeLinecap:h,strokeMiterlimit:p,strokeDasharray:g,strokeDashoffset:m,opacity:b,mixBlendMode:y,imageFilter:v,paintOrder:w,pointerEvents:x,shapeRendering:M,channels:k},{ariaLabel:_,fill:$="currentColor",fillOpacity:A,stroke:T="none",strokeOpacity:S,strokeWidth:E,strokeLinecap:N,strokeLinejoin:C,strokeMiterlimit:L,paintOrder:D}){null===$&&(c=null,f=null),null===T&&(u=null,s=null),sg($)?sg(T)||sg(c)&&!k?.fill||(T="none"):!sg(T)||sg(u)&&!k?.stroke||($="none");const[O,R]=Op(c,$),[F,z]=Rp(f,A),[j,U]=Op(u,T),[P,I]=Rp(s,S),[q,B]=Rp(b);dg(U)||(void 0===l&&(l=E),void 0===h&&(h=N),void 0===d&&(d=C),void 0!==p||function(t){return/^\s*round\s*$/i.test(t)}(d)||(p=L),dg(R)||void 0!==w||(w=D));const[W,H]=Rp(l);return null!==$&&(t.fill=ay(R,"currentColor"),t.fillOpacity=oy(z,1)),null!==T&&(t.stroke=ay(U,"none"),t.strokeWidth=oy(H,1),t.strokeOpacity=oy(I,1),t.strokeLinejoin=ay(d,"miter"),t.strokeLinecap=ay(h,"butt"),t.strokeMiterlimit=oy(p,4),t.strokeDasharray=ay(g,"none"),t.strokeDashoffset=ay(m,"0")),t.target=$p(o),t.ariaLabel=$p(_),t.ariaDescription=$p(i),t.ariaHidden=$p(a),t.opacity=oy(B,1),t.mixBlendMode=ay(y,"normal"),t.imageFilter=ay(v,"none"),t.paintOrder=ay(w,"normal"),t.pointerEvents=ay(x,"auto"),t.shapeRendering=ay(M,"auto"),{title:{value:n,optional:!0,filter:null},href:{value:e,optional:!0,filter:null},ariaLabel:{value:r,optional:!0,filter:null},fill:{value:O,scale:"auto",optional:!0},fillOpacity:{value:F,scale:"auto",optional:!0},stroke:{value:j,scale:"auto",optional:!0},strokeOpacity:{value:P,scale:"auto",optional:!0},strokeWidth:{value:W,optional:!0},opacity:{value:q,scale:"auto",optional:!0}}}function Jb(t,n){n&&t.text((t=>Vb(n[t])))}function Kb(t,{target:n,tip:e},{ariaLabel:r,title:i,fill:a,fillOpacity:o,stroke:c,strokeOpacity:f,strokeWidth:u,opacity:l,href:s}){r&&ry(t,"aria-label",(t=>r[t])),a&&ry(t,"fill",(t=>a[t])),o&&ry(t,"fill-opacity",(t=>o[t])),c&&ry(t,"stroke",(t=>c[t])),f&&ry(t,"stroke-opacity",(t=>f[t])),u&&ry(t,"stroke-width",(t=>u[t])),l&&ry(t,"opacity",(t=>l[t])),s&&ey(t,(t=>s[t]),n),e||function(t,n){n&&t.filter((t=>zh(n[t]))).append("title").call(Jb,n)}(t,i)}function ty(t,n,e,r){!function(t,n,e,r){let i;const{clip:a=r.clip}=n;switch(a){case"frame":{const{width:n,height:a,marginLeft:o,marginRight:c,marginTop:f,marginBottom:u}=e,l=Gb();i=`url(#${l})`,t=Ib("svg:g",r).call((t=>t.append("svg:clipPath").attr("id",l).append("rect").attr("x",o).attr("y",f).attr("width",n-c-o).attr("height",a-f-u))).each((function(){this.appendChild(t.node()),t.node=()=>this}));break}case"sphere":{const{projection:n}=r;if(!n)throw new Error('the "sphere" clip option requires a projection');const e=Gb();i=`url(#${e})`,t.append("clipPath").attr("id",e).append("path").attr("d",Ga(n)({type:"Sphere"}));break}}ry(t,"aria-label",n.ariaLabel),ry(t,"aria-description",n.ariaDescription),ry(t,"aria-hidden",n.ariaHidden),ry(t,"clip-path",i)}(t,n,e,r),ry(t,"fill",n.fill),ry(t,"fill-opacity",n.fillOpacity),ry(t,"stroke",n.stroke),ry(t,"stroke-width",n.strokeWidth),ry(t,"stroke-opacity",n.strokeOpacity),ry(t,"stroke-linejoin",n.strokeLinejoin),ry(t,"stroke-linecap",n.strokeLinecap),ry(t,"stroke-miterlimit",n.strokeMiterlimit),ry(t,"stroke-dasharray",n.strokeDasharray),ry(t,"stroke-dashoffset",n.strokeDashoffset),ry(t,"shape-rendering",n.shapeRendering),ry(t,"filter",n.imageFilter),ry(t,"paint-order",n.paintOrder);const{pointerEvents:i=(!1===r.pointerSticky?"none":void 0)}=n;ry(t,"pointer-events",i)}function ny(t,n){!function(t,n,e){null!=e&&t.style(n,e)}(t,"mix-blend-mode",n.mixBlendMode),ry(t,"opacity",n.opacity)}function ey(t,n,e){t.each((function(t){const r=n(t);if(null!=r){const t=this.ownerDocument.createElementNS(Ot.svg,"a");t.setAttribute("fill","inherit"),t.setAttributeNS(Ot.xlink,"href",r),null!=e&&t.setAttribute("target",e),this.parentNode.insertBefore(t,this).appendChild(this)}}))}function ry(t,n,e){null!=e&&t.attr(n,e)}function iy(t,n,{x:e,y:r},i=Xb,a=Xb){i+=n.dx,a+=n.dy,e?.bandwidth&&(i+=e.bandwidth()/2),r?.bandwidth&&(a+=r.bandwidth()/2),(i||a)&&t.attr("transform",`translate(${i},${a})`)}function ay(t,n){if((t=$p(t))!==n)return t}function oy(t,n){if((t=Ap(t))!==n)return t}const cy=/^-?([_a-z]|[\240-\377]|\\[0-9a-f]{1,6}(\r\n|[ \t\r\n\f])?|\\[^\r\n\f0-9a-f])([_a-z0-9-]|[\240-\377]|\\[0-9a-f]{1,6}(\r\n|[ \t\r\n\f])?|\\[^\r\n\f0-9a-f])*$/i;function fy(t){if(void 0===t)return"plot-d6a7b5";if(t=`${t}`,!cy.test(t))throw new Error(`invalid class name: ${t}`);return t}function uy(t,n){if("string"==typeof n)t.property("style",n);else if(null!=n)for(const e of t)Object.assign(e.style,n)}function ly({frameAnchor:t},{width:n,height:e,marginTop:r,marginRight:i,marginBottom:a,marginLeft:o}){return[/left$/.test(t)?o:/right$/.test(t)?n-i:(o+n-i)/2,/^top/.test(t)?r:/^bottom/.test(t)?e-a:(r+e-a)/2]}function sy({filter:t,sort:n,reverse:e,transform:r,initializer:i,...a}={},o){if(void 0===r&&(null!=t&&(r=my(t)),null==n||Wp(n)||(r=hy(r,yy(n))),e&&(r=hy(r,by))),null!=o&&null!=i)throw new Error("transforms cannot be applied after initializers");return{...a,...(null===n||Wp(n))&&{sort:n},transform:hy(r,o)}}function dy({filter:t,sort:n,reverse:e,initializer:r,...i}={},a){return void 0===r&&(null!=t&&(r=my(t)),null==n||Wp(n)||(r=py(r,yy(n))),e&&(r=py(r,by))),{...i,...(null===n||Wp(n))&&{sort:n},initializer:py(r,a)}}function hy(t,n){return null==t?null===n?void 0:n:null==n?null===t?void 0:t:function(e,r,i){return({data:e,facets:r}=t.call(this,e,r,i)),n.call(this,jp(e),r,i)}}function py(t,n){return null==t?null===n?void 0:n:null==n?null===t?void 0:t:function(e,r,i,...a){let o,c,f,u,l,s;return({data:c=e,facets:f=r,channels:o}=t.call(this,e,r,i,...a)),({data:l=c,facets:s=f,channels:u}=n.call(this,c,f,{...i,...o},...a)),{data:l,facets:s,channels:{...o,...u}}}}function gy(t,n){return(null!=t.initializer?dy:sy)(t,n)}function my(t){return(n,e)=>{const r=bp(n,t);return{data:n,facets:e.map((t=>t.filter((t=>r[t]))))}}}function by(t,n){return{data:t,facets:n.map((t=>t.slice().reverse()))}}function yy(t){return("function"==typeof t&&1!==t.length?vy:wy)(t)}function vy(t){return(n,e)=>{const r=(e,r)=>t(n[e],n[r]);return{data:n,facets:e.map((t=>t.slice().sort(r)))}}}function wy(t){let n,e;({channel:n,value:t,order:e}={...tg(t)});const r=n?.startsWith("-");if(r&&(n=n.slice(1)),void 0===e&&(e=r?Fh:Rh),"function"!=typeof e)switch(`${e}`.toLowerCase()){case"ascending":e=Rh;break;case"descending":e=Fh;break;default:throw new Error(`invalid order: ${e}`)}return(r,i,a)=>{let o;if(void 0===n)o=bp(r,t);else{if(void 0===a)throw new Error("channel sort requires an initializer");if(o=a[n],!o)return{};o=o.value}const c=(t,n)=>e(o[t],o[n]);return{data:r,facets:i.map((t=>t.slice().sort(c)))}}}class xy{constructor(t,n={},e={},r){const{facet:i="auto",facetAnchor:a,fx:o,fy:c,sort:f,dx:u=0,dy:l=0,margin:s=0,marginTop:d=s,marginRight:h=s,marginBottom:p=s,marginLeft:g=s,clip:m=r?.clip,channels:b,tip:y,render:v}=e;if(this.data=t,this.sort=Wp(f)?f:null,this.initializer=dy(e).initializer,this.transform=this.initializer?e.transform:sy(e).transform,null===i||!1===i?this.facet=null:(this.facet=zp(!0===i?"include":i,"facet",["auto","include","exclude","super"]),this.fx=t===wp&&"string"==typeof o?[o]:o,this.fy=t===wp&&"string"==typeof c?[c]:c),this.facetAnchor=function(t){if(null==t)return null;const n=bb.get(`${t}`.toLowerCase());if(n)return n;throw new Error(`invalid facet anchor: ${t}`)}(a),n=gg(n),void 0!==b&&(n={..._y(b),...n}),void 0!==r&&(n={...Qb(this,e,r),...n}),this.channels=Object.fromEntries(Object.entries(n).map((([n,e])=>{if(Bp(e.value)){const{value:t,label:n=e.label,scale:r=e.scale}=e.value;e={...e,label:n,scale:r,value:t}}if(t===wp&&"string"==typeof e.value){const{value:t}=e;e={...e,value:[t]}}return[n,e]})).filter((([t,{value:n,optional:e}])=>{if(null!=n)return!0;if(e)return!1;throw new Error(`missing channel value: ${t}`)}))),this.dx=+u,this.dy=+l,this.marginTop=+d,this.marginRight=+h,this.marginBottom=+p,this.marginLeft=+g,this.clip=mg(m),this.tip=function(t){return!0===t?"xy":!1===t||null==t?null:"string"==typeof t?zp(t,"tip",["x","y","xy"]):t}(y),"super"===this.facet){if(o||c)throw new Error("super-faceting cannot use fx or fy");for(const t in this.channels){const{scale:e}=n[t];if("x"===e||"y"===e)throw new Error("super-faceting cannot use x or y")}}null!=v&&(this.render=ky(v,this.render))}initialize(t,n,e){let r=jp(this.data);void 0===t&&null!=r&&(t=[Yp(r)]);const i=t;null!=this.transform&&(({facets:t,data:r}=this.transform(r,t,e)),r=jp(r)),void 0!==t&&(t.original=i);const a=function(t,n){return Object.fromEntries(Object.entries(t).map((([t,e])=>[t,qg(n,e,t)])))}(this.channels,r);return null!=this.sort&&function(t,n,e,r,i){const{order:a,reverse:o,reduce:c=!0,limit:f}=i;for(const u in i){if(!_g.has(u))continue;let{value:l,order:s=a,reverse:d=o,reduce:h=c,limit:p=f}=tg(i[u]);const g=l?.startsWith("-");if(g&&(l=l.slice(1)),s=void 0===s?g!==("width"===l||"height"===l)?Gg:Zg:Xg(s),null==h||!1===h)continue;const m="fx"===u||"fy"===u?Hg(n,r[u]):Wg(e,u);if(!m)throw new Error(`missing channel for scale: ${u}`);const b=m.value,[y=0,v=1/0]=ng(p)?p:p<0?[p]:[0,p];if(null==l)m.domain=()=>{let t=Array.from(new x(b));return d&&(t=t.reverse()),0===y&&v===1/0||(t=t.slice(y,v)),t};else{const n="data"===l?t:"height"===l?Yg(e,"y1","y2"):"width"===l?Yg(e,"x1","x2"):Vg(e,l,"y"===l?"y2":"x"===l?"x2":void 0),r=Cg(!0===h?"max":h,n);m.domain=()=>{let t=S(Yp(b),(t=>r.reduceIndex(t,n)),(t=>b[t]));return s&&t.sort(s),d&&t.reverse(),0===y&&v===1/0||(t=t.slice(y,v)),t.map(Tp)}}}}(r,t,a,n,this.sort),{data:r,facets:t,channels:a}}filter(t,n,e){for(const r in n){const{filter:i=Oh}=n[r];if(null!==i){const n=e[r];t=t.filter((t=>i(n[t])))}}return t}project(t,n,e){for(const r in t)if("x"===t[r].scale&&/^x|x$/.test(r)){const i=r.replace(/^x|x$/,"y");i in t&&"y"===t[i].scale&&zb(r,i,n,e.projection)}}scale(t,n,e){const r=function(t,n){const e=Object.fromEntries(Object.entries(t).map((([t,{scale:e,value:r}])=>{const i=null==e?null:n[e];return[t,null==i?r:Up(r,i)]})));return e.channels=t,e}(t,n);return e.projection&&this.project(t,r,e),r}}function My(...t){return t.plot=xy.prototype.plot,t}function ky(t,n){if(null==t)return null===n?void 0:n;if(null==n)return null===t?void 0:t;if("function"!=typeof t)throw new TypeError(`invalid render transform: ${t}`);if("function"!=typeof n)throw new TypeError(`invalid render transform: ${n}`);return function(e,r,i,a,o,c){return t.call(this,e,r,i,a,o,((t,e,r,i,a)=>n.call(this,t,e,r,i,a,c)))}}function _y(t){return Object.fromEntries(Object.entries(gg(t)).map((([t,n])=>(void 0===(n="string"==typeof n?{value:n,label:t}:tg(n)).filter&&null==n.scale&&(n={...n,filter:null}),[t,n]))))}function $y(t,n){return!0===t?.tip?{...t,tip:n}:Ip(t?.tip)&&void 0===t.tip.pointer?{...t,tip:{...t.tip,pointer:n}}:t}function Ay({x:t,y:n,fy:e,fx:r},{projection:i,aspectRatio:a},{width:o,marginTopDefault:c,marginRightDefault:f,marginBottomDefault:u,marginLeftDefault:l}){const s=e?e.scale.domain().length:1,d=function(t){if("function"==typeof t?.stream)return Nb;if(Ip(t)&&(t=t.type),null!=t){if("function"!=typeof t){const{aspectRatio:n}=Lb(t);if(n)return n}return Nb}}(i);if(d){const t=(1.1*s-.1)/(1.1*(r?r.scale.domain().length:1)-.1)*d,n=Math.max(.1,Math.min(10,t));return Math.round((o-l-f)*n+c+u)}const h=n?fb(n)?n.scale.domain().length:Math.max(7,17/s):1;if(null!=a){if(a=+a,!(isFinite(a)&&a>0))throw new Error(`invalid aspectRatio: ${a}`);const i=Ty("y",n)/(Ty("x",t)*a),s=r?r.scale.bandwidth():1,d=e?e.scale.bandwidth():1;return(i*(s*(o-l-f)-t.insetLeft-t.insetRight)+n.insetTop+n.insetBottom)/d+c+u}return!(!n&&!e)*Math.max(1,Math.min(60,h*s))*20+30*!!r+60}function Ty(t,n){if(!n)throw new Error(`aspectRatio requires ${t} scale`);const{type:e,domain:r}=n;let i;switch(e){case"linear":case"utc":case"time":i=Number;break;case"pow":{const t=n.scale.exponent();i=n=>Math.pow(n,t);break}case"log":i=Math.log;break;case"point":case"band":return r.length;default:throw new Error(`unsupported ${t} scale for aspectRatio: ${e}`)}const[a,o]=v(r);return Math.abs(i(o)-i(a))}const Sy=new WeakMap;function Ey(t,n,{x:e,y:r,px:i,py:a,maxRadius:o=40,channels:c,render:f,...u}={}){return o=+o,null!=i&&(e??=null,c={...c,px:{value:i,scale:"x"}}),null!=a&&(r??=null,c={...c,py:{value:a,scale:"y"}}),{x:e,y:r,channels:c,...u,render:ky((function(e,r,i,a,c,f){const u=(c={...c,pointerSticky:!1}).ownerSVGElement,{data:l}=c.getMarkState(this);let s=Sy.get(u);s||Sy.set(u,s={sticky:!1,roots:[],renders:[]});let d=s.renders.push(L)-1;const{x:h,y:p,fx:g,fy:m}=r;let b=g?g(e.fx)-a.marginLeft:0,y=m?m(e.fy)-a.marginTop:0;h?.bandwidth&&(b+=h.bandwidth()/2),p?.bandwidth&&(y+=p.bandwidth()/2);const v=null!=e.fi;let w;if(v){let t=s.facetStates;t||(s.facetStates=t=new Map),w=t.get(this),w||t.set(this,w=new Map)}const[x,M]=ly(this,a),{px:k,py:_}=i,$=k?t=>k[t]:Dy(i,x),A=_?t=>_[t]:Oy(i,M);let T,S,E,N;function C(t,n){if(v){if(N&&(N=cancelAnimationFrame(N)),null!=t)return w.set(e.fi,n),void(N=requestAnimationFrame((()=>{N=null;for(const[r,i]of w)if(i<n||i===n&&r<e.fi){t=null;break}L(t)})));w.delete(e.fi)}L(t)}function L(t){if(T===t&&E===s.sticky)return;T=t,E=c.pointerSticky=s.sticky;const n=null==T?[]:[T];v&&(n.fx=e.fx,n.fy=e.fy,n.fi=e.fi);const o=f(n,r,i,a,c);if(S){if(v){const t=S.parentNode,n=S.getAttribute("transform"),e=o.getAttribute("transform");n?o.setAttribute("transform",n):o.removeAttribute("transform"),e?t.setAttribute("transform",e):t.removeAttribute("transform"),o.removeAttribute("aria-label"),o.removeAttribute("aria-description"),o.removeAttribute("aria-hidden")}S.replaceWith(o)}return s.roots[d]=S=o,null==T&&w?.size>1||c.dispatchValue(null==T?null:l[T]),o}function D(r){if(s.sticky||"mouse"===r.pointerType&&1===r.buttons)return;let[i,c]=function(t,n){if(t=function(t){let n;for(;n=t.sourceEvent;)t=n;return t}(t),void 0===n&&(n=t.currentTarget),n){var e=n.ownerSVGElement||n;if(e.createSVGPoint){var r=e.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,[(r=r.matrixTransform(n.getScreenCTM().inverse())).x,r.y]}if(n.getBoundingClientRect){var i=n.getBoundingClientRect();return[t.clientX-i.left-n.clientLeft,t.clientY-i.top-n.clientTop]}}return[t.pageX,t.pageY]}(r);i-=b,c-=y;const f=i<a.marginLeft||i>a.width-a.marginRight?1:t,u=c<a.marginTop||c>a.height-a.marginBottom?1:n;let l=null,d=o*o;for(const t of e){const n=f*($(t)-i),e=u*(A(t)-c),r=n*n+e*e;r<=d&&(l=t,d=r)}if(null!=l&&(1!==t||1!==n)){const t=$(l)-i,n=A(l)-c;d=t*t+n*n}C(l,d)}return u.addEventListener("pointerenter",D),u.addEventListener("pointermove",D),u.addEventListener("pointerdown",(function(t){"mouse"===t.pointerType&&null!=T&&(s.sticky&&s.roots.some((n=>n?.contains(t.target)))||(s.sticky?(s.sticky=!1,s.renders.forEach((t=>t(null)))):(s.sticky=!0,L(T)),t.stopImmediatePropagation()))})),u.addEventListener("pointerleave",(function(t){"mouse"===t.pointerType&&(s.sticky||C(null))})),L(null)}),f)}}function Ny(t){return Ey(1,1,t)}function Cy(t){return Ey(1,.01,t)}function Ly(t){return Ey(.01,1,t)}function Dy({x1:t,x2:n,x:e=t},r){return t&&n?e=>(t[e]+n[e])/2:e?t=>e[t]:()=>r}function Oy({y1:t,y2:n,y:e=t},r){return t&&n?e=>(t[e]+n[e])/2:e?t=>e[t]:()=>r}function Ry(t){return fb(t)&&void 0===t.interval?void 0:"tabular-nums"}function Fy(t,n){let{label:e=t.label,tickSize:r=6,width:i=240,height:a=44+r,marginTop:o=18,marginRight:c=0,marginBottom:f=16+r,marginLeft:u=0,style:l,ticks:s=(i-u-c)/64,tickFormat:d,fontVariant:h=Ry(t),round:p=!0,opacity:g,className:m}=n;const b=Pb(n);m=fy(m),g=Rp(g)[1],null===d&&(d=()=>null);const y=Ib("svg",b).attr("class",`${m}-ramp`).attr("font-family","system-ui, sans-serif").attr("font-size",10).attr("width",i).attr("height",a).attr("viewBox",`0 0 ${i} ${a}`).call((t=>t.append("style").text(`:where(.${m}-ramp) {\n  display: block;\n  height: auto;\n  height: intrinsic;\n  max-width: 100%;\n  overflow: visible;\n}\n:where(.${m}-ramp text) {\n  white-space: pre;\n}`))).call(uy,l);let v,w=t=>t.selectAll(".tick line").attr("y1",o+f-a);const x=p?(t,n)=>t.rangeRound(n):(t,n)=>t.range(n),{type:M,domain:k,range:_,interpolate:$,scale:A,pivot:T}=t;if($){const t=void 0===_?$:Hc(1===$.length?Tm($):$,_);v=x(A.copy(),Yc(he(u,i-c),Math.min(k.length+(void 0!==T),void 0===_?1/0:_.length)));const n=256,e=b.document.createElement("canvas");e.width=n,e.height=1;const r=e.getContext("2d");for(let i=0,a=n-1;i<n;++i)r.fillStyle=t(i/a),r.fillRect(i,0,1,1);y.append("image").attr("opacity",g).attr("x",u).attr("y",o).attr("width",i-u-c).attr("height",a-o-f).attr("preserveAspectRatio","none").attr("xlink:href",e.toDataURL())}else if("threshold"===M){const t=k,n=void 0===d?t=>t:"string"==typeof d?ni(d):d;v=x(Mf().domain([-1,_.length-1]),[u,i-c]),y.append("g").attr("fill-opacity",g).selectAll().data(_).enter().append("rect").attr("x",((t,n)=>v(n-1))).attr("y",o).attr("width",((t,n)=>v(n)-v(n-1))).attr("height",a-o-f).attr("fill",(t=>t)),s=Up(t,((t,n)=>n)),d=e=>n(t[e],e)}else v=x(af().domain(k),[u,i-c]),y.append("g").attr("fill-opacity",g).selectAll().data(k).enter().append("rect").attr("x",v).attr("y",o).attr("width",Math.max(0,v.bandwidth()-1)).attr("height",a-o-f).attr("fill",A),w=()=>{};return y.append("g").attr("transform",`translate(0,${a-f})`).call(function(t){return pt(ot,t)}(v).ticks(Array.isArray(s)?null:s,"string"==typeof d?d:void 0).tickFormat("function"==typeof d?d:void 0).tickSize(r).tickValues(Array.isArray(s)?s:null)).attr("font-size",null).attr("font-family",null).attr("font-variant",ay(h,"normal")).call(w).call((t=>t.select(".domain").remove())),void 0!==e&&y.append("text").attr("x",u).attr("y",o-6).attr("fill","currentColor").attr("font-weight","bold").text(e),y.node()}const zy=Math.PI/180;function jy(t,{marker:n,markerStart:e=n,markerMid:r=n,markerEnd:i=n}={}){t.markerStart=Uy(e),t.markerMid=Uy(r),t.markerEnd=Uy(i)}function Uy(t){if(null==t||!1===t)return null;if(!0===t)return qy;if("function"==typeof t)return t;switch(`${t}`.toLowerCase()){case"none":return null;case"arrow":return Py("auto");case"arrow-reverse":return Py("auto-start-reverse");case"dot":return Iy;case"circle":case"circle-fill":return qy;case"circle-stroke":return By;case"tick":return Wy("auto");case"tick-x":return Wy(90);case"tick-y":return Wy(0)}throw new Error(`invalid marker: ${t}`)}function Py(t){return(n,e)=>Ib("svg:marker",e).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("orient",t).attr("fill","none").attr("stroke",n).attr("stroke-width",1.5).attr("stroke-linecap","round").attr("stroke-linejoin","round").call((t=>t.append("path").attr("d","M-1.5,-3l3,3l-3,3"))).node()}function Iy(t,n){return Ib("svg:marker",n).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("fill",t).attr("stroke","none").call((t=>t.append("circle").attr("r",2.5))).node()}function qy(t,n){return Ib("svg:marker",n).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("fill",t).attr("stroke","var(--plot-background)").attr("stroke-width",1.5).call((t=>t.append("circle").attr("r",3))).node()}function By(t,n){return Ib("svg:marker",n).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("fill","var(--plot-background)").attr("stroke",t).attr("stroke-width",1.5).call((t=>t.append("circle").attr("r",3))).node()}function Wy(t){return(n,e)=>Ib("svg:marker",e).attr("viewBox","-3 -3 6 6").attr("markerWidth",6).attr("markerHeight",6).attr("orient",t).attr("stroke",n).call((t=>t.append("path").attr("d","M0,-3v6"))).node()}let Hy=0;function Yy(t,n,{stroke:e},r){return Vy(t,n,e&&(t=>e[t]),r)}function Vy(t,{markerStart:n,markerMid:e,markerEnd:r,stroke:i},a=()=>i,o){const c=new Map;function f(t){return function(n){const e=a(n);let r=c.get(t);r||c.set(t,r=new Map);let i=r.get(e);if(!i){const n=this.parentNode.insertBefore(t(e,o),this),a="plot-marker-"+ ++Hy;n.setAttribute("id",a),r.set(e,i=`url(#${a})`)}return i}}n&&t.attr("marker-start",f(n)),e&&t.attr("marker-mid",f(e)),r&&t.attr("marker-end",f(r))}function Xy({inset:t,insetLeft:n,insetRight:e,...r}={}){return[n,e]=Gy(t,n,e),{inset:t,insetLeft:n,insetRight:e,...r}}function Zy({inset:t,insetTop:n,insetBottom:e,...r}={}){return[n,e]=Gy(t,n,e),{inset:t,insetTop:n,insetBottom:e,...r}}function Gy(t,n,e){return void 0===t&&void 0===n&&void 0===e?Xb?[1,0]:[.5,.5]:[n,e]}function Qy(t,{interval:n}){return(t={...tg(t)}).interval=Qp(void 0===t.interval?n:t.interval),t}function Jy(t,n,e,r){const{[t]:i,[`${t}1`]:a,[`${t}2`]:o}=e,{value:c,interval:f}=Qy(i,e);if(null==c||null==f&&!r)return e;const u=Zp(i);if(null==f){let n;const i={transform:t=>n||(n=bp(t,c)),label:u};return{...e,[t]:void 0,[`${t}1`]:void 0===a?i:a,[`${t}2`]:void 0!==o||a===o&&r?o:i}}let l,s;function d(t){return void 0!==s&&t===l?s:s=Up(bp(l=t,c),(t=>f.floor(t)))}return n({...e,[t]:void 0,[`${t}1`]:void 0===a?{transform:d,label:u}:a,[`${t}2`]:void 0===o?{transform:t=>d(t).map((t=>f.offset(t))),label:u}:o})}function Ky(t,n,e){const{[t]:r}=e,{value:i,interval:a}=Qy(r,e);return null==i||null==a?e:n({...e,[t]:{label:Zp(r),transform:t=>{const n=Up(bp(t,i),(t=>a.floor(t))),e=n.map((t=>a.offset(t)));return n.map(ig(n)?(t,n)=>null==t||isNaN(t=+t)||null==(n=e[n])||isNaN(n=+n)?void 0:new Date((t+n)/2):(t,n)=>null==t||null==(n=e[n])?NaN:(+t+ +n)/2)}}})}const tv={ariaLabel:"rule",fill:null,stroke:"currentColor"};class nv extends xy{constructor(t,n={}){const{x:e,y1:r,y2:i,inset:a=0,insetTop:o=a,insetBottom:c=a}=n;super(t,{x:{value:e,scale:"x",optional:!0},y1:{value:r,scale:"y",optional:!0},y2:{value:i,scale:"y",optional:!0}},$y(n,"x"),tv),this.insetTop=Ap(o),this.insetBottom=Ap(c),jy(this,n)}render(t,n,e,r,i){const{x:a,y:o}=n,{x:c,y1:f,y2:u}=e,{width:l,height:s,marginTop:d,marginRight:h,marginLeft:p,marginBottom:g}=r,{insetTop:m,insetBottom:b}=this;return Ib("svg:g",i).call(ty,this,r,i).call(iy,this,{x:c&&a},Xb,0).call((n=>n.selectAll().data(t).enter().append("line").call(ny,this).attr("x1",c?t=>c[t]:(p+l-h)/2).attr("x2",c?t=>c[t]:(p+l-h)/2).attr("y1",f&&!lb(o)?t=>f[t]+m:d+m).attr("y2",u&&!lb(o)?o.bandwidth?t=>u[t]+o.bandwidth()-b:t=>u[t]-b:s-g-b).call(Kb,this,e).call(Yy,this,e,i))).node()}}class ev extends xy{constructor(t,n={}){const{x1:e,x2:r,y:i,inset:a=0,insetRight:o=a,insetLeft:c=a}=n;super(t,{y:{value:i,scale:"y",optional:!0},x1:{value:e,scale:"x",optional:!0},x2:{value:r,scale:"x",optional:!0}},$y(n,"y"),tv),this.insetRight=Ap(o),this.insetLeft=Ap(c),jy(this,n)}render(t,n,e,r,i){const{x:a,y:o}=n,{y:c,x1:f,x2:u}=e,{width:l,height:s,marginTop:d,marginRight:h,marginLeft:p,marginBottom:g}=r,{insetLeft:m,insetRight:b}=this;return Ib("svg:g",i).call(ty,this,r,i).call(iy,this,{y:c&&o},0,Xb).call((n=>n.selectAll().data(t).enter().append("line").call(ny,this).attr("x1",f&&!lb(a)?t=>f[t]+m:p+m).attr("x2",u&&!lb(a)?a.bandwidth?t=>u[t]+a.bandwidth()-b:t=>u[t]-b:l-h-b).attr("y1",c?t=>c[t]:(d+s-g)/2).attr("y2",c?t=>c[t]:(d+s-g)/2).call(Kb,this,e).call(Yy,this,e,i))).node()}}function rv(t,n){let{x:e=kp,y:r,y1:i,y2:a,...o}=function(t={}){return Jy("y",Zy,t)}(n);return[i,a]=av(r,i,a),new nv(t,{...o,x:e,y1:i,y2:a})}function iv(t,n){let{y:e=kp,x:r,x1:i,x2:a,...o}=function(t={}){return Jy("x",Xy,t)}(n);return[i,a]=av(r,i,a),new ev(t,{...o,y:e,x1:i,x2:a})}function av(t,n,e){if(null==t){if(void 0===n){if(void 0!==e)return[0,e]}else if(void 0===e)return[0,n]}else{if(void 0===n)return void 0===e?[0,t]:[t,e];if(void 0===e)return[t,n]}return[n,e]}function ov(t,...n){let e=n.length;for(let r=0,i=!0;r<e;++r)"function"!=typeof n[r]&&(i&&(t=t.slice(),i=!1),t.splice(r,2,t[r]+n[r]+t[r+1]),n.splice(r,1),--r,--e);return r=>{let i=t[0];for(let a=0;a<e;++a)i+=n[a](r)+t[a+1];return i}}const cv={ariaLabel:"text",strokeLinejoin:"round",strokeWidth:3,paintOrder:"stroke"},fv="­";class uv extends xy{constructor(t,n={}){const{x:e,y:r,text:i=(ng(t)&&eg(t)?kp:Mp),frameAnchor:a,textAnchor:o=(/right$/i.test(a)?"end":/left$/i.test(a)?"start":"middle"),lineAnchor:c=(/^top/i.test(a)?"top":/^bottom/i.test(a)?"bottom":"middle"),lineHeight:f=1,lineWidth:u=1/0,textOverflow:l,monospace:s,fontFamily:d=(s?"ui-monospace, monospace":void 0),fontSize:h,fontStyle:p,fontVariant:g,fontWeight:m,rotate:b}=n,[y,v]=Rp(b,0),[w,x]=function(t){return null==t||"number"==typeof t?[void 0,t]:"string"!=typeof t?[t,void 0]:(t=t.trim().toLowerCase(),mv.has(t)||/^[+-]?\d*\.?\d+(e[+-]?\d+)?(\w*|%)$/.test(t)?[void 0,t]:[t,void 0])}(h);var M;if(super(t,{x:{value:e,scale:"x",optional:!0},y:{value:r,scale:"y",optional:!0},fontSize:{value:w,optional:!0},rotate:{value:(M=y,null==M?null:{transform:t=>bp(t,M,Float64Array),label:Zp(M)}),optional:!0},text:{value:i,filter:zh,optional:!0}},n,cv),this.rotate=v,this.textAnchor=ay(o,"middle"),this.lineAnchor=zp(c,"lineAnchor",["top","middle","bottom"]),this.lineHeight=+f,this.lineWidth=+u,this.textOverflow=lv(l),this.monospace=!!s,this.fontFamily=$p(d),this.fontSize=x,this.fontStyle=$p(p),this.fontVariant=$p(g),this.fontWeight=$p(m),this.frameAnchor=pg(a),!(this.lineWidth>=0))throw new Error(`invalid lineWidth: ${u}`);this.splitLines=xv(this),this.clipLine=Mv(this)}render(t,n,e,r,i){const{x:a,y:o}=n,{x:c,y:f,rotate:u,text:l,title:s,fontSize:d}=e,{rotate:h}=this,[p,g]=ly(this,r);return Ib("svg:g",i).call(ty,this,r,i).call(gv,this,l,r).call(iy,this,{x:c&&a,y:f&&o}).call((n=>n.selectAll().data(t).enter().append("text").call(ny,this).call(sv,this,l,s).attr("transform",ov`translate(${c?t=>c[t]:p},${f?t=>f[t]:g})${u?t=>` rotate(${u[t]})`:h?` rotate(${h})`:""}`).call(ry,"font-size",d&&(t=>d[t])).call(Kb,this,e))).node()}}function lv(t){return null==t?null:zp(t,"textOverflow",["clip","ellipsis","clip-start","clip-end","ellipsis-start","ellipsis-middle","ellipsis-end"]).replace(/^(clip|ellipsis)$/,"$1-end")}function sv(t,n,e,r){if(!e)return;const{lineAnchor:i,lineHeight:a,textOverflow:o,splitLines:c,clipLine:f}=n;t.each((function(t){const n=c(Vb(e[t])??"").map(f),u=n.length,l="top"===i?.71:"bottom"===i?1-u:(164-100*u)/200;if(u>1){let t=0;for(let e=0;e<u;++e){if(++t,!n[e])continue;const r=this.ownerDocument.createElementNS(Ot.svg,"tspan");r.setAttribute("x",0),e===t-1?r.setAttribute("y",(l+e)*a+"em"):r.setAttribute("dy",t*a+"em"),r.textContent=n[e],this.appendChild(r),t=0}}else l&&this.setAttribute("y",l*a+"em"),this.textContent=n[0];if(o&&!r&&n[0]!==e[t]){const n=this.ownerDocument.createElementNS(Ot.svg,"title");n.textContent=e[t],this.appendChild(n)}}))}function dv(t,{x:n,y:e,...r}={}){return void 0===r.frameAnchor&&([n,e]=Hp(n,e)),new uv(t,{...r,x:n,y:e})}function hv(t,{x:n=kp,...e}={}){return new uv(t,function(t={}){return Ky("y",Zy,t)}({...e,x:n}))}function pv(t,{y:n=kp,...e}={}){return new uv(t,function(t={}){return Ky("x",Xy,t)}({...e,y:n}))}function gv(t,n,e){ry(t,"text-anchor",n.textAnchor),ry(t,"font-family",n.fontFamily),ry(t,"font-size",n.fontSize),ry(t,"font-style",n.fontStyle),ry(t,"font-variant",void 0===n.fontVariant?function(t){return t&&(function(t){for(const n of t)if(null!=n)return"number"==typeof n}(t)||ig(t))?"tabular-nums":void 0}(e):n.fontVariant),ry(t,"font-weight",n.fontWeight)}const mv=new Set(["inherit","initial","revert","unset","xx-small","x-small","small","medium","large","x-large","xx-large","xxx-large","larger","smaller"]);function bv(t,n,e){const r=[];let i,a=0;for(const[o,c,f]of function*(t){let n=0,e=0;const r=t.length;for(;e<r;){let r=1;switch(t[e]){case fv:case"-":++e,yield[n,e,!1],n=e;break;case" ":for(yield[n,e,!1];" "===t[++e];);n=e;break;case"\r":"\n"===t[e+1]&&++r;case"\n":yield[n,e,!0],e+=r,n=e;break;default:++e}}yield[n,e,!0]}(t))void 0===i&&(i=o),a>i&&e(t,i,c)>n&&(r.push(t.slice(i,a)+(t[a-1]===fv?"-":"")),i=o),f?(r.push(t.slice(i,c)),i=void 0):a=c;return r}const yv={a:56,b:63,c:57,d:63,e:58,f:37,g:62,h:60,i:26,j:26,k:55,l:26,m:88,n:60,o:60,p:62,q:62,r:39,s:54,t:38,u:60,v:55,w:79,x:54,y:55,z:55,A:69,B:67,C:73,D:74,E:61,F:58,G:76,H:75,I:28,J:55,K:67,L:58,M:89,N:75,O:78,P:65,Q:78,R:67,S:65,T:65,U:75,V:69,W:98,X:69,Y:67,Z:67,0:64,1:48,2:62,3:64,4:66,5:63,6:65,7:58,8:65,9:65," ":29,"!":32,'"':49,"'":31,"(":39,")":39,",":31,"-":48,".":31,"/":32,":":31,";":31,"?":52,"‘":31,"’":31,"“":47,"”":47,"…":82};function vv(t,n=0,e=t.length){let r=0;for(let i=n;i<e;i=Ev(t,i))r+=yv[t[i]]??(Cv(t,i)?120:yv.e);return r}function wv(t,n=0,e=t.length){let r=0;for(let i=n;i<e;i=Ev(t,i))r+=Cv(t,i)?126:63;return r}function xv({monospace:t,lineWidth:n,textOverflow:e}){if(null!=e||n==1/0)return t=>t.split(/\r\n?|\n/g);const r=t?wv:vv,i=100*n;return t=>bv(t,i,r)}function Mv({monospace:t,lineWidth:n,textOverflow:e}){if(null==e||n==1/0)return t=>t;const r=t?wv:vv,i=100*n;switch(e){case"clip-start":return t=>Av(t,i,r,"");case"clip-end":return t=>$v(t,i,r,"");case"ellipsis-start":return t=>Av(t,i,r,kv);case"ellipsis-middle":return t=>function(t,n,e,r){t=t.trim();const i=e(t);if(i<=n)return t;const a=e(r)/2,[o,c]=_v(t,n/2,e,a),[f]=_v(t,i-n/2-c+a,e,-a);return f<0?r:t.slice(0,o).trimEnd()+r+t.slice(Ev(t,f)).trimStart()}(t,i,r,kv);case"ellipsis-end":return t=>$v(t,i,r,kv)}}const kv="…";function _v(t,n,e,r){const i=[];let a=0;for(let o=0,c=0,f=t.length;o<f;o=c){c=Ev(t,o);const f=e(t,o,c);if(a+f>n){for(a+=r;a>n&&o>0;)c=o,o=i.pop(),a-=e(t,o,c);return[o,n-a]}a+=f,i.push(o)}return[-1,0]}function $v(t,n,e,r){t=t.trim();const i=e(r),[a]=_v(t,n,e,i);return a<0?t:t.slice(0,a).trimEnd()+r}function Av(t,n,e,r){const i=e(t=t.trim());if(i<=n)return t;const a=e(r),[o]=_v(t,i-n+a,e,-a);return o<0?r:r+t.slice(Ev(t,o)).trimStart()}const Tv=/[\p{Combining_Mark}\p{Emoji_Modifier}]+/uy,Sv=/\p{Extended_Pictographic}/uy;function Ev(t,n){return n+=function(t,n){const e=t.charCodeAt(n);if(e>=55296&&e<56320){const e=t.charCodeAt(n+1);return e>=56320&&e<57344}return!1}(t,n)?2:1,function(t,n){return!Nv(t,n)&&(Tv.lastIndex=n,Tv.test(t))}(t,n)&&(n=Tv.lastIndex),function(t,n){return 8205===t.charCodeAt(n)}(t,n)?Ev(t,n+1):n}function Nv(t,n){return t.charCodeAt(n)<128}function Cv(t,n){return!Nv(t,n)&&(Sv.lastIndex=n,Sv.test(t))}const Lv={ariaLabel:"vector",fill:"none",stroke:"currentColor",strokeWidth:1.5,strokeLinejoin:"round",strokeLinecap:"round"},Dv=3.5,Ov=5*Dv,Rv={draw(t,n,e){const r=n*e/Ov;t.moveTo(0,0),t.lineTo(0,-n),t.moveTo(-r,r-n),t.lineTo(0,-n),t.lineTo(r,r-n)}},Fv={draw(t,n,e){t.moveTo(-e,0),t.lineTo(0,-n),t.lineTo(e,0)}},zv=new Map([["arrow",Rv],["spike",Fv]]);class jv extends xy{constructor(t,n={}){const{x:e,y:r,r:i=Dv,length:a,rotate:o,shape:c=Rv,anchor:f="middle",frameAnchor:u}=n,[l,s]=Rp(a,12),[d,h]=Rp(o,0);super(t,{x:{value:e,scale:"x",optional:!0},y:{value:r,scale:"y",optional:!0},length:{value:l,scale:"length",optional:!0},rotate:{value:d,optional:!0}},n,Lv),this.r=+i,this.length=s,this.rotate=h,this.shape=function(t){if(function(t){return t&&"function"==typeof t.draw}(t))return t;const n=zv.get(`${t}`.toLowerCase());if(n)return n;throw new Error(`invalid shape: ${t}`)}(c),this.anchor=zp(f,"anchor",["start","middle","end"]),this.frameAnchor=pg(u)}render(t,n,e,r,i){const{x:a,y:o}=n,{x:c,y:f,length:u,rotate:l}=e,{length:s,rotate:d,anchor:h,shape:p,r:g}=this,[m,b]=ly(this,r);return Ib("svg:g",i).call(ty,this,r,i).call(iy,this,{x:c&&a,y:f&&o}).call((n=>n.selectAll().data(t).enter().append("path").call(ny,this).attr("transform",ov`translate(${c?t=>c[t]:m},${f?t=>f[t]:b})${l?t=>` rotate(${l[t]})`:d?` rotate(${d})`:""}${"start"===h?"":"end"===h?u?t=>` translate(0,${u[t]})`:` translate(0,${s})`:u?t=>` translate(0,${u[t]/2})`:` translate(0,${s/2})`}`).attr("d",u?t=>{const n=Kc();return p.draw(n,u[t],g),n}:(()=>{const t=Kc();return p.draw(t,s,g),t})()).call(Kb,this,e))).node()}}function Uv(t,n={}){const{x:e=kp,...r}=n;return new jv(t,{...r,x:e})}function Pv(t,n={}){const{y:e=kp,...r}=n;return new jv(t,{...r,y:e})}function Iv(t,n){return arguments.length<2&&!ng(t)&&(n=t,t=null),void 0===n&&(n={}),[t,n]}function qv({anchor:t}={},n){return void 0===t?n[0]:zp(t,"anchor",n)}function Bv(t){return qv(t,["left","right"])}function Wv(t){return qv(t,["right","left"])}function Hv(t){return qv(t,["bottom","top"])}function Yv(t){return qv(t,["top","bottom"])}function Vv(){const[t,n]=Iv(...arguments);return Qv("y",Bv(n),t,n)}function Xv(){const[t,n]=Iv(...arguments);return Qv("fy",Wv(n),t,n)}function Zv(){const[t,n]=Iv(...arguments);return Jv("x",Hv(n),t,n)}function Gv(){const[t,n]=Iv(...arguments);return Jv("fx",Yv(n),t,n)}function Qv(t,n,e,{color:r="currentColor",opacity:i=1,stroke:a=r,strokeOpacity:o=i,strokeWidth:c=1,fill:f=r,fillOpacity:u=i,textAnchor:l,textStroke:s,textStrokeOpacity:d,textStrokeWidth:h,tickSize:p=("y"===t?6:0),tickPadding:g,tickRotate:m,x:b,margin:y,marginTop:v=(void 0===y?20:y),marginRight:w=(void 0===y?"right"===n?40:0:y),marginBottom:x=(void 0===y?20:y),marginLeft:M=(void 0===y?"left"===n?40:0:y),label:k,labelAnchor:_,labelArrow:$,labelOffset:A,...T}){return p=Ap(p),g=Ap(g),m=Ap(m),void 0!==_&&(_=zp(_,"labelAnchor",["center","top","bottom"])),$=bw($),My(p&&!sg(a)?function(t,n,e,{strokeWidth:r=1,strokeLinecap:i=null,strokeLinejoin:a=null,facetAnchor:o=n+("y"===t?"-empty":""),frameAnchor:c=n,tickSize:f,inset:u=0,insetLeft:l=u,insetRight:s=u,dx:d=0,y:h=("y"===t?void 0:null),...p}){return cw(Pv,t,e,{ariaLabel:`${t}-axis tick`,ariaHidden:!0},{strokeWidth:r,strokeLinecap:i,strokeLinejoin:a,facetAnchor:o,frameAnchor:c,y:h,...p,dx:"left"===n?+d-Xb+ +l:+d+Xb-s,anchor:"start",length:f,shape:"left"===n?hw:pw})}(t,n,e,{stroke:a,strokeOpacity:o,strokeWidth:c,tickSize:p,tickPadding:g,tickRotate:m,x:b,...T}):null,sg(f)?null:function(t,n,e,{facetAnchor:r=n+("y"===t?"-empty":""),frameAnchor:i=n,tickSize:a,tickRotate:o=0,tickPadding:c=Math.max(3,9-a)+(Math.abs(o)>60?4*Math.cos(o*zy):0),text:f,textAnchor:u=(Math.abs(o)>60?"middle":"left"===n?"end":"start"),lineAnchor:l=(o>60?"top":o<-60?"bottom":"middle"),fontVariant:s,inset:d=0,insetLeft:h=d,insetRight:p=d,dx:g=0,y:m=("y"===t?void 0:null),...b}){return cw(pv,t,e,{ariaLabel:`${t}-axis tick label`},{facetAnchor:r,frameAnchor:i,text:f,textAnchor:u,lineAnchor:l,fontVariant:s,rotate:o,y:m,...b,dx:"left"===n?+g-a-c+ +h:+g+ +a+ +c-p},(function(t,e,r,i,a){void 0===s&&(this.fontVariant=gw(t)),void 0===f&&(a.text=fw(t,e,r,i,n))}))}(t,n,e,{fill:f,fillOpacity:u,stroke:s,strokeOpacity:d,strokeWidth:h,textAnchor:l,tickSize:p,tickPadding:g,tickRotate:m,x:b,marginTop:v,marginRight:w,marginBottom:x,marginLeft:M,...T}),sg(f)||null===k?null:dv([],ow({fill:f,fillOpacity:u,...T},(function(e,r,i,a,o){const c=a[t],{marginTop:f,marginRight:u,marginBottom:l,marginLeft:s}="y"===t&&o.inset||o,d=_??(c.bandwidth?"center":"top"),h=A??("right"===n?u:s)-3;return"center"===d?(this.textAnchor=void 0,this.lineAnchor="right"===n?"bottom":"top",this.frameAnchor=n,this.rotate=-90):(this.textAnchor="right"===n?"end":"start",this.lineAnchor=d,this.frameAnchor=`${d}-${n}`,this.rotate=0),this.dy="top"===d?3-f:"bottom"===d?l-3:0,this.dx="right"===n?h:-h,this.ariaLabel=`${t}-axis label`,{facets:[[0]],channels:{text:{value:[mw(t,c,{anchor:n,label:k,labelAnchor:d,labelArrow:$})]}}}}))))}function Jv(t,n,e,{color:r="currentColor",opacity:i=1,stroke:a=r,strokeOpacity:o=i,strokeWidth:c=1,fill:f=r,fillOpacity:u=i,textAnchor:l,textStroke:s,textStrokeOpacity:d,textStrokeWidth:h,tickSize:p=("x"===t?6:0),tickPadding:g,tickRotate:m,y:b,margin:y,marginTop:v=(void 0===y?"top"===n?30:0:y),marginRight:w=(void 0===y?20:y),marginBottom:x=(void 0===y?"bottom"===n?30:0:y),marginLeft:M=(void 0===y?20:y),label:k,labelAnchor:_,labelArrow:$,labelOffset:A,...T}){return p=Ap(p),g=Ap(g),m=Ap(m),void 0!==_&&(_=zp(_,"labelAnchor",["center","left","right"])),$=bw($),My(p&&!sg(a)?function(t,n,e,{strokeWidth:r=1,strokeLinecap:i=null,strokeLinejoin:a=null,facetAnchor:o=n+("x"===t?"-empty":""),frameAnchor:c=n,tickSize:f,inset:u=0,insetTop:l=u,insetBottom:s=u,dy:d=0,x:h=("x"===t?void 0:null),...p}){return cw(Uv,t,e,{ariaLabel:`${t}-axis tick`,ariaHidden:!0},{strokeWidth:r,strokeLinejoin:a,strokeLinecap:i,facetAnchor:o,frameAnchor:c,x:h,...p,dy:"bottom"===n?+d-Xb-s:+d+Xb+ +l,anchor:"start",length:f,shape:"bottom"===n?sw:dw})}(t,n,e,{stroke:a,strokeOpacity:o,strokeWidth:c,tickSize:p,tickPadding:g,tickRotate:m,y:b,...T}):null,sg(f)?null:function(t,n,e,{facetAnchor:r=n+("x"===t?"-empty":""),frameAnchor:i=n,tickSize:a,tickRotate:o=0,tickPadding:c=Math.max(3,9-a)+(Math.abs(o)>=10?4*Math.cos(o*zy):0),text:f,textAnchor:u=(Math.abs(o)>=10?o<0^"bottom"===n?"start":"end":"middle"),lineAnchor:l=(Math.abs(o)>=10?"middle":"bottom"===n?"top":"bottom"),fontVariant:s,inset:d=0,insetTop:h=d,insetBottom:p=d,dy:g=0,x:m=("x"===t?void 0:null),...b}){return cw(hv,t,e,{ariaLabel:`${t}-axis tick label`},{facetAnchor:r,frameAnchor:i,text:void 0===f?null:f,textAnchor:u,lineAnchor:l,fontVariant:s,rotate:o,x:m,...b,dy:"bottom"===n?+g+ +a+ +c-p:+g-a-c+ +h},(function(t,e,r,i,a){void 0===s&&(this.fontVariant=gw(t)),void 0===f&&(a.text=fw(t,e,r,i,n))}))}(t,n,e,{fill:f,fillOpacity:u,stroke:s,strokeOpacity:d,strokeWidth:h,textAnchor:l,tickSize:p,tickPadding:g,tickRotate:m,y:b,marginTop:v,marginRight:w,marginBottom:x,marginLeft:M,...T}),sg(f)||null===k?null:dv([],ow({fill:f,fillOpacity:u,...T},(function(e,r,i,a,o){const c=a[t],{marginTop:f,marginRight:u,marginBottom:l,marginLeft:s}="x"===t&&o.inset||o,d=_??(c.bandwidth?"center":"right"),h=A??("top"===n?f:l)-3;return"center"===d?(this.frameAnchor=n,this.textAnchor=void 0):(this.frameAnchor=`${n}-${d}`,this.textAnchor="right"===d?"end":"start"),this.lineAnchor=n,this.dy="top"===n?-h:h,this.dx="right"===d?u-3:"left"===d?3-s:0,this.ariaLabel=`${t}-axis label`,{facets:[[0]],channels:{text:{value:[mw(t,c,{anchor:n,label:k,labelAnchor:d,labelArrow:$})]}}}}))))}function Kv(){const[t,n]=Iv(...arguments);return rw("y",Bv(n),t,n)}function tw(){const[t,n]=Iv(...arguments);return rw("fy",Wv(n),t,n)}function nw(){const[t,n]=Iv(...arguments);return iw("x",Hv(n),t,n)}function ew(){const[t,n]=Iv(...arguments);return iw("fx",Yv(n),t,n)}function rw(t,n,e,{y:r=("y"===t?void 0:null),x:i=null,x1:a=("left"===n?i:null),x2:o=("right"===n?i:null),...c}){return cw(iv,t,e,{ariaLabel:`${t}-grid`,ariaHidden:!0},{y:r,x1:a,x2:o,...aw(c)})}function iw(t,n,e,{x:r=("x"===t?void 0:null),y:i=null,y1:a=("top"===n?i:null),y2:o=("bottom"===n?i:null),...c}){return cw(rv,t,e,{ariaLabel:`${t}-grid`,ariaHidden:!0},{x:r,y1:a,y2:o,...aw(c)})}function aw({color:t="currentColor",opacity:n=.1,stroke:e=t,strokeOpacity:r=n,strokeWidth:i=1,...a}){return{stroke:e,strokeOpacity:r,strokeWidth:i,...a}}function ow({fill:t,fillOpacity:n,fontFamily:e,fontSize:r,fontStyle:i,fontVariant:a,fontWeight:o,monospace:c,pointerEvents:f,shapeRendering:u,clip:l=!1},s){return[,t]=Op(t),[,n]=Rp(n),{facet:"super",x:null,y:null,fill:t,fillOpacity:n,fontFamily:e,fontSize:r,fontStyle:i,fontVariant:a,fontWeight:o,monospace:c,pointerEvents:f,shapeRendering:u,clip:l,initializer:s}}function cw(t,n,e,r,i,a){let o;const c=dy(i).initializer,f=t(e,dy({...i,initializer:function(t,e,r,c,f,u){const l=null==t&&("fx"===n||"fy"===n),{[n]:s}=c;if(!s)throw new Error(`missing scale: ${n}`);const d=s.domain();let{interval:h,ticks:p,tickFormat:g,tickSpacing:m=("x"===n?80:35)}=i;if("string"==typeof p&&yw(s)&&(h=p,p=void 0),void 0===p&&(p=Jp(h,s.type)??function(t,n){const[e,r]=v(t.range());return(r-e)/n}(s,m)),null==t){if(ng(p))t=jp(p);else if(Kp(p))t=lw(p,...v(d));else if(s.interval){let n=s.interval;if(s.ticks){const[e,r]=v(d);n=lp(n,(r-e)/n[np]/p)??n,t=lw(n,e,r)}else{n=lp(n,(t=d).length/p)??n,n!==s.interval&&(t=lw(n,...v(t)))}if(n===s.interval){const n=Math.round(t.length/p);n>1&&(t=t.filter(((t,e)=>e%n==0)))}}else t=s.ticks?s.ticks(p):d;if(!s.ticks&&t.length&&t!==d){const e=new x(d);(t=t.filter((t=>e.has(t)))).length||Nm(`Warning: the ${n}-axis ticks appear to not align with the scale domain, resulting in no ticks. Try different ticks?`)}"y"===n||"x"===n?e=[Yp(t)]:o[n]={scale:n,value:kp}}a?.call(this,s,t,p,g,o);const b=Object.fromEntries(Object.entries(o).map((([n,e])=>[n,{...e,value:bp(t,e.value)}])));return l&&(e=u.filterFacets(t,b)),{data:t,facets:e,channels:b}}},c));return null==e?(o=f.channels,f.channels={}):o={},void 0!==r&&Object.assign(f,r),void 0===f.clip&&(f.clip=!1),f}function fw(t,n,e,r,i){return{value:uw(t,n,e,r,i)}}function uw(t,n,e,r,i){return"function"!=typeof r||"log"===t.type&&t.tickFormat?void 0===r&&n&&ig(n)?dp(t.type,n,i)??Vb:t.tickFormat?t.tickFormat("number"==typeof e?e:null,r):void 0===r?Vb:"string"==typeof r?(ig(t.domain())?Uu:ni)(r):Ep(r):r}function lw(t,n,e){return t.range(n,t.offset(t.floor(e)))}const sw={draw(t,n){t.moveTo(0,0),t.lineTo(0,n)}},dw={draw(t,n){t.moveTo(0,0),t.lineTo(0,-n)}},hw={draw(t,n){t.moveTo(0,0),t.lineTo(-n,0)}},pw={draw(t,n){t.moveTo(0,0),t.lineTo(n,0)}};function gw(t){return t.bandwidth&&!t.interval?void 0:"tabular-nums"}function mw(t,n,{anchor:e,label:r=n.label,labelAnchor:i,labelArrow:a}={}){if(!(null==r||r.inferred&&yw(n)&&/^(date|time|year)$/i.test(r))){if(r=String(r),"auto"===a&&(a=(!n.bandwidth||n.interval)&&!/[↑↓→←]/.test(r)),!a)return r;if(!0===a){const e=function(t){return Math.sign(Bh(t.domain()))*Math.sign(Bh(t.range()))}(n);e&&(a=/x$/.test(t)||"center"===i?/x$/.test(t)===e<0?"left":"right":e<0?"up":"down")}switch(a){case"left":return`← ${r}`;case"right":return`${r} →`;case"up":return"right"===e?`${r} ↑`:`↑ ${r}`;case"down":return"right"===e?`${r} ↓`:`↓ ${r}`}return r}}function bw(t="auto"){return!sg(t)&&("boolean"==typeof t?t:zp(t,"labelArrow",["auto","up","right","down","left"]))}function yw(t){return ig(t.domain())}function vw(t,n){if(null==n)return n;const e=t(n);if(!e)throw new Error(`scale not found: ${n}`);return e}function ww(t,n={},e){let{columns:r,tickFormat:i,fontVariant:a=Ry(t),swatchSize:o=15,swatchWidth:c=o,swatchHeight:f=o,marginLeft:u=0,className:l,style:s,width:d}=n;const h=Pb(n);l=fy(l),i=uw(t.scale,t.domain,void 0,i);const p=Ib("div",h).attr("class",`${l}-swatches ${l}-swatches-${null!=r?"columns":"wrap"}`);let g;return null!=r?(g=`:where(.${l}-swatches-columns .${l}-swatch) {\n  display: flex;\n  align-items: center;\n  break-inside: avoid;\n  padding-bottom: 1px;\n}\n:where(.${l}-swatches-columns .${l}-swatch::before) {\n  flex-shrink: 0;\n}\n:where(.${l}-swatches-columns .${l}-swatch-label) {\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}`,p.style("columns",r).selectAll().data(t.domain).enter().append("div").attr("class",`${l}-swatch`).call(e,t,c,f).call((t=>t.append("div").attr("class",`${l}-swatch-label`).attr("title",i).text(i)))):(g=`:where(.${l}-swatches-wrap) {\n  display: flex;\n  align-items: center;\n  min-height: 33px;\n  flex-wrap: wrap;\n}\n:where(.${l}-swatches-wrap .${l}-swatch) {\n  display: inline-flex;\n  align-items: center;\n  margin-right: 1em;\n}`,p.selectAll().data(t.domain).enter().append("span").attr("class",`${l}-swatch`).call(e,t,c,f).append((function(){return this.ownerDocument.createTextNode(i.apply(this,arguments))}))),p.call((t=>t.insert("style","*").text(`:where(.${l}-swatches) {\n  font-family: system-ui, sans-serif;\n  font-size: 10px;\n  margin-bottom: 0.5em;\n}\n:where(.${l}-swatch > svg) {\n  margin-right: 0.5em;\n  overflow: visible;\n}\n${g}`))).style("margin-left",u?+u+"px":null).style("width",void 0===d?null:+d+"px").style("font-variant",ay(a,"normal")).call(uy,s).node()}const xw=new Map([["symbol",function(t,{fill:n=(void 0!==t.hint?.fill?t.hint.fill:"none"),fillOpacity:e=1,stroke:r=(void 0!==t.hint?.stroke?t.hint.stroke:sg(n)?"currentColor":"none"),strokeOpacity:i=1,strokeWidth:a=1.5,r:o=4.5,...c}={},f){const[u,l]=Op(n),[s,d]=Op(r),h=vw(f,u),p=vw(f,s),g=o*o*Math.PI;return e=Rp(e)[1],i=Rp(i)[1],a=Rp(a)[1],ww(t,c,((n,r,o,c)=>n.append("svg").attr("viewBox","-8 -8 16 16").attr("width",o).attr("height",c).attr("fill","color"===u?t=>h.scale(t):l).attr("fill-opacity",e).attr("stroke","color"===s?t=>p.scale(t):d).attr("stroke-opacity",i).attr("stroke-width",a).append("path").attr("d",(n=>{const e=Kc();return t.scale(n).draw(e,g),e}))))}],["color",kw],["opacity",function({type:t,interpolate:n,...e},{legend:r=!0,color:i=Ye(0,0,0),...a}){if(!n)throw new Error(`${t} opacity scales are not supported`);!0===r&&(r="ramp");if("ramp"!==`${r}`.toLowerCase())throw new Error(`${r} opacity legends are not supported`);return kw({type:t,...e,interpolate:_w(i)},{legend:r,...a})}]]);function Mw({className:t,...n},{label:e,ticks:r,tickFormat:i}={},a){return function(t={},...n){let e=t;for(const r of n)for(const n in r)if(void 0===e[n]){const i=r[n];e===t?e={...e,[n]:i}:e[n]=i}return e}(a,{className:t,...n},{label:e,ticks:r,tickFormat:i})}function kw(t,{legend:n=!0,...e}){if(!0===n&&(n="ordinal"===t.type?"swatches":"ramp"),void 0!==t.domain)switch(`${n}`.toLowerCase()){case"swatches":return function(t,{opacity:n,...e}={}){if(!fb(t)&&!ub(t))throw new Error(`swatches legend requires ordinal or threshold color scale (not ${t.type})`);return ww(t,e,((t,e,r,i)=>t.append("svg").attr("width",r).attr("height",i).attr("fill",e.scale).attr("fill-opacity",Rp(n)[1]).append("rect").attr("width","100%").attr("height","100%")))}(t,e);case"ramp":return Fy(t,e);default:throw new Error(`unknown legend type: ${n}`)}}function _w(t){const{r:n,g:e,b:r}=Ye(t)||Ye(0,0,0);return t=>`rgba(${n},${e},${r},${t})`}const $w={ariaLabel:"frame",fill:"none",stroke:"currentColor",clip:!1},Aw={ariaLabel:"frame",fill:null,stroke:"currentColor",strokeLinecap:"square",clip:!1};class Tw extends xy{constructor(t={}){const{anchor:n=null,inset:e=0,insetTop:r=e,insetRight:i=e,insetBottom:a=e,insetLeft:o=e,rx:c,ry:f}=t;super(wp,void 0,t,null==n?$w:Aw),this.anchor=Fp(n,"anchor",["top","right","bottom","left"]),this.insetTop=Ap(r),this.insetRight=Ap(i),this.insetBottom=Ap(a),this.insetLeft=Ap(o),this.rx=Ap(c),this.ry=Ap(f)}render(t,n,e,r,i){const{marginTop:a,marginRight:o,marginBottom:c,marginLeft:f,width:u,height:l}=r,{anchor:s,insetTop:d,insetRight:h,insetBottom:p,insetLeft:g,rx:m,ry:b}=this,y=f+g,v=u-o-h,w=a+d,x=l-c-p;return Ib(s?"svg:line":"svg:rect",i).datum(0).call(ty,this,r,i).call(ny,this).call(Kb,this,e).call(iy,this,{}).call("left"===s?t=>t.attr("x1",y).attr("x2",y).attr("y1",w).attr("y2",x):"right"===s?t=>t.attr("x1",v).attr("x2",v).attr("y1",w).attr("y2",x):"top"===s?t=>t.attr("x1",y).attr("x2",v).attr("y1",w).attr("y2",w):"bottom"===s?t=>t.attr("x1",y).attr("x2",v).attr("y1",x).attr("y2",x):t=>t.attr("x",y).attr("y",w).attr("width",v-y).attr("height",x-w).attr("rx",m).attr("ry",b)).node()}}const Sw={ariaLabel:"tip",fill:"var(--plot-background)",stroke:"currentColor"},Ew=new Set(["geometry","href","src","ariaLabel","scales"]);class Nw extends xy{constructor(t,n={}){n.tip&&(n={...n,tip:!1}),void 0===n.title&&ng(t)&&eg(t)&&(n={...n,title:kp});const{x:e,y:r,x1:i,x2:a,y1:o,y2:c,anchor:f,preferredAnchor:u="bottom",monospace:l,fontFamily:s=(l?"ui-monospace, monospace":void 0),fontSize:d,fontStyle:h,fontVariant:p,fontWeight:g,lineHeight:m=1,lineWidth:b=20,frameAnchor:y,format:v,textAnchor:w="start",textOverflow:x,textPadding:M=8,title:k,pointerSize:_=12,pathFilter:$="drop-shadow(0 3px 4px rgba(0,0,0,0.2))"}=n;super(t,{x:{value:null!=i&&null!=a?null:e,scale:"x",optional:!0},y:{value:null!=o&&null!=c?null:r,scale:"y",optional:!0},x1:{value:i,scale:"x",optional:null==a},y1:{value:o,scale:"y",optional:null==c},x2:{value:a,scale:"x",optional:null==i},y2:{value:c,scale:"y",optional:null==o},title:{value:k,optional:!0}},n,Sw),this.anchor=hg(f,"anchor"),this.preferredAnchor=hg(u,"preferredAnchor"),this.frameAnchor=pg(y),this.textAnchor=ay(w,"middle"),this.textPadding=+M,this.pointerSize=+_,this.pathFilter=$p($),this.lineHeight=+m,this.lineWidth=+b,this.textOverflow=lv(x),this.monospace=!!l,this.fontFamily=$p(s),this.fontSize=Ap(d),this.fontStyle=$p(h),this.fontVariant=$p(p),this.fontWeight=$p(g);for(const A in Sw)A in this.channels&&(this[A]=Sw[A]);this.splitLines=xv(this),this.clipLine=Mv(this),this.format="string"==typeof v||"function"==typeof v?{title:v}:{...v}}render(t,n,e,r,i){const a=this,{x:o,y:c,fx:f,fy:u}=n,{ownerSVGElement:l,document:s}=i,{anchor:d,monospace:h,lineHeight:p,lineWidth:g}=this,{textPadding:m,pointerSize:b,pathFilter:y}=this,{marginTop:v,marginLeft:w}=r,{x1:x,y1:M,x2:k,y2:_,x:$=x??k,y:A=M??_}=e,T=f?f(t.fx)-w:0,S=u?u(t.fy)-v:0,[E,N]=ly(this,r),C=Dy(e,E),L=Oy(e,N),D=h?wv:vv,O=D(kv);let R,F;"title"in e?(R=Lw.call(this,{title:e.channels.title},n),F=Ow):(R=Lw.call(this,e.channels,n),F=Rw);const z=Ib("svg:g",i).call(ty,this,r,i).call(gv,this).call(iy,this,{x:$&&o,y:A&&c}).call((r=>r.selectAll().data(t).enter().append("g").attr("transform",(t=>`translate(${Math.round(C(t))},${Math.round(L(t))})`)).call(ny,this).call((t=>t.append("path").attr("filter",y))).call((r=>r.append("text").each((function(r){const i=Kd(this);this.setAttribute("fill","currentColor"),this.setAttribute("fill-opacity",1),this.setAttribute("stroke","none");const o=F.call(a,r,t,R,n,e);if("string"==typeof o)for(const t of a.splitLines(o))j(i,{value:a.clipLine(t)});else{const t=new Set;for(const n of o){const{label:e=""}=n;e&&t.has(e)||(t.add(e),j(i,n))}}}))))));function j(t,{label:n,value:e,color:r,opacity:i}){n??="",e??="";const a=null!=r||null!=i;let o,c=100*g;const[f]=_v(n,c,D,O);if(f>=0)n=n.slice(0,f).trimEnd()+kv,o=e.trim(),e="";else{(n||!e&&!a)&&(e=" "+e);const[t]=_v(e,c-D(n),D,O);t>=0&&(o=e.trim(),e=e.slice(0,t).trimEnd()+kv)}const u=t.append("tspan").attr("x",0).attr("dy",`${p}em`).text("​");n&&u.append("tspan").attr("font-weight","bold").text(n),e&&u.append((()=>s.createTextNode(e))),a&&u.append("tspan").text(" ■").attr("fill",r).attr("fill-opacity",i).style("user-select","none"),o&&u.append("title").text(o)}function U(){const{width:t,height:n}=r.facet??r;z.selectChildren().each((function(e){let{x:r,width:i,height:o}=this.getBBox();i=Math.round(i),o=Math.round(o);let c=d;if(void 0===c){const r=C(e)+T,f=L(e)+S,u=r+i+b+2*m<t,l=r-i-b-2*m>0,s=f+o+b+2*m<n,d=f-o-b-2*m>0;c=u&&l?s&&d?a.preferredAnchor:d?"bottom":"top":s&&d?u?"left":"right":(u||l)&&(s||d)?`${d?"bottom":"top"}-${u?"left":"right"}`:a.preferredAnchor}const f=this.firstChild,u=this.lastChild;if(f.setAttribute("d",function(t,n,e,r,i){const a=r+2*e,o=i+2*e;switch(t){case"middle":return`M${-a/2},${-o/2}h${a}v${o}h${-a}z`;case"top-left":return`M0,0l${n},${n}h${a-n}v${o}h${-a}z`;case"top":return`M0,0l${n/2},${n/2}h${(a-n)/2}v${o}h${-a}v${-o}h${(a-n)/2}z`;case"top-right":return`M0,0l${-n},${n}h${n-a}v${o}h${a}z`;case"right":return`M0,0l${-n/2},${-n/2}v${n/2-o/2}h${-a}v${o}h${a}v${n/2-o/2}z`;case"bottom-left":return`M0,0l${n},${-n}h${a-n}v${-o}h${-a}z`;case"bottom":return`M0,0l${n/2},${-n/2}h${(a-n)/2}v${-o}h${-a}v${o}h${(a-n)/2}z`;case"bottom-right":return`M0,0l${-n},${-n}h${n-a}v${-o}h${a}z`;case"left":return`M0,0l${n/2},${-n/2}v${n/2-o/2}h${a}v${o}h${-a}v${n/2-o/2}z`}}(c,b,m,i,o)),r)for(const t of u.childNodes)t.setAttribute("x",-r);u.setAttribute("y",+function(t,n,e){return/^top(?:-|$)/.test(t)?.94-e:-.29-n*e}(c,u.childNodes.length,p).toFixed(6)+"em"),u.setAttribute("transform",`translate(${function(t,n,e,r,i){switch(t){case"middle":return[-r/2,i/2];case"top-left":return[e,n+e];case"top":return[-r/2,n/2+e];case"top-right":return[-r-e,n+e];case"right":return[-n/2-r-e,i/2];case"bottom-left":return[e,-n-e];case"bottom":return[-r/2,-n/2-e];case"bottom-right":return[-r-e,-n-e];case"left":return[e+n/2,i/2]}}(c,b,m,i,o)})`)})),z.attr("visibility",null)}return t.length&&(z.attr("visibility","hidden"),l.isConnected?Promise.resolve().then(U):"undefined"!=typeof requestAnimationFrame&&requestAnimationFrame(U)),z.node()}}function Cw(t,{x:n,y:e,...r}={}){return void 0===r.frameAnchor&&([n,e]=Hp(n,e)),new Nw(t,{...r,x:n,y:e})}function Lw(t,n){const e={};let r=this.format;r=Dw(r,t,"x"),r=Dw(r,t,"y"),this.format=r;for(const i in r){const n=r[i];if(null!==n&&!1!==n)if("fx"===i||"fy"===i)e[i]=!0;else{const n=Qg(t,i);n&&(e[i]=n)}}for(const i in t){if(i in e||i in r||Ew.has(i))continue;const n=Qg(t,i);n&&(e[i]=n)}this.facet&&(n.fx&&!("fx"in r)&&(e.fx=!0),n.fy&&!("fy"in r)&&(e.fy=!0));for(const i in e){const t=this.format[i];if("string"==typeof t){const r=e[i]?.value??n[i]?.domain()??[];this.format[i]=(ig(r)?Uu:ni)(t)}else if(void 0===t||!0===t){const t=n[i];this.format[i]=t?.bandwidth?uw(t,t.domain()):Vb}}return e}function Dw(t,n,e){if(!(e in t))return t;const r=`${e}1`,i=`${e}2`;if(!(!(r in t)&&r in n||!(i in t)&&i in n))return t;const a=Object.entries(t),o=t[e];return a.splice(a.findIndex((([t])=>t===e))+1,0,[r,o],[i,o]),Object.fromEntries(a)}function Ow(t,n,{title:e}){return this.format.title(e.value[t],t)}function*Rw(t,n,e,r,i){for(const a in e){if("fx"===a||"fy"===a){yield{label:jw(r,e,a),value:this.format[a](n[a],t)};continue}if("x1"===a&&"x2"in e)continue;if("y1"===a&&"y2"in e)continue;const o=e[a];if("x2"===a&&"x1"in e)yield{label:zw(r,e,"x"),value:Fw(this.format.x2,e.x1,o,t)};else if("y2"===a&&"y1"in e)yield{label:zw(r,e,"y"),value:Fw(this.format.y2,e.y1,o,t)};else{const n=o.value[t],c=o.scale;if(!Oh(n)&&null==c)continue;yield{label:jw(r,e,a),value:this.format[a](n,t),color:"color"===c?i[a][t]:null,opacity:"opacity"===c?i[a][t]:null}}}}function Fw(t,n,e,r){return e.hint?.length?`${t(e.value[r]-n.value[r],r)}`:`${t(n.value[r],r)}–${t(e.value[r],r)}`}function zw(t,n,e){const r=jw(t,n,`${e}1`,e),i=jw(t,n,`${e}2`,e);return r===i?r:`${r}–${i}`}function jw(t,n,e,r=e){const i=n[e],a=t[i?.scale??e];return String(a?.label??i?.label??r)}function Uw(t={}){const{facet:n,style:e,title:r,subtitle:i,caption:a,ariaLabel:o,ariaDescription:c}=t,f=fy(t.className),u=void 0===t.marks?[]:Iw(t.marks);u.push(...function(t){const n=[];for(const e of t){let t=e.tip;if(t){!0===t?t={}:"string"==typeof t&&(t={pointer:t});let{pointer:r,preferredAnchor:i}=t;r=/^x$/i.test(r)?Cy:/^y$/i.test(r)?Ly:Ny,t=r(Gw(e,t)),t.title=null,void 0===i&&(t.preferredAnchor=r===Ly?"left":"bottom");const a=Cw(e.data,t);a.facet=e.facet,a.facetAnchor=e.facetAnchor,n.push(a)}}return n}(u));const l=function(t,n){if(null==t)return;const{x:e,y:r}=t;if(null==e&&null==r)return;const i=jp(t.data);if(null==i)throw new Error("missing facet data");const a={};null!=e&&(a.fx=qg(i,{value:e,scale:"fx"}));null!=r&&(a.fy=qg(i,{value:r,scale:"fy"}));Ww(a,n);const o=gb(i,a);return{channels:a,groups:o,data:t.data}}(n,t),s=new Map;for(const U of u){const n=Zw(U,l,t);n&&s.set(U,n)}const d=new Map;l&&Vw(d,[l],t),Vw(d,s,t);const h=Iw(function(t,n,e){let{projection:r,x:i={},y:a={},fx:o={},fy:c={},axis:f,grid:u,facet:l={},facet:{axis:s=f,grid:d}=l,x:{axis:h=f,grid:p=(null===h?null:u)}=i,y:{axis:g=f,grid:m=(null===g?null:u)}=a,fx:{axis:b=s,grid:y=(null===b?null:d)}=o,fy:{axis:v=s,grid:w=(null===v?null:d)}=c}=e;(r||!qp(i)&&!nx("x",t))&&(h=p=null);(r||!qp(a)&&!nx("y",t))&&(g=m=null);n.has("fx")||(b=y=null);n.has("fy")||(v=w=null);void 0===h&&(h=!tx(t,"x"));void 0===g&&(g=!tx(t,"y"));void 0===b&&(b=!tx(t,"fx"));void 0===v&&(v=!tx(t,"fy"));!0===h&&(h="bottom");!0===g&&(g="left");!0===b&&(b="top"===h||null===h?"bottom":"top");!0===v&&(v="right"===g||null===g?"left":"right");const x=[];return Jw(x,w,tw,c),Qw(x,v,Xv,"right","left",l,c),Jw(x,y,ew,o),Qw(x,b,Gv,"top","bottom",l,o),Jw(x,m,Kv,a),Qw(x,g,Vv,"left","right",e,a),Jw(x,p,nw,i),Qw(x,h,Zv,"bottom","top",e,i),x}(u,d,t));for(const U of h){const n=Zw(U,l,t);n&&s.set(U,n)}u.unshift(...h);let p=pb(d,t);if(void 0!==p){const t=l?Tb(p,l):void 0;for(const e of u){if(null===e.facet||"super"===e.facet)continue;const n=s.get(e);void 0!==n&&(n.facetsIndex=null!=e.fx||null!=e.fy?Tb(p,n):t)}const n=new Set;for(const{facetsIndex:e}of s.values())e?.forEach(((t,e)=>{t?.length>0&&n.add(e)}));p.forEach(0<n.size&&n.size<p.length?(t,e)=>t.empty=!n.has(e):t=>t.empty=!1);for(const e of u)if("exclude"===e.facet){const t=s.get(e);void 0!==t&&(t.facetsIndex=mb(t.facetsIndex))}}for(const U of _g.keys())qp(t[U])&&"fx"!==U&&"fy"!==U&&d.set(U,[]);const g=new Map;for(const U of u){if(g.has(U))throw new Error("duplicate mark; each mark must be unique");const{facetsIndex:n,channels:e}=s.get(U)??{},{data:r,facets:i,channels:a}=U.initialize(n,e,t);Ww(a,t),g.set(U,{data:r,facets:i,channels:a})}const m=Xm(Vw(d,g,t),t),b=function(t,n,e={}){let r=.5-Xb,i=.5+Xb,a=.5+Xb,o=.5-Xb;for(const{marginTop:g,marginRight:m,marginBottom:b,marginLeft:y}of n)g>r&&(r=g),m>i&&(i=m),b>a&&(a=b),y>o&&(o=y);let{margin:c,marginTop:f=(void 0!==c?c:r),marginRight:u=(void 0!==c?c:i),marginBottom:l=(void 0!==c?c:a),marginLeft:s=(void 0!==c?c:o)}=e;f=+f,u=+u,l=+l,s=+s;let{width:d=640,height:h=Ay(t,e,{width:d,marginTopDefault:r,marginRightDefault:i,marginBottomDefault:a,marginLeftDefault:o})+Math.max(0,f-r+l-a)}=e;d=+d,h=+h;const p={width:d,height:h,marginTop:f,marginRight:u,marginBottom:l,marginLeft:s};if(t.fx||t.fy){let{margin:t,marginTop:n=(void 0!==t?t:f),marginRight:r=(void 0!==t?t:u),marginBottom:i=(void 0!==t?t:l),marginLeft:a=(void 0!==t?t:s)}=e.facet??{};n=+n,r=+r,i=+i,a=+a,p.facet={marginTop:n,marginRight:r,marginBottom:i,marginLeft:a}}return p}(m,u,t);!function(t,n){const{x:e,y:r,fx:i,fy:a}=t,o=i||a?Qm(n):n;i&&Km(i,o),a&&tb(a,o);const c=i||a?Jm(t,n):n;e&&Km(e,c),r&&tb(r,c)}(m,b);const y=Zm(m),{fx:v,fy:w}=y,x=v||w?Jm(m,b):b,M=v||w?function({fx:t,fy:n},e){const{marginTop:r,marginRight:i,marginBottom:a,marginLeft:o,width:c,height:f}=Qm(e),u=t&&ex(t),l=n&&ex(n);return{marginTop:n?l[0]:r,marginRight:t?c-u[1]:i,marginBottom:n?f-l[1]:a,marginLeft:t?u[0]:o,inset:{marginTop:e.marginTop,marginRight:e.marginRight,marginBottom:e.marginBottom,marginLeft:e.marginLeft},width:c,height:f}}(y,b):b,k=Pb(t),_=k.document,$=gn("svg").call(_.documentElement);let A=$;k.ownerSVGElement=$,k.className=f,k.projection=Cb(t,x),k.filterFacets=(t,n)=>Tb(p,{channels:n,groups:gb(t,n)}),k.getMarkState=t=>{const n=g.get(t),e=s.get(t);return{...n,channels:{...n.channels,...e?.channels}}},k.dispatchValue=t=>{A.value!==t&&(A.value=t,A.dispatchEvent(new Event("input",{bubbles:!0})))};const T=new Set;for(const[U,P]of g)if(null!=U.initializer){const n="super"===U.facet?M:x,e=U.initializer(P.data,P.facets,P.channels,y,n,k);if(void 0!==e.data&&(P.data=e.data),void 0!==e.facets&&(P.facets=e.facets),void 0!==e.channels){const{fx:n,fy:r,...i}=e.channels;Yw(i),Object.assign(P.channels,i);for(const e of Object.values(i)){const{scale:n}=e;null!=n&&((S=_g.get(n))!==bg&&S!==kg)&&(Hw(e,t),T.add(n))}null==n&&null==r||s.set(U,!0)}}var S;if(T.size){const n=new Map;Vw(n,g,t,(t=>T.has(t))),Vw(d,g,t,(t=>T.has(t)));const e=function(t,n){for(const e in t){const r=t[e],i=n[e];void 0===r.label&&i&&(r.label=i.label)}return t}(Xm(n,t),m),{scales:r,...i}=Zm(e);Object.assign(m,e),Object.assign(y,i),Object.assign(y.scales,r)}let E,N;void 0!==p&&(E={x:v?.domain(),y:w?.domain()},p=function(t,{x:n,y:e}){return n&&=vb(n),e&&=vb(e),t.filter(n&&e?t=>n.has(t.x)&&e.has(t.y):n?t=>n.has(t.x):t=>e.has(t.y)).sort(n&&e?(t,r)=>n.get(t.x)-n.get(r.x)||e.get(t.y)-e.get(r.y):n?(t,e)=>n.get(t.x)-n.get(e.x):(t,n)=>e.get(t.y)-e.get(n.y))}(p,E),N=function(t,n,{marginTop:e,marginLeft:r}){return t&&n?({x:i,y:a})=>`translate(${t(i)-r},${n(a)-e})`:t?({x:n})=>`translate(${t(n)-r},0)`:({y:t})=>`translate(0,${n(t)-e})`}(v,w,b));for(const[U,P]of g)P.values=U.scale(P.channels,y,k);const{width:C,height:L}=b;Kd($).attr("class",f).attr("fill","currentColor").attr("font-family","system-ui, sans-serif").attr("font-size",10).attr("text-anchor","middle").attr("width",C).attr("height",L).attr("viewBox",`0 0 ${C} ${L}`).attr("aria-label",o).attr("aria-description",c).call((t=>t.append("style").text(`:where(.${f}) {\n  --plot-background: white;\n  display: block;\n  height: auto;\n  height: intrinsic;\n  max-width: 100%;\n}\n:where(.${f} text),\n:where(.${f} tspan) {\n  white-space: pre;\n}`))).call(uy,e);for(const U of u){const{channels:t,values:n,facets:e}=g.get(U);if(void 0===p||"super"===U.facet){let r=null;if(e&&(r=e[0],r=U.filter(r,t,n),0===r.length))continue;const i=U.render(r,y,n,M,k);if(null==i)continue;$.appendChild(i)}else{let r;for(const i of p){if(!(U.facetAnchor?.(p,E,i)??!i.empty))continue;let a=null;if(e){const r=s.has(U);if(a=e[r?i.i:0],a=U.filter(a,t,n),0===a.length)continue;r||a!==e[0]||(O=void 0,R=void 0,a=(D=a).subarray?D.subarray(O,R):D.slice(O,R)),a.fx=i.x,a.fy=i.y,a.fi=i.i}const o=U.render(a,y,n,x,k);if(null!=o){(r??=Kd($).append("g")).append((()=>o)).datum(i);for(const t of["aria-label","aria-description","aria-hidden","transform"])o.hasAttribute(t)&&(r.attr(t,o.getAttribute(t)),o.removeAttribute(t))}}r?.selectChildren().attr("transform",N)}}var D,O,R;const F=function(t,n,e){const r=[];for(const[i,a]of xw){const o=e[i];if(o?.legend&&i in t){const e=a(t[i],Mw(n,t[i],o),(n=>t[n]));null!=e&&r.push(e)}}return r}(m,k,t),{figure:z=null!=r||null!=i||null!=a||F.length>0}=t;z&&(A=_.createElement("figure"),A.className=`${f}-figure`,A.style.maxWidth="initial",null!=r&&A.append(Pw(_,r,"h2")),null!=i&&A.append(Pw(_,i,"h3")),A.append(...F,$),null!=a&&A.append(function(t,n){const e=t.createElement("figcaption");return e.append(n),e}(_,a)),"value"in $&&(A.value=$.value,delete $.value)),A.scale=function(t){return n=>{if(!_g.has(n=`${n}`))throw new Error(`unknown scale: ${n}`);return t[n]}}(y.scales),A.legend=function(t,n,e={}){return(r,i)=>{if(!xw.has(r))throw new Error(`unknown legend type: ${r}`);if(r in t)return xw.get(r)(t[r],Mw(n,e[r],i),(n=>t[n]))}}(m,k,t);const j=function(){const t=Em;return Em=0,Sm=void 0,t}();return j>0&&Kd($).append("text").attr("x",C).attr("y",20).attr("dy","-1em").attr("text-anchor","end").attr("font-family","initial").text("⚠️").append("title").text(`${j.toLocaleString("en-US")} warning${1===j?"":"s"}. Please check the console.`),A}function Pw(t,n,e){if(n.ownerDocument)return n;const r=t.createElement(e);return r.append(n),r}function Iw(t){return t.flat(1/0).filter((t=>null!=t)).map(qw)}function qw(t){return"function"==typeof t.render?t:new Bw(t)}class Bw extends xy{constructor(t){if("function"!=typeof t)throw new TypeError("invalid mark; missing render function");super(),this.render=t}render(){}}function Ww(t,n){for(const e in t)Hw(t[e],n);return t}function Hw(t,n){const{scale:e,transform:r=!0}=t;if(null==e||!r)return;const{type:i,percent:a,interval:o,transform:c=(a?t=>null==t?NaN:100*t:Gp(o,i))}=n[e]??{};null!=c&&(t.value=Up(t.value,c),t.transform=!1)}function Yw(t){for(const n in t)Bg(n,t[n])}function Vw(t,n,e,r=_p){for(const{channels:i}of n.values())for(const n in i){const a=i[n],{scale:o}=a;if(null!=o&&r(o))if("projection"===o){if(!jb(e)){const n=void 0===e.x?.domain,r=void 0===e.y?.domain;if(n||r){const[e,i]=Ub(a);n&&Xw(t,"x",e),r&&Xw(t,"y",i)}}}else Xw(t,o,a)}return t}function Xw(t,n,e){const r=t.get(n);void 0!==r?r.push(e):t.set(n,[e])}function Zw(t,n,e){if(null===t.facet||"super"===t.facet)return;const{fx:r,fy:i}=t;if(null!=r||null!=i){const n=jp(t.data??r??i);if(void 0===n)throw new Error(`missing facet data in ${t.ariaLabel}`);if(null===n)return;const a={};return null!=r&&(a.fx=qg(n,{value:r,scale:"fx"})),null!=i&&(a.fy=qg(n,{value:i,scale:"fy"})),Ww(a,e),{channels:a,groups:gb(n,a)}}if(void 0===n)return;const{channels:a,groups:o,data:c}=n;if("auto"!==t.facet||t.data===c)return{channels:a,groups:o};c.length>0&&(o.size>1||1===o.size&&a.fx&&a.fy&&[...o][0][1].size>1)&&jp(t.data)?.length===c.length&&Nm(`Warning: the ${t.ariaLabel} mark appears to use faceted data, but isn’t faceted. The mark data has the same length as the facet data and the mark facet option is "auto", but the mark data and facet data are distinct. If this mark should be faceted, set the mark facet option to true; otherwise, suppress this warning by setting the mark facet option to false.`)}function Gw(t,n={}){return dy({...n,x:null,y:null},((n,e,r,i,a,o)=>o.getMarkState(t)))}function Qw(t,n,e,r,i,a,o){if(!n)return;const c=function(t){return/^\s*both\s*$/i.test(t)}(n);o=function(t,n,{line:e=n.line,ticks:r,tickSize:i,tickSpacing:a,tickPadding:o,tickFormat:c,tickRotate:f,fontVariant:u,ariaLabel:l,ariaDescription:s,label:d=n.label,labelAnchor:h,labelArrow:p=n.labelArrow,labelOffset:g}){return{anchor:t,line:e,ticks:r,tickSize:i,tickSpacing:a,tickPadding:o,tickFormat:c,tickRotate:f,fontVariant:u,ariaLabel:l,ariaDescription:s,label:d,labelAnchor:h,labelArrow:p,labelOffset:g}}(c?r:n,a,o);const{line:f}=o;e!==Vv&&e!==Zv||!f||dg(f)||t.push(function(t){return new Tw(t)}(function(t){const{anchor:n,line:e}=t;return{anchor:n,facetAnchor:n+"-empty",stroke:!0===e?void 0:e}}(o))),t.push(e(o)),c&&t.push(e({...o,anchor:i,label:null}))}function Jw(t,n,e,r){n&&!dg(n)&&t.push(e(function(t,{stroke:n=(ug(t)?t:void 0),ticks:e=(Kw(t)?t:void 0),tickSpacing:r,ariaLabel:i,ariaDescription:a}){return{stroke:n,ticks:e,tickSpacing:r,ariaLabel:i,ariaDescription:a}}(n,r)))}function Kw(t){switch(typeof t){case"number":return!0;case"string":return!ug(t)}return ng(t)||"function"==typeof t?.range}function tx(t,n){const e=`${n}-axis `;return t.some((t=>t.ariaLabel?.startsWith(e)))}function nx(t,n){for(const e of n)for(const n in e.channels){const{scale:r}=e.channels[n];if(r===t||"projection"===r)return!0}return!1}function ex(t){const n=t.domain();let e=t(n[0]),r=t(n[n.length-1]);return r<e&&([e,r]=[r,e]),[e,r+t.bandwidth()]}const rx={ariaLabel:"dot",fill:"none",stroke:"currentColor",strokeWidth:1.5};function ix(t){return void 0===t.sort&&void 0===t.reverse?function(t,{sort:n,...e}={}){return{...(Bp(t)&&void 0!==t.channel?dy:gy)(e,yy(t)),sort:Wp(n)?n:null}}({channel:"-r"},t):t}class ax extends xy{constructor(t,n={}){const{x:e,y:r,r:i,rotate:a,symbol:o=fh,frameAnchor:c}=n,[f,u]=Rp(a,0),[l,s]=function(t){if(null==t||Sg(t))return[void 0,t];if("string"==typeof t){const n=Tg.get(`${t}`.toLowerCase());if(n)return[void 0,n]}return[t,void 0]}(o),[d,h]=Rp(i,null==l?3:4.5);super(t,{x:{value:e,scale:"x",optional:!0},y:{value:r,scale:"y",optional:!0},r:{value:d,scale:"r",filter:Uh,optional:!0},rotate:{value:f,optional:!0},symbol:{value:l,scale:"auto",optional:!0}},ix(n),rx),this.r=h,this.rotate=u,this.symbol=s,this.frameAnchor=pg(c);const{channels:p}=this,{symbol:g}=p;if(g){const{fill:t,stroke:n}=p;g.hint={fill:t?t.value===g.value?"color":"currentColor":this.fill??"currentColor",stroke:n?n.value===g.value?"color":"currentColor":this.stroke??"none"}}}render(t,n,e,r,i){const{x:a,y:o}=n,{x:c,y:f,r:u,rotate:l,symbol:s}=e,{r:d,rotate:h,symbol:p}=this,[g,m]=ly(this,r),b=p===fh,y=u?void 0:d*d*Math.PI;return Ph(d)&&(t=[]),Ib("svg:g",i).call(ty,this,r,i).call(iy,this,{x:c&&a,y:f&&o}).call((n=>n.selectAll().data(t).enter().append(b?"circle":"path").call(ny,this).call(b?t=>{t.attr("cx",c?t=>c[t]:g).attr("cy",f?t=>f[t]:m).attr("r",u?t=>u[t]:d)}:t=>{t.attr("transform",ov`translate(${c?t=>c[t]:g},${f?t=>f[t]:m})${l?t=>` rotate(${l[t]})`:h?` rotate(${h})`:""}`).attr("d",u&&s?t=>{const n=Kc();return s[t].draw(n,u[t]*u[t]*Math.PI),n}:u?t=>{const n=Kc();return p.draw(n,u[t]*u[t]*Math.PI),n}:s?t=>{const n=Kc();return s[t].draw(n,y),n}:(()=>{const t=Kc();return p.draw(t,y),t})())}).call(Kb,this,e))).node()}}function ox(t,{x:n,y:e,...r}={}){return void 0===r.frameAnchor&&([n,e]=Hp(n,e)),new ax(t,{...r,x:n,y:e})}const cx={ariaLabel:"rect"};class fx extends xy{constructor(t,n={}){const{x1:e,y1:r,x2:i,y2:a,inset:o=0,insetTop:c=o,insetRight:f=o,insetBottom:u=o,insetLeft:l=o,rx:s,ry:d}=n;super(t,{x1:{value:e,scale:"x",type:null!=e&&null==i?"band":void 0,optional:!0},y1:{value:r,scale:"y",type:null!=r&&null==a?"band":void 0,optional:!0},x2:{value:i,scale:"x",optional:!0},y2:{value:a,scale:"y",optional:!0}},n,cx),this.insetTop=Ap(c),this.insetRight=Ap(f),this.insetBottom=Ap(u),this.insetLeft=Ap(l),this.rx=ay(s,"auto"),this.ry=ay(d,"auto")}render(t,n,e,r,i){const{x:a,y:o}=n,{x1:c,y1:f,x2:u,y2:l}=e,{marginTop:s,marginRight:d,marginBottom:h,marginLeft:p,width:g,height:m}=r,{projection:b}=i,{insetTop:y,insetRight:v,insetBottom:w,insetLeft:x,rx:M,ry:k}=this,_=(a?.bandwidth?a.bandwidth():0)-x-v,$=(o?.bandwidth?o.bandwidth():0)-y-w;return Ib("svg:g",i).call(ty,this,r,i).call(iy,this,{},0,0).call((n=>n.selectAll().data(t).enter().append("rect").call(ny,this).attr("x",!c||!b&&lb(a)?p+x:u?t=>Math.min(c[t],u[t])+x:t=>c[t]+x).attr("y",!f||!b&&lb(o)?s+y:l?t=>Math.min(f[t],l[t])+y:t=>f[t]+y).attr("width",!c||!b&&lb(a)?g-d-p-v-x:u?t=>Math.max(0,Math.abs(u[t]-c[t])+_):_).attr("height",!f||!b&&lb(o)?m-s-h-y-w:l?t=>Math.max(0,Math.abs(f[t]-l[t])+$):$).call(ry,"rx",M).call(ry,"ry",k).call(Kb,this,e))).node()}}function ux(t,n){return new fx(t,function(t={}){return Jy("x",Xy,t,!0)}(function(t={}){return Jy("y",Zy,t,!0)}(n)))}function lx(t){let{options:n}=t;const e=(0,i.useRef)();return(0,i.useEffect)((()=>{if(null==n)return;const t=Uw(n);return e.current.append(t),()=>t.remove()}),[n]),i.createElement("div",{ref:e})}function sx(t){let{data:n,pageContext:e}=t;const o=e.team,l=o.length>1;console.log(`Project PAGE : ${o} => ${l}`);const s=(0,f.A)();const d=["H2020","ERA4CS","Horizon Europe","ENIAC","ANR","TOSCA","AID","iSite","PEPR","FUI","AAP Excellences","TIGA","PEPS","ACTE","GEOVIS","MEIG","STRUDEL"],h=n.allProjectsCsv.nodes.map((t=>{const n=t.Dates.split("-").map((t=>Number(t.trim())));return{long_name:t.Contract_Name,name:t.Short_Name,start_date:n[0],middle_date:(n[1]+n[0])/2,end_date:n[1],theme:t.Theme,duration:n[1]-n[0],funding:t.Funding_Origin,type:t.Contract_Type,teams:t.Teams,site:t.Website}})).filter((t=>{let{theme:n,type:e}=t;return n&&d.includes(e)})),p=Math.min.apply(Math,(0,r.A)(h.map((t=>t.start_date)))),g=Math.max.apply(Math,(0,r.A)(h.map((t=>t.end_date))));h.sort(((t,n)=>t.theme.localeCompare(n.theme)||t.start_date-n.start_date||t.end_date-n.end_date||t.name.localeCompare(n.name)));const m=h.map(((t,n)=>({index:n,...t})));m.forEach((t=>console.log(t.index,t.theme,t.start_date,t.end_date,t.name)));const b=m.flatMap((t=>t.teams.map(((n,e)=>({end_date:t.end_date,team:n,index:t.index,dx:10*-(e+1)}))))),y=(0,r.A)(new Set(b.map((t=>t.dx))));b.forEach((t=>console.log(t.index,t.index,t.dx))),y.forEach((t=>console.log(t)));const v=(0,r.A)(new Set(m.map((t=>t.theme)))).map((t=>{const n=m.filter((n=>{let{theme:e}=n;return e===t})),e=Math.min.apply(Math,(0,r.A)(n.map((t=>t.index)))),i=Math.max.apply(Math,(0,r.A)(n.map((t=>t.index))));return{theme:t,start_date:p,end_date:g,index_1:e,index_2:i,index_middle:Math.round((e+i)/2)}}));return v.forEach((t=>console.log(t.theme,t.start_date,t.end_date,t.index_1,t.index_2,t.index_middle))),i.createElement(a.A,{pageTitle:`${l?"LASTIG":o} Projects`},i.createElement("h3",null,(w=`${l?"LASTIG":o} Projects`,s.formatMessage({id:w}))),!l&&i.createElement(u.j,{title:o,menus:n.site.siteMetadata.menus[o],team:o}),i.createElement("div",null,i.createElement(lx,{options:{width:1200,x:{tickFormat:"d",axis:"both"},color:{domain:d,range:d.map((t=>c.w.colors[t]))},marks:[ux(v,{x1:"start_date",x2:"end_date",y1:"index_1",y2:"index_2",rx:5,title:"theme",fill:"#fcf9f9ff"}),ux(m,{x1:"start_date",x2:"end_date",y:"index",rx:5,fill:"type",tip:!0,href:t=>t.site}),dv(m,{x:"middle_date",y:"index",text:t=>t.name,lineAnchor:"middle",fontWeight:"bold"}),y.map((t=>ox(b.filter((n=>{let{dx:e}=n;return e===t})),{x:t=>t.end_date,y:"index",dx:t,dy:-10,fill:"team"}))),dv(v,{x:"start_date",y:"index_middle",text:t=>t.theme,lineAnchor:"middle",rotate:-90,dx:10,fontWeight:"bold"}),Vv({tickSize:0,label:null,tickFormat:null})]}})));var w}xy.prototype.plot=function({marks:t=[],...n}={}){return Uw({...n,marks:[...t,this]})};const dx=t=>{let{pageContext:n}=t;return i.createElement(o.A,{title:`${n.team.length>1?"LASTIG":n.team} Projects`})}}}]);
//# sourceMappingURL=component---src-templates-projects-js-3c2b84c415cfe65f4ad3.js.map