"use strict";(self.webpackChunklastig_gastby=self.webpackChunklastig_gastby||[]).push([[42],{7528:function(t,n,e){var r=e(6540),i=e(4794);n.A=t=>{let{title:n}=t;const e=(0,i.useStaticQuery)("3159585216");return r.createElement("title",null,n," | ",e.site.siteMetadata.title)}},9808:function(t,n,e){function r(t,n){return null==t||null==n?NaN:t<n?-1:t>n?1:t>=n?0:NaN}function i(t,n){return null==t||null==n?NaN:n<t?-1:n>t?1:n>=t?0:NaN}function a(t){let n,e,a;function c(t,r,i=0,a=t.length){if(i<a){if(0!==n(r,r))return a;do{const n=i+a>>>1;e(t[n],r)<0?i=n+1:a=n}while(i<a)}return i}return 2!==t.length?(n=r,e=(n,e)=>r(t(n),e),a=(n,e)=>t(n)-e):(n=t===r||t===i?t:o,e=t,a=t),{left:c,center:function(t,n,e=0,r=t.length){const i=c(t,n,e,r-1);return i>e&&a(t[i-1],n)>-a(t[i],n)?i-1:i},right:function(t,r,i=0,a=t.length){if(i<a){if(0!==n(r,r))return a;do{const n=i+a>>>1;e(t[n],r)<=0?i=n+1:a=n}while(i<a)}return i}}}function o(){return 0}function c(t){return 0|t.length}function f(t){return!(t>0)}function u(t){return"object"!=typeof t||"length"in t?t:Array.from(t)}function l(t,n){let e,r=0,i=0,a=0;if(void 0===n)for(let o of t)null!=o&&(o=+o)>=o&&(e=o-i,i+=e/++r,a+=e*(o-i));else{let o=-1;for(let c of t)null!=(c=n(c,++o,t))&&(c=+c)>=c&&(e=c-i,i+=e/++r,a+=e*(c-i))}if(r>1)return a/(r-1)}function s(t,n){const e=l(t,n);return e?Math.sqrt(e):e}function d(t,n){let e,r;if(void 0===n)for(const i of t)null!=i&&(void 0===e?i>=i&&(e=r=i):(e>i&&(e=i),r<i&&(r=i)));else{let i=-1;for(let a of t)null!=(a=n(a,++i,t))&&(void 0===e?a>=a&&(e=r=a):(e>a&&(e=a),r<a&&(r=a)))}return[e,r]}e.d(n,{l3:function(){return Yv},Om:function(){return hx},QI:function(){return Yw},Pc:function(){return Lw},Qq:function(){return sv}});class h extends Map{constructor(t,n=y){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),null!=t)for(const[e,r]of t)this.set(e,r)}get(t){return super.get(g(this,t))}has(t){return super.has(g(this,t))}set(t,n){return super.set(b(this,t),n)}delete(t){return super.delete(m(this,t))}}class p extends Set{constructor(t,n=y){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),null!=t)for(const e of t)this.add(e)}has(t){return super.has(g(this,t))}add(t){return super.add(b(this,t))}delete(t){return super.delete(m(this,t))}}function g({_intern:t,_key:n},e){const r=n(e);return t.has(r)?t.get(r):e}function b({_intern:t,_key:n},e){const r=n(e);return t.has(r)?t.get(r):(t.set(r,e),e)}function m({_intern:t,_key:n},e){const r=n(e);return t.has(r)&&(e=t.get(r),t.delete(r)),e}function y(t){return null!==t&&"object"==typeof t?t.valueOf():t}function v(t){return t}function w(t,n,...e){return M(t,v,n,e)}function x(t,n,...e){return M(t,Array.from,n,e)}function M(t,n,e,r){return function t(i,a){if(a>=r.length)return e(i);const o=new h,c=r[a++];let f=-1;for(const n of i){const t=c(n,++f,i),e=o.get(t);e?e.push(n):o.set(t,[n])}for(const[n,e]of o)o.set(n,t(e,a));return n(o)}(t,0)}function k(t,n){let e;if(void 0===n)for(const r of t)null!=r&&(e<r||void 0===e&&r>=r)&&(e=r);else{let r=-1;for(let i of t)null!=(i=n(i,++r,t))&&(e<i||void 0===e&&i>=i)&&(e=i)}return e}function $(t,n){let e,r=-1,i=-1;if(void 0===n)for(const a of t)++i,null!=a&&(e<a||void 0===e&&a>=a)&&(e=a,r=i);else for(let a of t)null!=(a=n(a,++i,t))&&(e<a||void 0===e&&a>=a)&&(e=a,r=i);return r}function _(t,n){let e=0,r=0;if(void 0===n)for(let i of t)null!=i&&(i=+i)>=i&&(++e,r+=i);else{let i=-1;for(let a of t)null!=(a=n(a,++i,t))&&(a=+a)>=a&&(++e,r+=a)}if(e)return r/e}function A(t,n){let e;if(void 0===n)for(const r of t)null!=r&&(e>r||void 0===e&&r>=r)&&(e=r);else{let r=-1;for(let i of t)null!=(i=n(i,++r,t))&&(e>i||void 0===e&&i>=i)&&(e=i)}return e}function T(t,...n){if("function"!=typeof t[Symbol.iterator])throw new TypeError("values is not iterable");t=Array.from(t);let[e]=n;if(e&&2!==e.length||n.length>1){const a=Uint32Array.from(t,((t,n)=>n));return n.length>1?(n=n.map((n=>t.map(n))),a.sort(((t,e)=>{for(const r of n){const n=E(r[t],r[e]);if(n)return n}}))):(e=t.map(e),a.sort(((t,n)=>E(e[t],e[n])))),r=t,i=a,Array.from(i,(t=>r[t]))}var r,i;return t.sort(S(e))}function S(t=r){if(t===r)return E;if("function"!=typeof t)throw new TypeError("compare is not a function");return(n,e)=>{const r=t(n,e);return r||0===r?r:(0===t(e,e))-(0===t(n,n))}}function E(t,n){return(null==t||!(t>=t))-(null==n||!(n>=n))||(t<n?-1:t>n?1:0)}function N(t,n,e=0,r=1/0,i){if(n=Math.floor(n),e=Math.floor(Math.max(0,e)),r=Math.floor(Math.min(t.length-1,r)),!(e<=n&&n<=r))return t;for(i=void 0===i?E:S(i);r>e;){if(r-e>600){const a=r-e+1,o=n-e+1,c=Math.log(a),f=.5*Math.exp(2*c/3),u=.5*Math.sqrt(c*f*(a-f)/a)*(o-a/2<0?-1:1);N(t,n,Math.max(e,Math.floor(n-o*f/a+u)),Math.min(r,Math.floor(n+(a-o)*f/a+u)),i)}const a=t[n];let o=e,c=r;for(L(t,e,n),i(t[r],a)>0&&L(t,e,r);o<c;){for(L(t,o,c),++o,--c;i(t[o],a)<0;)++o;for(;i(t[c],a)>0;)--c}0===i(t[e],a)?L(t,e,c):(++c,L(t,c,r)),c<=n&&(e=c+1),n<=c&&(r=c-1)}return t}function L(t,n,e){const r=t[n];t[n]=t[e],t[e]=r}function C(t){return null===t?NaN:+t}function D(t,n,e){if(t=Float64Array.from(function*(t,n){if(void 0===n)for(let e of t)null!=e&&(e=+e)>=e&&(yield e);else{let e=-1;for(let r of t)null!=(r=n(r,++e,t))&&(r=+r)>=r&&(yield r)}}(t,e)),(r=t.length)&&!isNaN(n=+n)){if(n<=0||r<2)return A(t);if(n>=1)return k(t);var r,i=(r-1)*n,a=Math.floor(i),o=k(N(t,a).subarray(0,a+1));return o+(A(t.subarray(a+1))-o)*(i-a)}}function O(t,n,e=C){if((r=t.length)&&!isNaN(n=+n)){if(n<=0||r<2)return+e(t[0],0,t);if(n>=1)return+e(t[r-1],r-1,t);var r,i=(r-1)*n,a=Math.floor(i),o=+e(t[a],a,t);return o+(+e(t[a+1],a+1,t)-o)*(i-a)}}function F(t,n){return D(t,.5,n)}function R(t,n){let e,r=-1,i=-1;if(void 0===n)for(const a of t)++i,null!=a&&(e>a||void 0===e&&a>=a)&&(e=a,r=i);else for(let a of t)null!=(a=n(a,++i,t))&&(e>a||void 0===e&&a>=a)&&(e=a,r=i);return r}function z(t,n){const e=new h;if(void 0===n)for(let a of t)null!=a&&a>=a&&e.set(a,(e.get(a)||0)+1);else{let r=-1;for(let i of t)null!=(i=n(i,++r,t))&&i>=i&&e.set(i,(e.get(i)||0)+1)}let r,i=0;for(const[a,o]of e)o>i&&(i=o,r=a);return r}function U(t,n){return[t,n]}function j(t,n,e){t=+t,n=+n,e=(i=arguments.length)<2?(n=t,t=0,1):i<3?1:+e;for(var r=-1,i=0|Math.max(0,Math.ceil((n-t)/e)),a=new Array(i);++r<i;)a[r]=t+r*e;return a}function I(t,n){let e=0;if(void 0===n)for(let r of t)(r=+r)&&(e+=r);else{let r=-1;for(let i of t)(i=+n(i,++r,t))&&(e+=i)}return e}const P=Math.sqrt(50),q=Math.sqrt(10),B=Math.sqrt(2);function H(t,n,e){const r=(n-t)/Math.max(0,e),i=Math.floor(Math.log10(r)),a=r/Math.pow(10,i),o=a>=P?10:a>=q?5:a>=B?2:1;let c,f,u;return i<0?(u=Math.pow(10,-i)/o,c=Math.round(t*u),f=Math.round(n*u),c/u<t&&++c,f/u>n&&--f,u=-u):(u=Math.pow(10,i)*o,c=Math.round(t/u),f=Math.round(n/u),c*u<t&&++c,f*u>n&&--f),f<c&&.5<=e&&e<2?H(t,n,2*e):[c,f,u]}function W(t,n,e){if(!((e=+e)>0))return[];if((t=+t)===(n=+n))return[t];const r=n<t,[i,a,o]=r?H(n,t,e):H(t,n,e);if(!(a>=i))return[];const c=a-i+1,f=new Array(c);if(r)if(o<0)for(let u=0;u<c;++u)f[u]=(a-u)/-o;else for(let u=0;u<c;++u)f[u]=(a-u)*o;else if(o<0)for(let u=0;u<c;++u)f[u]=(i+u)/-o;else for(let u=0;u<c;++u)f[u]=(i+u)*o;return f}function Y(t,n,e){return H(t=+t,n=+n,e=+e)[2]}function V(t,n,e){e=+e;const r=(n=+n)<(t=+t),i=r?Y(n,t,e):Y(t,n,e);return(r?-1:1)*(i<0?1/-i:i)}function X(t){if("function"!=typeof t[Symbol.iterator])throw new TypeError("values is not iterable");return Array.from(t).reverse()}function Z(t){return t}var G=1e-6;function Q(t){return"translate("+t+",0)"}function J(t){return"translate(0,"+t+")"}function K(t){return n=>+t(n)}function tt(t,n){return n=Math.max(0,t.bandwidth()-2*n)/2,t.round()&&(n=Math.round(n)),e=>+t(e)+n}function nt(){return!this.__axis}function et(t,n){var e=[],r=null,i=null,a=6,o=6,c=3,f="undefined"!=typeof window&&window.devicePixelRatio>1?0:.5,u=1===t||4===t?-1:1,l=4===t||2===t?"x":"y",s=1===t||3===t?Q:J;function d(d){var h=null==r?n.ticks?n.ticks.apply(n,e):n.domain():r,p=null==i?n.tickFormat?n.tickFormat.apply(n,e):Z:i,g=Math.max(a,0)+c,b=n.range(),m=+b[0]+f,y=+b[b.length-1]+f,v=(n.bandwidth?tt:K)(n.copy(),f),w=d.selection?d.selection():d,x=w.selectAll(".domain").data([null]),M=w.selectAll(".tick").data(h,n).order(),k=M.exit(),$=M.enter().append("g").attr("class","tick"),_=M.select("line"),A=M.select("text");x=x.merge(x.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),M=M.merge($),_=_.merge($.append("line").attr("stroke","currentColor").attr(l+"2",u*a)),A=A.merge($.append("text").attr("fill","currentColor").attr(l,u*g).attr("dy",1===t?"0em":3===t?"0.71em":"0.32em")),d!==w&&(x=x.transition(d),M=M.transition(d),_=_.transition(d),A=A.transition(d),k=k.transition(d).attr("opacity",G).attr("transform",(function(t){return isFinite(t=v(t))?s(t+f):this.getAttribute("transform")})),$.attr("opacity",G).attr("transform",(function(t){var n=this.parentNode.__axis;return s((n&&isFinite(n=n(t))?n:v(t))+f)}))),k.remove(),x.attr("d",4===t||2===t?o?"M"+u*o+","+m+"H"+f+"V"+y+"H"+u*o:"M"+f+","+m+"V"+y:o?"M"+m+","+u*o+"V"+f+"H"+y+"V"+u*o:"M"+m+","+f+"H"+y),M.attr("opacity",1).attr("transform",(function(t){return s(v(t)+f)})),_.attr(l+"2",u*a),A.attr(l,u*g).text(p),w.filter(nt).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",2===t?"start":4===t?"end":"middle"),w.each((function(){this.__axis=v}))}return d.scale=function(t){return arguments.length?(n=t,d):n},d.ticks=function(){return e=Array.from(arguments),d},d.tickArguments=function(t){return arguments.length?(e=null==t?[]:Array.from(t),d):e.slice()},d.tickValues=function(t){return arguments.length?(r=null==t?null:Array.from(t),d):r&&r.slice()},d.tickFormat=function(t){return arguments.length?(i=t,d):i},d.tickSize=function(t){return arguments.length?(a=o=+t,d):a},d.tickSizeInner=function(t){return arguments.length?(a=+t,d):a},d.tickSizeOuter=function(t){return arguments.length?(o=+t,d):o},d.tickPadding=function(t){return arguments.length?(c=+t,d):c},d.offset=function(t){return arguments.length?(f=+t,d):f},d}function rt(){}function at(t){return null==t?rt:function(){return this.querySelector(t)}}function ot(){return[]}function ct(t){return null==t?ot:function(){return this.querySelectorAll(t)}}function ft(t){return function(){return null==(n=t.apply(this,arguments))?[]:Array.isArray(n)?n:Array.from(n);var n}}function ut(t){return function(){return this.matches(t)}}function lt(t){return function(n){return n.matches(t)}}var st=Array.prototype.find;function dt(){return this.firstElementChild}var ht=Array.prototype.filter;function pt(){return Array.from(this.children)}function gt(t){return new Array(t.length)}function bt(t,n){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=n}function mt(t,n,e,r,i,a){for(var o,c=0,f=n.length,u=a.length;c<u;++c)(o=n[c])?(o.__data__=a[c],r[c]=o):e[c]=new bt(t,a[c]);for(;c<f;++c)(o=n[c])&&(i[c]=o)}function yt(t,n,e,r,i,a,o){var c,f,u,l=new Map,s=n.length,d=a.length,h=new Array(s);for(c=0;c<s;++c)(f=n[c])&&(h[c]=u=o.call(f,f.__data__,c,n)+"",l.has(u)?i[c]=f:l.set(u,f));for(c=0;c<d;++c)u=o.call(t,a[c],c,a)+"",(f=l.get(u))?(r[c]=f,f.__data__=a[c],l.delete(u)):e[c]=new bt(t,a[c]);for(c=0;c<s;++c)(f=n[c])&&l.get(h[c])===f&&(i[c]=f)}function vt(t){return t.__data__}function wt(t){return"object"==typeof t&&"length"in t?t:Array.from(t)}function xt(t,n){return t<n?-1:t>n?1:t>=n?0:NaN}bt.prototype={constructor:bt,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,n){return this._parent.insertBefore(t,n)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};var Mt="http://www.w3.org/1999/xhtml",kt={svg:"http://www.w3.org/2000/svg",xhtml:Mt,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function $t(t){var n=t+="",e=n.indexOf(":");return e>=0&&"xmlns"!==(n=t.slice(0,e))&&(t=t.slice(e+1)),kt.hasOwnProperty(n)?{space:kt[n],local:t}:t}function _t(t){return function(){this.removeAttribute(t)}}function At(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Tt(t,n){return function(){this.setAttribute(t,n)}}function St(t,n){return function(){this.setAttributeNS(t.space,t.local,n)}}function Et(t,n){return function(){var e=n.apply(this,arguments);null==e?this.removeAttribute(t):this.setAttribute(t,e)}}function Nt(t,n){return function(){var e=n.apply(this,arguments);null==e?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,e)}}function Lt(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function Ct(t){return function(){this.style.removeProperty(t)}}function Dt(t,n,e){return function(){this.style.setProperty(t,n,e)}}function Ot(t,n,e){return function(){var r=n.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,e)}}function Ft(t,n){return t.style.getPropertyValue(n)||Lt(t).getComputedStyle(t,null).getPropertyValue(n)}function Rt(t){return function(){delete this[t]}}function zt(t,n){return function(){this[t]=n}}function Ut(t,n){return function(){var e=n.apply(this,arguments);null==e?delete this[t]:this[t]=e}}function jt(t){return t.trim().split(/^|\s+/)}function It(t){return t.classList||new Pt(t)}function Pt(t){this._node=t,this._names=jt(t.getAttribute("class")||"")}function qt(t,n){for(var e=It(t),r=-1,i=n.length;++r<i;)e.add(n[r])}function Bt(t,n){for(var e=It(t),r=-1,i=n.length;++r<i;)e.remove(n[r])}function Ht(t){return function(){qt(this,t)}}function Wt(t){return function(){Bt(this,t)}}function Yt(t,n){return function(){(n.apply(this,arguments)?qt:Bt)(this,t)}}function Vt(){this.textContent=""}function Xt(t){return function(){this.textContent=t}}function Zt(t){return function(){var n=t.apply(this,arguments);this.textContent=null==n?"":n}}function Gt(){this.innerHTML=""}function Qt(t){return function(){this.innerHTML=t}}function Jt(t){return function(){var n=t.apply(this,arguments);this.innerHTML=null==n?"":n}}function Kt(){this.nextSibling&&this.parentNode.appendChild(this)}function tn(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function nn(t){return function(){var n=this.ownerDocument,e=this.namespaceURI;return e===Mt&&n.documentElement.namespaceURI===Mt?n.createElement(t):n.createElementNS(e,t)}}function en(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function rn(t){var n=$t(t);return(n.local?en:nn)(n)}function an(){return null}function on(){var t=this.parentNode;t&&t.removeChild(this)}function cn(){var t=this.cloneNode(!1),n=this.parentNode;return n?n.insertBefore(t,this.nextSibling):t}function fn(){var t=this.cloneNode(!0),n=this.parentNode;return n?n.insertBefore(t,this.nextSibling):t}function un(t){return function(){var n=this.__on;if(n){for(var e,r=0,i=-1,a=n.length;r<a;++r)e=n[r],t.type&&e.type!==t.type||e.name!==t.name?n[++i]=e:this.removeEventListener(e.type,e.listener,e.options);++i?n.length=i:delete this.__on}}}function ln(t,n,e){return function(){var r,i=this.__on,a=function(t){return function(n){t.call(this,n,this.__data__)}}(n);if(i)for(var o=0,c=i.length;o<c;++o)if((r=i[o]).type===t.type&&r.name===t.name)return this.removeEventListener(r.type,r.listener,r.options),this.addEventListener(r.type,r.listener=a,r.options=e),void(r.value=n);this.addEventListener(t.type,a,e),r={type:t.type,name:t.name,value:n,listener:a,options:e},i?i.push(r):this.__on=[r]}}function sn(t,n,e){var r=Lt(t),i=r.CustomEvent;"function"==typeof i?i=new i(n,e):(i=r.document.createEvent("Event"),e?(i.initEvent(n,e.bubbles,e.cancelable),i.detail=e.detail):i.initEvent(n,!1,!1)),t.dispatchEvent(i)}function dn(t,n){return function(){return sn(this,t,n)}}function hn(t,n){return function(){return sn(this,t,n.apply(this,arguments))}}Pt.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var n=this._names.indexOf(t);n>=0&&(this._names.splice(n,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};var pn=[null];function gn(t,n){this._groups=t,this._parents=n}function bn(){return new gn([[document.documentElement]],pn)}gn.prototype=bn.prototype={constructor:gn,select:function(t){"function"!=typeof t&&(t=at(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var a,o,c=n[i],f=c.length,u=r[i]=new Array(f),l=0;l<f;++l)(a=c[l])&&(o=t.call(a,a.__data__,l,c))&&("__data__"in a&&(o.__data__=a.__data__),u[l]=o);return new gn(r,this._parents)},selectAll:function(t){t="function"==typeof t?ft(t):ct(t);for(var n=this._groups,e=n.length,r=[],i=[],a=0;a<e;++a)for(var o,c=n[a],f=c.length,u=0;u<f;++u)(o=c[u])&&(r.push(t.call(o,o.__data__,u,c)),i.push(o));return new gn(r,i)},selectChild:function(t){return this.select(null==t?dt:function(t){return function(){return st.call(this.children,t)}}("function"==typeof t?t:lt(t)))},selectChildren:function(t){return this.selectAll(null==t?pt:function(t){return function(){return ht.call(this.children,t)}}("function"==typeof t?t:lt(t)))},filter:function(t){"function"!=typeof t&&(t=ut(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var a,o=n[i],c=o.length,f=r[i]=[],u=0;u<c;++u)(a=o[u])&&t.call(a,a.__data__,u,o)&&f.push(a);return new gn(r,this._parents)},data:function(t,n){if(!arguments.length)return Array.from(this,vt);var e,r=n?yt:mt,i=this._parents,a=this._groups;"function"!=typeof t&&(e=t,t=function(){return e});for(var o=a.length,c=new Array(o),f=new Array(o),u=new Array(o),l=0;l<o;++l){var s=i[l],d=a[l],h=d.length,p=wt(t.call(s,s&&s.__data__,l,i)),g=p.length,b=f[l]=new Array(g),m=c[l]=new Array(g);r(s,d,b,m,u[l]=new Array(h),p,n);for(var y,v,w=0,x=0;w<g;++w)if(y=b[w]){for(w>=x&&(x=w+1);!(v=m[x])&&++x<g;);y._next=v||null}}return(c=new gn(c,i))._enter=f,c._exit=u,c},enter:function(){return new gn(this._enter||this._groups.map(gt),this._parents)},exit:function(){return new gn(this._exit||this._groups.map(gt),this._parents)},join:function(t,n,e){var r=this.enter(),i=this,a=this.exit();return"function"==typeof t?(r=t(r))&&(r=r.selection()):r=r.append(t+""),null!=n&&(i=n(i))&&(i=i.selection()),null==e?a.remove():e(a),r&&i?r.merge(i).order():i},merge:function(t){for(var n=t.selection?t.selection():t,e=this._groups,r=n._groups,i=e.length,a=r.length,o=Math.min(i,a),c=new Array(i),f=0;f<o;++f)for(var u,l=e[f],s=r[f],d=l.length,h=c[f]=new Array(d),p=0;p<d;++p)(u=l[p]||s[p])&&(h[p]=u);for(;f<i;++f)c[f]=e[f];return new gn(c,this._parents)},selection:function(){return this},order:function(){for(var t=this._groups,n=-1,e=t.length;++n<e;)for(var r,i=t[n],a=i.length-1,o=i[a];--a>=0;)(r=i[a])&&(o&&4^r.compareDocumentPosition(o)&&o.parentNode.insertBefore(r,o),o=r);return this},sort:function(t){function n(n,e){return n&&e?t(n.__data__,e.__data__):!n-!e}t||(t=xt);for(var e=this._groups,r=e.length,i=new Array(r),a=0;a<r;++a){for(var o,c=e[a],f=c.length,u=i[a]=new Array(f),l=0;l<f;++l)(o=c[l])&&(u[l]=o);u.sort(n)}return new gn(i,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){return Array.from(this)},node:function(){for(var t=this._groups,n=0,e=t.length;n<e;++n)for(var r=t[n],i=0,a=r.length;i<a;++i){var o=r[i];if(o)return o}return null},size:function(){let t=0;for(const n of this)++t;return t},empty:function(){return!this.node()},each:function(t){for(var n=this._groups,e=0,r=n.length;e<r;++e)for(var i,a=n[e],o=0,c=a.length;o<c;++o)(i=a[o])&&t.call(i,i.__data__,o,a);return this},attr:function(t,n){var e=$t(t);if(arguments.length<2){var r=this.node();return e.local?r.getAttributeNS(e.space,e.local):r.getAttribute(e)}return this.each((null==n?e.local?At:_t:"function"==typeof n?e.local?Nt:Et:e.local?St:Tt)(e,n))},style:function(t,n,e){return arguments.length>1?this.each((null==n?Ct:"function"==typeof n?Ot:Dt)(t,n,null==e?"":e)):Ft(this.node(),t)},property:function(t,n){return arguments.length>1?this.each((null==n?Rt:"function"==typeof n?Ut:zt)(t,n)):this.node()[t]},classed:function(t,n){var e=jt(t+"");if(arguments.length<2){for(var r=It(this.node()),i=-1,a=e.length;++i<a;)if(!r.contains(e[i]))return!1;return!0}return this.each(("function"==typeof n?Yt:n?Ht:Wt)(e,n))},text:function(t){return arguments.length?this.each(null==t?Vt:("function"==typeof t?Zt:Xt)(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?Gt:("function"==typeof t?Jt:Qt)(t)):this.node().innerHTML},raise:function(){return this.each(Kt)},lower:function(){return this.each(tn)},append:function(t){var n="function"==typeof t?t:rn(t);return this.select((function(){return this.appendChild(n.apply(this,arguments))}))},insert:function(t,n){var e="function"==typeof t?t:rn(t),r=null==n?an:"function"==typeof n?n:at(n);return this.select((function(){return this.insertBefore(e.apply(this,arguments),r.apply(this,arguments)||null)}))},remove:function(){return this.each(on)},clone:function(t){return this.select(t?fn:cn)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,n,e){var r,i,a=function(t){return t.trim().split(/^|\s+/).map((function(t){var n="",e=t.indexOf(".");return e>=0&&(n=t.slice(e+1),t=t.slice(0,e)),{type:t,name:n}}))}(t+""),o=a.length;if(!(arguments.length<2)){for(c=n?ln:un,r=0;r<o;++r)this.each(c(a[r],n,e));return this}var c=this.node().__on;if(c)for(var f,u=0,l=c.length;u<l;++u)for(r=0,f=c[u];r<o;++r)if((i=a[r]).type===f.type&&i.name===f.name)return f.value},dispatch:function(t,n){return this.each(("function"==typeof n?hn:dn)(t,n))},[Symbol.iterator]:function*(){for(var t=this._groups,n=0,e=t.length;n<e;++n)for(var r,i=t[n],a=0,o=i.length;a<o;++a)(r=i[a])&&(yield r)}};var mn=bn,yn={value:()=>{}};function vn(){for(var t,n=0,e=arguments.length,r={};n<e;++n){if(!(t=arguments[n]+"")||t in r||/[\s.]/.test(t))throw new Error("illegal type: "+t);r[t]=[]}return new wn(r)}function wn(t){this._=t}function xn(t,n){for(var e,r=0,i=t.length;r<i;++r)if((e=t[r]).name===n)return e.value}function Mn(t,n,e){for(var r=0,i=t.length;r<i;++r)if(t[r].name===n){t[r]=yn,t=t.slice(0,r).concat(t.slice(r+1));break}return null!=e&&t.push({name:n,value:e}),t}wn.prototype=vn.prototype={constructor:wn,on:function(t,n){var e,r,i=this._,a=(r=i,(t+"").trim().split(/^|\s+/).map((function(t){var n="",e=t.indexOf(".");if(e>=0&&(n=t.slice(e+1),t=t.slice(0,e)),t&&!r.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:n}}))),o=-1,c=a.length;if(!(arguments.length<2)){if(null!=n&&"function"!=typeof n)throw new Error("invalid callback: "+n);for(;++o<c;)if(e=(t=a[o]).type)i[e]=Mn(i[e],t.name,n);else if(null==n)for(e in i)i[e]=Mn(i[e],t.name,null);return this}for(;++o<c;)if((e=(t=a[o]).type)&&(e=xn(i[e],t.name)))return e},copy:function(){var t={},n=this._;for(var e in n)t[e]=n[e].slice();return new wn(t)},call:function(t,n){if((e=arguments.length-2)>0)for(var e,r,i=new Array(e),a=0;a<e;++a)i[a]=arguments[a+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(a=0,e=(r=this._[t]).length;a<e;++a)r[a].value.apply(n,i)},apply:function(t,n,e){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,a=r.length;i<a;++i)r[i].value.apply(n,e)}};var kn,$n,_n=vn,An=0,Tn=0,Sn=0,En=0,Nn=0,Ln=0,Cn="object"==typeof performance&&performance.now?performance:Date,Dn="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function On(){return Nn||(Dn(Fn),Nn=Cn.now()+Ln)}function Fn(){Nn=0}function Rn(){this._call=this._time=this._next=null}function zn(t,n,e){var r=new Rn;return r.restart(t,n,e),r}function Un(){Nn=(En=Cn.now())+Ln,An=Tn=0;try{!function(){On(),++An;for(var t,n=kn;n;)(t=Nn-n._time)>=0&&n._call.call(void 0,t),n=n._next;--An}()}finally{An=0,function(){var t,n,e=kn,r=1/0;for(;e;)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:kn=n);$n=t,In(r)}(),Nn=0}}function jn(){var t=Cn.now(),n=t-En;n>1e3&&(Ln-=n,En=t)}function In(t){An||(Tn&&(Tn=clearTimeout(Tn)),t-Nn>24?(t<1/0&&(Tn=setTimeout(Un,t-Cn.now()-Ln)),Sn&&(Sn=clearInterval(Sn))):(Sn||(En=Cn.now(),Sn=setInterval(jn,1e3)),An=1,Dn(Un)))}function Pn(t,n,e){var r=new Rn;return n=null==n?0:+n,r.restart((e=>{r.stop(),t(e+n)}),n,e),r}Rn.prototype=zn.prototype={constructor:Rn,restart:function(t,n,e){if("function"!=typeof t)throw new TypeError("callback is not a function");e=(null==e?On():+e)+(null==n?0:+n),this._next||$n===this||($n?$n._next=this:kn=this,$n=this),this._call=t,this._time=e,In()},stop:function(){this._call&&(this._call=null,this._time=1/0,In())}};var qn=_n("start","end","cancel","interrupt"),Bn=[];function Hn(t,n,e,r,i,a){var o=t.__transition;if(o){if(e in o)return}else t.__transition={};!function(t,n,e){var r,i=t.__transition;function a(t){e.state=1,e.timer.restart(o,e.delay,e.time),e.delay<=t&&o(t-e.delay)}function o(a){var u,l,s,d;if(1!==e.state)return f();for(u in i)if((d=i[u]).name===e.name){if(3===d.state)return Pn(o);4===d.state?(d.state=6,d.timer.stop(),d.on.call("interrupt",t,t.__data__,d.index,d.group),delete i[u]):+u<n&&(d.state=6,d.timer.stop(),d.on.call("cancel",t,t.__data__,d.index,d.group),delete i[u])}if(Pn((function(){3===e.state&&(e.state=4,e.timer.restart(c,e.delay,e.time),c(a))})),e.state=2,e.on.call("start",t,t.__data__,e.index,e.group),2===e.state){for(e.state=3,r=new Array(s=e.tween.length),u=0,l=-1;u<s;++u)(d=e.tween[u].value.call(t,t.__data__,e.index,e.group))&&(r[++l]=d);r.length=l+1}}function c(n){for(var i=n<e.duration?e.ease.call(null,n/e.duration):(e.timer.restart(f),e.state=5,1),a=-1,o=r.length;++a<o;)r[a].call(t,i);5===e.state&&(e.on.call("end",t,t.__data__,e.index,e.group),f())}function f(){for(var r in e.state=6,e.timer.stop(),delete i[n],i)return;delete t.__transition}i[n]=e,e.timer=zn(a,0,e.time)}(t,e,{name:n,index:r,group:i,on:qn,tween:Bn,time:a.time,delay:a.delay,duration:a.duration,ease:a.ease,timer:null,state:0})}function Wn(t,n){var e=Vn(t,n);if(e.state>0)throw new Error("too late; already scheduled");return e}function Yn(t,n){var e=Vn(t,n);if(e.state>3)throw new Error("too late; already running");return e}function Vn(t,n){var e=t.__transition;if(!e||!(e=e[n]))throw new Error("transition not found");return e}function Xn(t,n){return t=+t,n=+n,function(e){return t*(1-e)+n*e}}var Zn,Gn=180/Math.PI,Qn={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Jn(t,n,e,r,i,a){var o,c,f;return(o=Math.sqrt(t*t+n*n))&&(t/=o,n/=o),(f=t*e+n*r)&&(e-=t*f,r-=n*f),(c=Math.sqrt(e*e+r*r))&&(e/=c,r/=c,f/=c),t*r<n*e&&(t=-t,n=-n,f=-f,o=-o),{translateX:i,translateY:a,rotate:Math.atan2(n,t)*Gn,skewX:Math.atan(f)*Gn,scaleX:o,scaleY:c}}function Kn(t,n,e,r){function i(t){return t.length?t.pop()+" ":""}return function(a,o){var c=[],f=[];return a=t(a),o=t(o),function(t,r,i,a,o,c){if(t!==i||r!==a){var f=o.push("translate(",null,n,null,e);c.push({i:f-4,x:Xn(t,i)},{i:f-2,x:Xn(r,a)})}else(i||a)&&o.push("translate("+i+n+a+e)}(a.translateX,a.translateY,o.translateX,o.translateY,c,f),function(t,n,e,a){t!==n?(t-n>180?n+=360:n-t>180&&(t+=360),a.push({i:e.push(i(e)+"rotate(",null,r)-2,x:Xn(t,n)})):n&&e.push(i(e)+"rotate("+n+r)}(a.rotate,o.rotate,c,f),function(t,n,e,a){t!==n?a.push({i:e.push(i(e)+"skewX(",null,r)-2,x:Xn(t,n)}):n&&e.push(i(e)+"skewX("+n+r)}(a.skewX,o.skewX,c,f),function(t,n,e,r,a,o){if(t!==e||n!==r){var c=a.push(i(a)+"scale(",null,",",null,")");o.push({i:c-4,x:Xn(t,e)},{i:c-2,x:Xn(n,r)})}else 1===e&&1===r||a.push(i(a)+"scale("+e+","+r+")")}(a.scaleX,a.scaleY,o.scaleX,o.scaleY,c,f),a=o=null,function(t){for(var n,e=-1,r=f.length;++e<r;)c[(n=f[e]).i]=n.x(t);return c.join("")}}}var te=Kn((function(t){const n=new("function"==typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(t+"");return n.isIdentity?Qn:Jn(n.a,n.b,n.c,n.d,n.e,n.f)}),"px, ","px)","deg)"),ne=Kn((function(t){return null==t?Qn:(Zn||(Zn=document.createElementNS("http://www.w3.org/2000/svg","g")),Zn.setAttribute("transform",t),(t=Zn.transform.baseVal.consolidate())?Jn((t=t.matrix).a,t.b,t.c,t.d,t.e,t.f):Qn)}),", ",")",")");function ee(t,n){var e,r;return function(){var i=Yn(this,t),a=i.tween;if(a!==e)for(var o=0,c=(r=e=a).length;o<c;++o)if(r[o].name===n){(r=r.slice()).splice(o,1);break}i.tween=r}}function re(t,n,e){var r,i;if("function"!=typeof e)throw new Error;return function(){var a=Yn(this,t),o=a.tween;if(o!==r){i=(r=o).slice();for(var c={name:n,value:e},f=0,u=i.length;f<u;++f)if(i[f].name===n){i[f]=c;break}f===u&&i.push(c)}a.tween=i}}function ie(t,n,e){var r=t._id;return t.each((function(){var t=Yn(this,r);(t.value||(t.value={}))[n]=e.apply(this,arguments)})),function(t){return Vn(t,r).value[n]}}function ae(t,n,e){t.prototype=n.prototype=e,e.constructor=t}function oe(t,n){var e=Object.create(t.prototype);for(var r in n)e[r]=n[r];return e}function ce(){}var fe=.7,ue=1/fe,le="\\s*([+-]?\\d+)\\s*",se="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",de="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",he=/^#([0-9a-f]{3,8})$/,pe=new RegExp(`^rgb\\(${le},${le},${le}\\)$`),ge=new RegExp(`^rgb\\(${de},${de},${de}\\)$`),be=new RegExp(`^rgba\\(${le},${le},${le},${se}\\)$`),me=new RegExp(`^rgba\\(${de},${de},${de},${se}\\)$`),ye=new RegExp(`^hsl\\(${se},${de},${de}\\)$`),ve=new RegExp(`^hsla\\(${se},${de},${de},${se}\\)$`),we={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function xe(){return this.rgb().formatHex()}function Me(){return this.rgb().formatRgb()}function ke(t){var n,e;return t=(t+"").trim().toLowerCase(),(n=he.exec(t))?(e=n[1].length,n=parseInt(n[1],16),6===e?$e(n):3===e?new Se(n>>8&15|n>>4&240,n>>4&15|240&n,(15&n)<<4|15&n,1):8===e?_e(n>>24&255,n>>16&255,n>>8&255,(255&n)/255):4===e?_e(n>>12&15|n>>8&240,n>>8&15|n>>4&240,n>>4&15|240&n,((15&n)<<4|15&n)/255):null):(n=pe.exec(t))?new Se(n[1],n[2],n[3],1):(n=ge.exec(t))?new Se(255*n[1]/100,255*n[2]/100,255*n[3]/100,1):(n=be.exec(t))?_e(n[1],n[2],n[3],n[4]):(n=me.exec(t))?_e(255*n[1]/100,255*n[2]/100,255*n[3]/100,n[4]):(n=ye.exec(t))?Oe(n[1],n[2]/100,n[3]/100,1):(n=ve.exec(t))?Oe(n[1],n[2]/100,n[3]/100,n[4]):we.hasOwnProperty(t)?$e(we[t]):"transparent"===t?new Se(NaN,NaN,NaN,0):null}function $e(t){return new Se(t>>16&255,t>>8&255,255&t,1)}function _e(t,n,e,r){return r<=0&&(t=n=e=NaN),new Se(t,n,e,r)}function Ae(t){return t instanceof ce||(t=ke(t)),t?new Se((t=t.rgb()).r,t.g,t.b,t.opacity):new Se}function Te(t,n,e,r){return 1===arguments.length?Ae(t):new Se(t,n,e,null==r?1:r)}function Se(t,n,e,r){this.r=+t,this.g=+n,this.b=+e,this.opacity=+r}function Ee(){return`#${De(this.r)}${De(this.g)}${De(this.b)}`}function Ne(){const t=Le(this.opacity);return`${1===t?"rgb(":"rgba("}${Ce(this.r)}, ${Ce(this.g)}, ${Ce(this.b)}${1===t?")":`, ${t})`}`}function Le(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Ce(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function De(t){return((t=Ce(t))<16?"0":"")+t.toString(16)}function Oe(t,n,e,r){return r<=0?t=n=e=NaN:e<=0||e>=1?t=n=NaN:n<=0&&(t=NaN),new ze(t,n,e,r)}function Fe(t){if(t instanceof ze)return new ze(t.h,t.s,t.l,t.opacity);if(t instanceof ce||(t=ke(t)),!t)return new ze;if(t instanceof ze)return t;var n=(t=t.rgb()).r/255,e=t.g/255,r=t.b/255,i=Math.min(n,e,r),a=Math.max(n,e,r),o=NaN,c=a-i,f=(a+i)/2;return c?(o=n===a?(e-r)/c+6*(e<r):e===a?(r-n)/c+2:(n-e)/c+4,c/=f<.5?a+i:2-a-i,o*=60):c=f>0&&f<1?0:o,new ze(o,c,f,t.opacity)}function Re(t,n,e,r){return 1===arguments.length?Fe(t):new ze(t,n,e,null==r?1:r)}function ze(t,n,e,r){this.h=+t,this.s=+n,this.l=+e,this.opacity=+r}function Ue(t){return(t=(t||0)%360)<0?t+360:t}function je(t){return Math.max(0,Math.min(1,t||0))}function Ie(t,n,e){return 255*(t<60?n+(e-n)*t/60:t<180?e:t<240?n+(e-n)*(240-t)/60:n)}function Pe(t,n,e,r,i){var a=t*t,o=a*t;return((1-3*t+3*a-o)*n+(4-6*a+3*o)*e+(1+3*t+3*a-3*o)*r+o*i)/6}ae(ce,ke,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:xe,formatHex:xe,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return Fe(this).formatHsl()},formatRgb:Me,toString:Me}),ae(Se,Te,oe(ce,{brighter(t){return t=null==t?ue:Math.pow(ue,t),new Se(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=null==t?fe:Math.pow(fe,t),new Se(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Se(Ce(this.r),Ce(this.g),Ce(this.b),Le(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Ee,formatHex:Ee,formatHex8:function(){return`#${De(this.r)}${De(this.g)}${De(this.b)}${De(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:Ne,toString:Ne})),ae(ze,Re,oe(ce,{brighter(t){return t=null==t?ue:Math.pow(ue,t),new ze(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=null==t?fe:Math.pow(fe,t),new ze(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+360*(this.h<0),n=isNaN(t)||isNaN(this.s)?0:this.s,e=this.l,r=e+(e<.5?e:1-e)*n,i=2*e-r;return new Se(Ie(t>=240?t-240:t+120,i,r),Ie(t,i,r),Ie(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new ze(Ue(this.h),je(this.s),je(this.l),Le(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Le(this.opacity);return`${1===t?"hsl(":"hsla("}${Ue(this.h)}, ${100*je(this.s)}%, ${100*je(this.l)}%${1===t?")":`, ${t})`}`}}));var qe=t=>()=>t;function Be(t,n){return function(e){return t+e*n}}function He(t,n){var e=n-t;return e?Be(t,e>180||e<-180?e-360*Math.round(e/360):e):qe(isNaN(t)?n:t)}function We(t){return 1==(t=+t)?Ye:function(n,e){return e-n?function(t,n,e){return t=Math.pow(t,e),n=Math.pow(n,e)-t,e=1/e,function(r){return Math.pow(t+r*n,e)}}(n,e,t):qe(isNaN(n)?e:n)}}function Ye(t,n){var e=n-t;return e?Be(t,e):qe(isNaN(t)?n:t)}var Ve=function t(n){var e=We(n);function r(t,n){var r=e((t=Te(t)).r,(n=Te(n)).r),i=e(t.g,n.g),a=e(t.b,n.b),o=Ye(t.opacity,n.opacity);return function(n){return t.r=r(n),t.g=i(n),t.b=a(n),t.opacity=o(n),t+""}}return r.gamma=t,r}(1);function Xe(t){return function(n){var e,r,i=n.length,a=new Array(i),o=new Array(i),c=new Array(i);for(e=0;e<i;++e)r=Te(n[e]),a[e]=r.r||0,o[e]=r.g||0,c[e]=r.b||0;return a=t(a),o=t(o),c=t(c),r.opacity=1,function(t){return r.r=a(t),r.g=o(t),r.b=c(t),r+""}}}var Ze=Xe((function(t){var n=t.length-1;return function(e){var r=e<=0?e=0:e>=1?(e=1,n-1):Math.floor(e*n),i=t[r],a=t[r+1],o=r>0?t[r-1]:2*i-a,c=r<n-1?t[r+2]:2*a-i;return Pe((e-r/n)*n,o,i,a,c)}})),Ge=(Xe((function(t){var n=t.length;return function(e){var r=Math.floor(((e%=1)<0?++e:e)*n),i=t[(r+n-1)%n],a=t[r%n],o=t[(r+1)%n],c=t[(r+2)%n];return Pe((e-r/n)*n,i,a,o,c)}})),/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g),Qe=new RegExp(Ge.source,"g");function Je(t,n){var e,r,i,a=Ge.lastIndex=Qe.lastIndex=0,o=-1,c=[],f=[];for(t+="",n+="";(e=Ge.exec(t))&&(r=Qe.exec(n));)(i=r.index)>a&&(i=n.slice(a,i),c[o]?c[o]+=i:c[++o]=i),(e=e[0])===(r=r[0])?c[o]?c[o]+=r:c[++o]=r:(c[++o]=null,f.push({i:o,x:Xn(e,r)})),a=Qe.lastIndex;return a<n.length&&(i=n.slice(a),c[o]?c[o]+=i:c[++o]=i),c.length<2?f[0]?function(t){return function(n){return t(n)+""}}(f[0].x):function(t){return function(){return t}}(n):(n=f.length,function(t){for(var e,r=0;r<n;++r)c[(e=f[r]).i]=e.x(t);return c.join("")})}function Ke(t,n){var e;return("number"==typeof n?Xn:n instanceof ke?Ve:(e=ke(n))?(n=e,Ve):Je)(t,n)}function tr(t){return function(){this.removeAttribute(t)}}function nr(t){return function(){this.removeAttributeNS(t.space,t.local)}}function er(t,n,e){var r,i,a=e+"";return function(){var o=this.getAttribute(t);return o===a?null:o===r?i:i=n(r=o,e)}}function rr(t,n,e){var r,i,a=e+"";return function(){var o=this.getAttributeNS(t.space,t.local);return o===a?null:o===r?i:i=n(r=o,e)}}function ir(t,n,e){var r,i,a;return function(){var o,c,f=e(this);if(null!=f)return(o=this.getAttribute(t))===(c=f+"")?null:o===r&&c===i?a:(i=c,a=n(r=o,f));this.removeAttribute(t)}}function ar(t,n,e){var r,i,a;return function(){var o,c,f=e(this);if(null!=f)return(o=this.getAttributeNS(t.space,t.local))===(c=f+"")?null:o===r&&c===i?a:(i=c,a=n(r=o,f));this.removeAttributeNS(t.space,t.local)}}function or(t,n){var e,r;function i(){var i=n.apply(this,arguments);return i!==r&&(e=(r=i)&&function(t,n){return function(e){this.setAttributeNS(t.space,t.local,n.call(this,e))}}(t,i)),e}return i._value=n,i}function cr(t,n){var e,r;function i(){var i=n.apply(this,arguments);return i!==r&&(e=(r=i)&&function(t,n){return function(e){this.setAttribute(t,n.call(this,e))}}(t,i)),e}return i._value=n,i}function fr(t,n){return function(){Wn(this,t).delay=+n.apply(this,arguments)}}function ur(t,n){return n=+n,function(){Wn(this,t).delay=n}}function lr(t,n){return function(){Yn(this,t).duration=+n.apply(this,arguments)}}function sr(t,n){return n=+n,function(){Yn(this,t).duration=n}}var dr=mn.prototype.constructor;function hr(t){return function(){this.style.removeProperty(t)}}var pr=0;function gr(t,n,e,r){this._groups=t,this._parents=n,this._name=e,this._id=r}function br(){return++pr}var mr=mn.prototype;gr.prototype=function(t){return mn().transition(t)}.prototype={constructor:gr,select:function(t){var n=this._name,e=this._id;"function"!=typeof t&&(t=at(t));for(var r=this._groups,i=r.length,a=new Array(i),o=0;o<i;++o)for(var c,f,u=r[o],l=u.length,s=a[o]=new Array(l),d=0;d<l;++d)(c=u[d])&&(f=t.call(c,c.__data__,d,u))&&("__data__"in c&&(f.__data__=c.__data__),s[d]=f,Hn(s[d],n,e,d,s,Vn(c,e)));return new gr(a,this._parents,n,e)},selectAll:function(t){var n=this._name,e=this._id;"function"!=typeof t&&(t=ct(t));for(var r=this._groups,i=r.length,a=[],o=[],c=0;c<i;++c)for(var f,u=r[c],l=u.length,s=0;s<l;++s)if(f=u[s]){for(var d,h=t.call(f,f.__data__,s,u),p=Vn(f,e),g=0,b=h.length;g<b;++g)(d=h[g])&&Hn(d,n,e,g,h,p);a.push(h),o.push(f)}return new gr(a,o,n,e)},selectChild:mr.selectChild,selectChildren:mr.selectChildren,filter:function(t){"function"!=typeof t&&(t=ut(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var a,o=n[i],c=o.length,f=r[i]=[],u=0;u<c;++u)(a=o[u])&&t.call(a,a.__data__,u,o)&&f.push(a);return new gr(r,this._parents,this._name,this._id)},merge:function(t){if(t._id!==this._id)throw new Error;for(var n=this._groups,e=t._groups,r=n.length,i=e.length,a=Math.min(r,i),o=new Array(r),c=0;c<a;++c)for(var f,u=n[c],l=e[c],s=u.length,d=o[c]=new Array(s),h=0;h<s;++h)(f=u[h]||l[h])&&(d[h]=f);for(;c<r;++c)o[c]=n[c];return new gr(o,this._parents,this._name,this._id)},selection:function(){return new dr(this._groups,this._parents)},transition:function(){for(var t=this._name,n=this._id,e=br(),r=this._groups,i=r.length,a=0;a<i;++a)for(var o,c=r[a],f=c.length,u=0;u<f;++u)if(o=c[u]){var l=Vn(o,n);Hn(o,t,e,u,c,{time:l.time+l.delay+l.duration,delay:0,duration:l.duration,ease:l.ease})}return new gr(r,this._parents,t,e)},call:mr.call,nodes:mr.nodes,node:mr.node,size:mr.size,empty:mr.empty,each:mr.each,on:function(t,n){var e=this._id;return arguments.length<2?Vn(this.node(),e).on.on(t):this.each(function(t,n,e){var r,i,a=function(t){return(t+"").trim().split(/^|\s+/).every((function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||"start"===t}))}(n)?Wn:Yn;return function(){var o=a(this,t),c=o.on;c!==r&&(i=(r=c).copy()).on(n,e),o.on=i}}(e,t,n))},attr:function(t,n){var e=$t(t),r="transform"===e?ne:Ke;return this.attrTween(t,"function"==typeof n?(e.local?ar:ir)(e,r,ie(this,"attr."+t,n)):null==n?(e.local?nr:tr)(e):(e.local?rr:er)(e,r,n))},attrTween:function(t,n){var e="attr."+t;if(arguments.length<2)return(e=this.tween(e))&&e._value;if(null==n)return this.tween(e,null);if("function"!=typeof n)throw new Error;var r=$t(t);return this.tween(e,(r.local?or:cr)(r,n))},style:function(t,n,e){var r="transform"==(t+="")?te:Ke;return null==n?this.styleTween(t,function(t,n){var e,r,i;return function(){var a=Ft(this,t),o=(this.style.removeProperty(t),Ft(this,t));return a===o?null:a===e&&o===r?i:i=n(e=a,r=o)}}(t,r)).on("end.style."+t,hr(t)):"function"==typeof n?this.styleTween(t,function(t,n,e){var r,i,a;return function(){var o=Ft(this,t),c=e(this),f=c+"";return null==c&&(this.style.removeProperty(t),f=c=Ft(this,t)),o===f?null:o===r&&f===i?a:(i=f,a=n(r=o,c))}}(t,r,ie(this,"style."+t,n))).each(function(t,n){var e,r,i,a,o="style."+n,c="end."+o;return function(){var f=Yn(this,t),u=f.on,l=null==f.value[o]?a||(a=hr(n)):void 0;u===e&&i===l||(r=(e=u).copy()).on(c,i=l),f.on=r}}(this._id,t)):this.styleTween(t,function(t,n,e){var r,i,a=e+"";return function(){var o=Ft(this,t);return o===a?null:o===r?i:i=n(r=o,e)}}(t,r,n),e).on("end.style."+t,null)},styleTween:function(t,n,e){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==n)return this.tween(r,null);if("function"!=typeof n)throw new Error;return this.tween(r,function(t,n,e){var r,i;function a(){var a=n.apply(this,arguments);return a!==i&&(r=(i=a)&&function(t,n,e){return function(r){this.style.setProperty(t,n.call(this,r),e)}}(t,a,e)),r}return a._value=n,a}(t,n,null==e?"":e))},text:function(t){return this.tween("text","function"==typeof t?function(t){return function(){var n=t(this);this.textContent=null==n?"":n}}(ie(this,"text",t)):function(t){return function(){this.textContent=t}}(null==t?"":t+""))},textTween:function(t){var n="text";if(arguments.length<1)return(n=this.tween(n))&&n._value;if(null==t)return this.tween(n,null);if("function"!=typeof t)throw new Error;return this.tween(n,function(t){var n,e;function r(){var r=t.apply(this,arguments);return r!==e&&(n=(e=r)&&function(t){return function(n){this.textContent=t.call(this,n)}}(r)),n}return r._value=t,r}(t))},remove:function(){return this.on("end.remove",function(t){return function(){var n=this.parentNode;for(var e in this.__transition)if(+e!==t)return;n&&n.removeChild(this)}}(this._id))},tween:function(t,n){var e=this._id;if(t+="",arguments.length<2){for(var r,i=Vn(this.node(),e).tween,a=0,o=i.length;a<o;++a)if((r=i[a]).name===t)return r.value;return null}return this.each((null==n?ee:re)(e,t,n))},delay:function(t){var n=this._id;return arguments.length?this.each(("function"==typeof t?fr:ur)(n,t)):Vn(this.node(),n).delay},duration:function(t){var n=this._id;return arguments.length?this.each(("function"==typeof t?lr:sr)(n,t)):Vn(this.node(),n).duration},ease:function(t){var n=this._id;return arguments.length?this.each(function(t,n){if("function"!=typeof n)throw new Error;return function(){Yn(this,t).ease=n}}(n,t)):Vn(this.node(),n).ease},easeVarying:function(t){if("function"!=typeof t)throw new Error;return this.each(function(t,n){return function(){var e=n.apply(this,arguments);if("function"!=typeof e)throw new Error;Yn(this,t).ease=e}}(this._id,t))},end:function(){var t,n,e=this,r=e._id,i=e.size();return new Promise((function(a,o){var c={value:o},f={value:function(){0==--i&&a()}};e.each((function(){var e=Yn(this,r),i=e.on;i!==t&&((n=(t=i).copy())._.cancel.push(c),n._.interrupt.push(c),n._.end.push(f)),e.on=n})),0===i&&a()}))},[Symbol.iterator]:mr[Symbol.iterator]};var yr={time:null,delay:0,duration:250,ease:function(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}};function vr(t,n){for(var e;!(e=t.__transition)||!(e=e[n]);)if(!(t=t.parentNode))throw new Error(`transition ${n} not found`);return e}mn.prototype.interrupt=function(t){return this.each((function(){!function(t,n){var e,r,i,a=t.__transition,o=!0;if(a){for(i in n=null==n?null:n+"",a)(e=a[i]).name===n?(r=e.state>2&&e.state<5,e.state=6,e.timer.stop(),e.on.call(r?"interrupt":"cancel",t,t.__data__,e.index,e.group),delete a[i]):o=!1;o&&delete t.__transition}}(this,t)}))},mn.prototype.transition=function(t){var n,e;t instanceof gr?(n=t._id,t=t._name):(n=br(),(e=yr).time=On(),t=null==t?null:t+"");for(var r=this._groups,i=r.length,a=0;a<i;++a)for(var o,c=r[a],f=c.length,u=0;u<f;++u)(o=c[u])&&Hn(o,t,n,u,c,e||vr(o,n));return new gr(r,this._parents,t,n)};const{abs:wr,max:xr,min:Mr}=Math;function kr(t){return[+t[0],+t[1]]}function $r(t){return[kr(t[0]),kr(t[1])]}["w","e"].map(_r),["n","s"].map(_r),["n","w","e","s","nw","ne","sw","se"].map(_r);function _r(t){return{type:t}}function Ar(t,n){if((e=(t=n?t.toExponential(n-1):t.toExponential()).indexOf("e"))<0)return null;var e,r=t.slice(0,e);return[r.length>1?r[0]+r.slice(2):r,+t.slice(e+1)]}function Tr(t){return(t=Ar(Math.abs(t)))?t[1]:NaN}var Sr,Er=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Nr(t){if(!(n=Er.exec(t)))throw new Error("invalid format: "+t);var n;return new Lr({fill:n[1],align:n[2],sign:n[3],symbol:n[4],zero:n[5],width:n[6],comma:n[7],precision:n[8]&&n[8].slice(1),trim:n[9],type:n[10]})}function Lr(t){this.fill=void 0===t.fill?" ":t.fill+"",this.align=void 0===t.align?">":t.align+"",this.sign=void 0===t.sign?"-":t.sign+"",this.symbol=void 0===t.symbol?"":t.symbol+"",this.zero=!!t.zero,this.width=void 0===t.width?void 0:+t.width,this.comma=!!t.comma,this.precision=void 0===t.precision?void 0:+t.precision,this.trim=!!t.trim,this.type=void 0===t.type?"":t.type+""}function Cr(t,n){var e=Ar(t,n);if(!e)return t+"";var r=e[0],i=e[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}Nr.prototype=Lr.prototype,Lr.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var Dr={"%":(t,n)=>(100*t).toFixed(n),b:t=>Math.round(t).toString(2),c:t=>t+"",d:function(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)},e:(t,n)=>t.toExponential(n),f:(t,n)=>t.toFixed(n),g:(t,n)=>t.toPrecision(n),o:t=>Math.round(t).toString(8),p:(t,n)=>Cr(100*t,n),r:Cr,s:function(t,n){var e=Ar(t,n);if(!e)return t+"";var r=e[0],i=e[1],a=i-(Sr=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,o=r.length;return a===o?r:a>o?r+new Array(a-o+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+Ar(t,Math.max(0,n+a-1))[0]},X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function Or(t){return t}var Fr,Rr,zr,Ur=Array.prototype.map,jr=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function Ir(t){var n,e,r=void 0===t.grouping||void 0===t.thousands?Or:(n=Ur.call(t.grouping,Number),e=t.thousands+"",function(t,r){for(var i=t.length,a=[],o=0,c=n[0],f=0;i>0&&c>0&&(f+c+1>r&&(c=Math.max(1,r-f)),a.push(t.substring(i-=c,i+c)),!((f+=c+1)>r));)c=n[o=(o+1)%n.length];return a.reverse().join(e)}),i=void 0===t.currency?"":t.currency[0]+"",a=void 0===t.currency?"":t.currency[1]+"",o=void 0===t.decimal?".":t.decimal+"",c=void 0===t.numerals?Or:function(t){return function(n){return n.replace(/[0-9]/g,(function(n){return t[+n]}))}}(Ur.call(t.numerals,String)),f=void 0===t.percent?"%":t.percent+"",u=void 0===t.minus?"−":t.minus+"",l=void 0===t.nan?"NaN":t.nan+"";function s(t){var n=(t=Nr(t)).fill,e=t.align,s=t.sign,d=t.symbol,h=t.zero,p=t.width,g=t.comma,b=t.precision,m=t.trim,y=t.type;"n"===y?(g=!0,y="g"):Dr[y]||(void 0===b&&(b=12),m=!0,y="g"),(h||"0"===n&&"="===e)&&(h=!0,n="0",e="=");var v="$"===d?i:"#"===d&&/[boxX]/.test(y)?"0"+y.toLowerCase():"",w="$"===d?a:/[%p]/.test(y)?f:"",x=Dr[y],M=/[defgprs%]/.test(y);function k(t){var i,a,f,d=v,k=w;if("c"===y)k=x(t)+k,t="";else{var $=(t=+t)<0||1/t<0;if(t=isNaN(t)?l:x(Math.abs(t),b),m&&(t=function(t){t:for(var n,e=t.length,r=1,i=-1;r<e;++r)switch(t[r]){case".":i=n=r;break;case"0":0===i&&(i=r),n=r;break;default:if(!+t[r])break t;i>0&&(i=0)}return i>0?t.slice(0,i)+t.slice(n+1):t}(t)),$&&0==+t&&"+"!==s&&($=!1),d=($?"("===s?s:u:"-"===s||"("===s?"":s)+d,k=("s"===y?jr[8+Sr/3]:"")+k+($&&"("===s?")":""),M)for(i=-1,a=t.length;++i<a;)if(48>(f=t.charCodeAt(i))||f>57){k=(46===f?o+t.slice(i+1):t.slice(i))+k,t=t.slice(0,i);break}}g&&!h&&(t=r(t,1/0));var _=d.length+t.length+k.length,A=_<p?new Array(p-_+1).join(n):"";switch(g&&h&&(t=r(A+t,A.length?p-k.length:1/0),A=""),e){case"<":t=d+t+k+A;break;case"=":t=d+A+t+k;break;case"^":t=A.slice(0,_=A.length>>1)+d+t+k+A.slice(_);break;default:t=A+d+t+k}return c(t)}return b=void 0===b?6:/[gprs]/.test(y)?Math.max(1,Math.min(21,b)):Math.max(0,Math.min(20,b)),k.toString=function(){return t+""},k}return{format:s,formatPrefix:function(t,n){var e=s(((t=Nr(t)).type="f",t)),r=3*Math.max(-8,Math.min(8,Math.floor(Tr(n)/3))),i=Math.pow(10,-r),a=jr[8+r/3];return function(t){return e(i*t)+a}}}}Fr=Ir({thousands:",",grouping:[3],currency:["$",""]}),Rr=Fr.format,zr=Fr.formatPrefix;var Pr=1e-6,qr=1e-12,Br=Math.PI,Hr=Br/2,Wr=Br/4,Yr=2*Br,Vr=180/Br,Xr=Br/180,Zr=Math.abs,Gr=Math.atan,Qr=Math.atan2,Jr=Math.cos,Kr=(Math.ceil,Math.exp),ti=(Math.floor,Math.hypot,Math.log),ni=Math.pow,ei=Math.sin,ri=Math.sign||function(t){return t>0?1:t<0?-1:0},ii=Math.sqrt,ai=Math.tan;function oi(t){return t>1?0:t<-1?Br:Math.acos(t)}function ci(t){return t>1?Hr:t<-1?-Hr:Math.asin(t)}function fi(){}function ui(){var t,n=[];return{point:function(n,e,r){t.push([n,e,r])},lineStart:function(){n.push(t=[])},lineEnd:fi,rejoin:function(){n.length>1&&n.push(n.pop().concat(n.shift()))},result:function(){var e=n;return n=[],t=null,e}}}function li(t,n){return Zr(t[0]-n[0])<Pr&&Zr(t[1]-n[1])<Pr}function si(t,n,e,r){this.x=t,this.z=n,this.o=e,this.e=r,this.v=!1,this.n=this.p=null}function di(t,n,e,r,i){var a,o,c=[],f=[];if(t.forEach((function(t){if(!((n=t.length-1)<=0)){var n,e,r=t[0],o=t[n];if(li(r,o)){if(!r[2]&&!o[2]){for(i.lineStart(),a=0;a<n;++a)i.point((r=t[a])[0],r[1]);return void i.lineEnd()}o[0]+=2*Pr}c.push(e=new si(r,t,null,!0)),f.push(e.o=new si(r,null,e,!1)),c.push(e=new si(o,t,null,!1)),f.push(e.o=new si(o,null,e,!0))}})),c.length){for(f.sort(n),hi(c),hi(f),a=0,o=f.length;a<o;++a)f[a].e=e=!e;for(var u,l,s=c[0];;){for(var d=s,h=!0;d.v;)if((d=d.n)===s)return;u=d.z,i.lineStart();do{if(d.v=d.o.v=!0,d.e){if(h)for(a=0,o=u.length;a<o;++a)i.point((l=u[a])[0],l[1]);else r(d.x,d.n.x,1,i);d=d.n}else{if(h)for(u=d.p.z,a=u.length-1;a>=0;--a)i.point((l=u[a])[0],l[1]);else r(d.x,d.p.x,-1,i);d=d.p}u=(d=d.o).z,h=!h}while(!d.v);i.lineEnd()}}}function hi(t){if(n=t.length){for(var n,e,r=0,i=t[0];++r<n;)i.n=e=t[r],e.p=i,i=e;i.n=e=t[0],e.p=i}}function pi(t){return Array.from(function*(t){for(const n of t)yield*n}(t))}var gi=1e9,bi=-gi;function mi(t,n,e,r){function i(i,a){return t<=i&&i<=e&&n<=a&&a<=r}function a(i,a,c,u){var l=0,s=0;if(null==i||(l=o(i,c))!==(s=o(a,c))||f(i,a)<0^c>0)do{u.point(0===l||3===l?t:e,l>1?r:n)}while((l=(l+c+4)%4)!==s);else u.point(a[0],a[1])}function o(r,i){return Zr(r[0]-t)<Pr?i>0?0:3:Zr(r[0]-e)<Pr?i>0?2:1:Zr(r[1]-n)<Pr?i>0?1:0:i>0?3:2}function c(t,n){return f(t.x,n.x)}function f(t,n){var e=o(t,1),r=o(n,1);return e!==r?e-r:0===e?n[1]-t[1]:1===e?t[0]-n[0]:2===e?t[1]-n[1]:n[0]-t[0]}return function(o){var f,u,l,s,d,h,p,g,b,m,y,v=o,w=ui(),x={point:M,lineStart:function(){x.point=k,u&&u.push(l=[]);m=!0,b=!1,p=g=NaN},lineEnd:function(){f&&(k(s,d),h&&b&&w.rejoin(),f.push(w.result()));x.point=M,b&&v.lineEnd()},polygonStart:function(){v=w,f=[],u=[],y=!0},polygonEnd:function(){var n=function(){for(var n=0,e=0,i=u.length;e<i;++e)for(var a,o,c=u[e],f=1,l=c.length,s=c[0],d=s[0],h=s[1];f<l;++f)a=d,o=h,d=(s=c[f])[0],h=s[1],o<=r?h>r&&(d-a)*(r-o)>(h-o)*(t-a)&&++n:h<=r&&(d-a)*(r-o)<(h-o)*(t-a)&&--n;return n}(),e=y&&n,i=(f=pi(f)).length;(e||i)&&(o.polygonStart(),e&&(o.lineStart(),a(null,null,1,o),o.lineEnd()),i&&di(f,c,n,a,o),o.polygonEnd());v=o,f=u=l=null}};function M(t,n){i(t,n)&&v.point(t,n)}function k(a,o){var c=i(a,o);if(u&&l.push([a,o]),m)s=a,d=o,h=c,m=!1,c&&(v.lineStart(),v.point(a,o));else if(c&&b)v.point(a,o);else{var f=[p=Math.max(bi,Math.min(gi,p)),g=Math.max(bi,Math.min(gi,g))],w=[a=Math.max(bi,Math.min(gi,a)),o=Math.max(bi,Math.min(gi,o))];!function(t,n,e,r,i,a){var o,c=t[0],f=t[1],u=0,l=1,s=n[0]-c,d=n[1]-f;if(o=e-c,s||!(o>0)){if(o/=s,s<0){if(o<u)return;o<l&&(l=o)}else if(s>0){if(o>l)return;o>u&&(u=o)}if(o=i-c,s||!(o<0)){if(o/=s,s<0){if(o>l)return;o>u&&(u=o)}else if(s>0){if(o<u)return;o<l&&(l=o)}if(o=r-f,d||!(o>0)){if(o/=d,d<0){if(o<u)return;o<l&&(l=o)}else if(d>0){if(o>l)return;o>u&&(u=o)}if(o=a-f,d||!(o<0)){if(o/=d,d<0){if(o>l)return;o>u&&(u=o)}else if(d>0){if(o<u)return;o<l&&(l=o)}return u>0&&(t[0]=c+u*s,t[1]=f+u*d),l<1&&(n[0]=c+l*s,n[1]=f+l*d),!0}}}}}(f,w,t,n,e,r)?c&&(v.lineStart(),v.point(a,o),y=!1):(b||(v.lineStart(),v.point(f[0],f[1])),v.point(w[0],w[1]),c||v.lineEnd(),y=!1)}p=a,g=o,b=c}return x}}var yi=t=>t;function vi(t,n){t&&xi.hasOwnProperty(t.type)&&xi[t.type](t,n)}var wi={Feature:function(t,n){vi(t.geometry,n)},FeatureCollection:function(t,n){for(var e=t.features,r=-1,i=e.length;++r<i;)vi(e[r].geometry,n)}},xi={Sphere:function(t,n){n.sphere()},Point:function(t,n){t=t.coordinates,n.point(t[0],t[1],t[2])},MultiPoint:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)t=e[r],n.point(t[0],t[1],t[2])},LineString:function(t,n){Mi(t.coordinates,n,0)},MultiLineString:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)Mi(e[r],n,0)},Polygon:function(t,n){ki(t.coordinates,n)},MultiPolygon:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)ki(e[r],n)},GeometryCollection:function(t,n){for(var e=t.geometries,r=-1,i=e.length;++r<i;)vi(e[r],n)}};function Mi(t,n,e){var r,i=-1,a=t.length-e;for(n.lineStart();++i<a;)r=t[i],n.point(r[0],r[1],r[2]);n.lineEnd()}function ki(t,n){var e=-1,r=t.length;for(n.polygonStart();++e<r;)Mi(t[e],n,1);n.polygonEnd()}function $i(t,n){t&&wi.hasOwnProperty(t.type)?wi[t.type](t,n):vi(t,n)}class _i{constructor(){this._partials=new Float64Array(32),this._n=0}add(t){const n=this._partials;let e=0;for(let r=0;r<this._n&&r<32;r++){const i=n[r],a=t+i,o=Math.abs(t)<Math.abs(i)?t-(a-i):i-(a-t);o&&(n[e++]=o),t=a}return n[e]=t,this._n=e+1,this}valueOf(){const t=this._partials;let n,e,r,i=this._n,a=0;if(i>0){for(a=t[--i];i>0&&(n=a,e=t[--i],a=n+e,r=e-(a-n),!r););i>0&&(r<0&&t[i-1]<0||r>0&&t[i-1]>0)&&(e=2*r,n=a+e,e==n-a&&(a=n))}return a}}var Ai,Ti,Si,Ei,Ni=new _i,Li=new _i,Ci={point:fi,lineStart:fi,lineEnd:fi,polygonStart:function(){Ci.lineStart=Di,Ci.lineEnd=Ri},polygonEnd:function(){Ci.lineStart=Ci.lineEnd=Ci.point=fi,Ni.add(Zr(Li)),Li=new _i},result:function(){var t=Ni/2;return Ni=new _i,t}};function Di(){Ci.point=Oi}function Oi(t,n){Ci.point=Fi,Ai=Si=t,Ti=Ei=n}function Fi(t,n){Li.add(Ei*t-Si*n),Si=t,Ei=n}function Ri(){Fi(Ai,Ti)}var zi=Ci,Ui=1/0,ji=Ui,Ii=-Ui,Pi=Ii,qi={point:function(t,n){t<Ui&&(Ui=t);t>Ii&&(Ii=t);n<ji&&(ji=n);n>Pi&&(Pi=n)},lineStart:fi,lineEnd:fi,polygonStart:fi,polygonEnd:fi,result:function(){var t=[[Ui,ji],[Ii,Pi]];return Ii=Pi=-(ji=Ui=1/0),t}};var Bi,Hi,Wi,Yi,Vi=qi,Xi=0,Zi=0,Gi=0,Qi=0,Ji=0,Ki=0,ta=0,na=0,ea=0,ra={point:ia,lineStart:aa,lineEnd:fa,polygonStart:function(){ra.lineStart=ua,ra.lineEnd=la},polygonEnd:function(){ra.point=ia,ra.lineStart=aa,ra.lineEnd=fa},result:function(){var t=ea?[ta/ea,na/ea]:Ki?[Qi/Ki,Ji/Ki]:Gi?[Xi/Gi,Zi/Gi]:[NaN,NaN];return Xi=Zi=Gi=Qi=Ji=Ki=ta=na=ea=0,t}};function ia(t,n){Xi+=t,Zi+=n,++Gi}function aa(){ra.point=oa}function oa(t,n){ra.point=ca,ia(Wi=t,Yi=n)}function ca(t,n){var e=t-Wi,r=n-Yi,i=ii(e*e+r*r);Qi+=i*(Wi+t)/2,Ji+=i*(Yi+n)/2,Ki+=i,ia(Wi=t,Yi=n)}function fa(){ra.point=ia}function ua(){ra.point=sa}function la(){da(Bi,Hi)}function sa(t,n){ra.point=da,ia(Bi=Wi=t,Hi=Yi=n)}function da(t,n){var e=t-Wi,r=n-Yi,i=ii(e*e+r*r);Qi+=i*(Wi+t)/2,Ji+=i*(Yi+n)/2,Ki+=i,ta+=(i=Yi*t-Wi*n)*(Wi+t),na+=i*(Yi+n),ea+=3*i,ia(Wi=t,Yi=n)}var ha=ra;function pa(t){this._context=t}pa.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath(),this._point=NaN},point:function(t,n){switch(this._point){case 0:this._context.moveTo(t,n),this._point=1;break;case 1:this._context.lineTo(t,n);break;default:this._context.moveTo(t+this._radius,n),this._context.arc(t,n,this._radius,0,Yr)}},result:fi};var ga,ba,ma,ya,va,wa=new _i,xa={point:fi,lineStart:function(){xa.point=Ma},lineEnd:function(){ga&&ka(ba,ma),xa.point=fi},polygonStart:function(){ga=!0},polygonEnd:function(){ga=null},result:function(){var t=+wa;return wa=new _i,t}};function Ma(t,n){xa.point=ka,ba=ya=t,ma=va=n}function ka(t,n){ya-=t,va-=n,wa.add(ii(ya*ya+va*va)),ya=t,va=n}var $a=xa;let _a,Aa,Ta,Sa;class Ea{constructor(t){this._append=null==t?Na:function(t){const n=Math.floor(t);if(!(n>=0))throw new RangeError(`invalid digits: ${t}`);if(n>15)return Na;if(n!==_a){const t=10**n;_a=n,Aa=function(n){let e=1;this._+=n[0];for(const r=n.length;e<r;++e)this._+=Math.round(arguments[e]*t)/t+n[e]}}return Aa}(t),this._radius=4.5,this._=""}pointRadius(t){return this._radius=+t,this}polygonStart(){this._line=0}polygonEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){0===this._line&&(this._+="Z"),this._point=NaN}point(t,n){switch(this._point){case 0:this._append`M${t},${n}`,this._point=1;break;case 1:this._append`L${t},${n}`;break;default:if(this._append`M${t},${n}`,this._radius!==Ta||this._append!==Aa){const t=this._radius,n=this._;this._="",this._append`m0,${t}a${t},${t} 0 1,1 0,${-2*t}a${t},${t} 0 1,1 0,${2*t}z`,Ta=t,Aa=this._append,Sa=this._,this._=n}this._+=Sa}}result(){const t=this._;return this._="",t.length?t:null}}function Na(t){let n=1;this._+=t[0];for(const e=t.length;n<e;++n)this._+=arguments[n]+t[n]}function La(t,n){let e,r,i=3,a=4.5;function o(t){return t&&("function"==typeof a&&r.pointRadius(+a.apply(this,arguments)),$i(t,e(r))),r.result()}return o.area=function(t){return $i(t,e(zi)),zi.result()},o.measure=function(t){return $i(t,e($a)),$a.result()},o.bounds=function(t){return $i(t,e(Vi)),Vi.result()},o.centroid=function(t){return $i(t,e(ha)),ha.result()},o.projection=function(n){return arguments.length?(e=null==n?(t=null,yi):(t=n).stream,o):t},o.context=function(t){return arguments.length?(r=null==t?(n=null,new Ea(i)):new pa(n=t),"function"!=typeof a&&r.pointRadius(a),o):n},o.pointRadius=function(t){return arguments.length?(a="function"==typeof t?t:(r.pointRadius(+t),+t),o):a},o.digits=function(t){if(!arguments.length)return i;if(null==t)i=null;else{const n=Math.floor(t);if(!(n>=0))throw new RangeError(`invalid digits: ${t}`);i=n}return null===n&&(r=new Ea(i)),o},o.projection(t).digits(i).context(n)}function Ca(t){return[Qr(t[1],t[0]),ci(t[2])]}function Da(t){var n=t[0],e=t[1],r=Jr(e);return[r*Jr(n),r*ei(n),ei(e)]}function Oa(t,n){return t[0]*n[0]+t[1]*n[1]+t[2]*n[2]}function Fa(t,n){return[t[1]*n[2]-t[2]*n[1],t[2]*n[0]-t[0]*n[2],t[0]*n[1]-t[1]*n[0]]}function Ra(t,n){t[0]+=n[0],t[1]+=n[1],t[2]+=n[2]}function za(t,n){return[t[0]*n,t[1]*n,t[2]*n]}function Ua(t){var n=ii(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=n,t[1]/=n,t[2]/=n}function ja(t){return Zr(t[0])<=Br?t[0]:ri(t[0])*((Zr(t[0])+Br)%Yr-Br)}function Ia(t,n,e,r){return function(i){var a,o,c,f=n(i),u=ui(),l=n(u),s=!1,d={point:h,lineStart:g,lineEnd:b,polygonStart:function(){d.point=m,d.lineStart=y,d.lineEnd=v,o=[],a=[]},polygonEnd:function(){d.point=h,d.lineStart=g,d.lineEnd=b,o=pi(o);var t=function(t,n){var e=ja(n),r=n[1],i=ei(r),a=[ei(e),-Jr(e),0],o=0,c=0,f=new _i;1===i?r=Hr+Pr:-1===i&&(r=-Hr-Pr);for(var u=0,l=t.length;u<l;++u)if(d=(s=t[u]).length)for(var s,d,h=s[d-1],p=ja(h),g=h[1]/2+Wr,b=ei(g),m=Jr(g),y=0;y<d;++y,p=w,b=M,m=k,h=v){var v=s[y],w=ja(v),x=v[1]/2+Wr,M=ei(x),k=Jr(x),$=w-p,_=$>=0?1:-1,A=_*$,T=A>Br,S=b*M;if(f.add(Qr(S*_*ei(A),m*k+S*Jr(A))),o+=T?$+_*Yr:$,T^p>=e^w>=e){var E=Fa(Da(h),Da(v));Ua(E);var N=Fa(a,E);Ua(N);var L=(T^$>=0?-1:1)*ci(N[2]);(r>L||r===L&&(E[0]||E[1]))&&(c+=T^$>=0?1:-1)}}return(o<-Pr||o<Pr&&f<-qr)^1&c}(a,r);o.length?(s||(i.polygonStart(),s=!0),di(o,qa,t,e,i)):t&&(s||(i.polygonStart(),s=!0),i.lineStart(),e(null,null,1,i),i.lineEnd()),s&&(i.polygonEnd(),s=!1),o=a=null},sphere:function(){i.polygonStart(),i.lineStart(),e(null,null,1,i),i.lineEnd(),i.polygonEnd()}};function h(n,e){t(n,e)&&i.point(n,e)}function p(t,n){f.point(t,n)}function g(){d.point=p,f.lineStart()}function b(){d.point=h,f.lineEnd()}function m(t,n){c.push([t,n]),l.point(t,n)}function y(){l.lineStart(),c=[]}function v(){m(c[0][0],c[0][1]),l.lineEnd();var t,n,e,r,f=l.clean(),d=u.result(),h=d.length;if(c.pop(),a.push(c),c=null,h)if(1&f){if((n=(e=d[0]).length-1)>0){for(s||(i.polygonStart(),s=!0),i.lineStart(),t=0;t<n;++t)i.point((r=e[t])[0],r[1]);i.lineEnd()}}else h>1&&2&f&&d.push(d.pop().concat(d.shift())),o.push(d.filter(Pa))}return d}}function Pa(t){return t.length>1}function qa(t,n){return((t=t.x)[0]<0?t[1]-Hr-Pr:Hr-t[1])-((n=n.x)[0]<0?n[1]-Hr-Pr:Hr-n[1])}var Ba=Ia((function(){return!0}),(function(t){var n,e=NaN,r=NaN,i=NaN;return{lineStart:function(){t.lineStart(),n=1},point:function(a,o){var c=a>0?Br:-Br,f=Zr(a-e);Zr(f-Br)<Pr?(t.point(e,r=(r+o)/2>0?Hr:-Hr),t.point(i,r),t.lineEnd(),t.lineStart(),t.point(c,r),t.point(a,r),n=0):i!==c&&f>=Br&&(Zr(e-i)<Pr&&(e-=i*Pr),Zr(a-c)<Pr&&(a-=c*Pr),r=function(t,n,e,r){var i,a,o=ei(t-e);return Zr(o)>Pr?Gr((ei(n)*(a=Jr(r))*ei(e)-ei(r)*(i=Jr(n))*ei(t))/(i*a*o)):(n+r)/2}(e,r,a,o),t.point(i,r),t.lineEnd(),t.lineStart(),t.point(c,r),n=0),t.point(e=a,r=o),i=c},lineEnd:function(){t.lineEnd(),e=r=NaN},clean:function(){return 2-n}}}),(function(t,n,e,r){var i;if(null==t)i=e*Hr,r.point(-Br,i),r.point(0,i),r.point(Br,i),r.point(Br,0),r.point(Br,-i),r.point(0,-i),r.point(-Br,-i),r.point(-Br,0),r.point(-Br,i);else if(Zr(t[0]-n[0])>Pr){var a=t[0]<n[0]?Br:-Br;i=e*a/2,r.point(-a,i),r.point(0,i),r.point(a,i)}else r.point(n[0],n[1])}),[-Br,-Hr]);function Ha(t,n,e,r,i,a){if(e){var o=Jr(n),c=ei(n),f=r*e;null==i?(i=n+r*Yr,a=n-f/2):(i=Wa(o,i),a=Wa(o,a),(r>0?i<a:i>a)&&(i+=r*Yr));for(var u,l=i;r>0?l>a:l<a;l-=f)u=Ca([o,-c*Jr(l),-c*ei(l)]),t.point(u[0],u[1])}}function Wa(t,n){(n=Da(n))[0]-=t,Ua(n);var e=oi(-n[1]);return((-n[2]<0?-e:e)+Yr-Pr)%Yr}function Ya(t,n){function e(e,r){return e=t(e,r),n(e[0],e[1])}return t.invert&&n.invert&&(e.invert=function(e,r){return(e=n.invert(e,r))&&t.invert(e[0],e[1])}),e}function Va(t,n){return Zr(t)>Br&&(t-=Math.round(t/Yr)*Yr),[t,n]}function Xa(t,n,e){return(t%=Yr)?n||e?Ya(Ga(t),Qa(n,e)):Ga(t):n||e?Qa(n,e):Va}function Za(t){return function(n,e){return Zr(n+=t)>Br&&(n-=Math.round(n/Yr)*Yr),[n,e]}}function Ga(t){var n=Za(t);return n.invert=Za(-t),n}function Qa(t,n){var e=Jr(t),r=ei(t),i=Jr(n),a=ei(n);function o(t,n){var o=Jr(n),c=Jr(t)*o,f=ei(t)*o,u=ei(n),l=u*e+c*r;return[Qr(f*i-l*a,c*e-u*r),ci(l*i+f*a)]}return o.invert=function(t,n){var o=Jr(n),c=Jr(t)*o,f=ei(t)*o,u=ei(n),l=u*i-f*a;return[Qr(f*i+u*a,c*e+l*r),ci(l*e-c*r)]},o}function Ja(t){return{stream:Ka(t)}}function Ka(t){return function(n){var e=new to;for(var r in t)e[r]=t[r];return e.stream=n,e}}function to(){}function no(t,n,e){var r=t.clipExtent&&t.clipExtent();return t.scale(150).translate([0,0]),null!=r&&t.clipExtent(null),$i(e,t.stream(Vi)),n(Vi.result()),null!=r&&t.clipExtent(r),t}function eo(t,n,e){return no(t,(function(e){var r=n[1][0]-n[0][0],i=n[1][1]-n[0][1],a=Math.min(r/(e[1][0]-e[0][0]),i/(e[1][1]-e[0][1])),o=+n[0][0]+(r-a*(e[1][0]+e[0][0]))/2,c=+n[0][1]+(i-a*(e[1][1]+e[0][1]))/2;t.scale(150*a).translate([o,c])}),e)}function ro(t,n,e){return eo(t,[[0,0],n],e)}function io(t,n,e){return no(t,(function(e){var r=+n,i=r/(e[1][0]-e[0][0]),a=(r-i*(e[1][0]+e[0][0]))/2,o=-i*e[0][1];t.scale(150*i).translate([a,o])}),e)}function ao(t,n,e){return no(t,(function(e){var r=+n,i=r/(e[1][1]-e[0][1]),a=-i*e[0][0],o=(r-i*(e[1][1]+e[0][1]))/2;t.scale(150*i).translate([a,o])}),e)}Va.invert=Va,to.prototype={constructor:to,point:function(t,n){this.stream.point(t,n)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var oo=16,co=Jr(30*Xr);function fo(t,n){return+n?function(t,n){function e(r,i,a,o,c,f,u,l,s,d,h,p,g,b){var m=u-r,y=l-i,v=m*m+y*y;if(v>4*n&&g--){var w=o+d,x=c+h,M=f+p,k=ii(w*w+x*x+M*M),$=ci(M/=k),_=Zr(Zr(M)-1)<Pr||Zr(a-s)<Pr?(a+s)/2:Qr(x,w),A=t(_,$),T=A[0],S=A[1],E=T-r,N=S-i,L=y*E-m*N;(L*L/v>n||Zr((m*E+y*N)/v-.5)>.3||o*d+c*h+f*p<co)&&(e(r,i,a,o,c,f,T,S,_,w/=k,x/=k,M,g,b),b.point(T,S),e(T,S,_,w,x,M,u,l,s,d,h,p,g,b))}}return function(n){var r,i,a,o,c,f,u,l,s,d,h,p,g={point:b,lineStart:m,lineEnd:v,polygonStart:function(){n.polygonStart(),g.lineStart=w},polygonEnd:function(){n.polygonEnd(),g.lineStart=m}};function b(e,r){e=t(e,r),n.point(e[0],e[1])}function m(){l=NaN,g.point=y,n.lineStart()}function y(r,i){var a=Da([r,i]),o=t(r,i);e(l,s,u,d,h,p,l=o[0],s=o[1],u=r,d=a[0],h=a[1],p=a[2],oo,n),n.point(l,s)}function v(){g.point=b,n.lineEnd()}function w(){m(),g.point=x,g.lineEnd=M}function x(t,n){y(r=t,n),i=l,a=s,o=d,c=h,f=p,g.point=y}function M(){e(l,s,u,d,h,p,i,a,r,o,c,f,oo,n),g.lineEnd=v,v()}return g}}(t,n):function(t){return Ka({point:function(n,e){n=t(n,e),this.stream.point(n[0],n[1])}})}(t)}var uo=Ka({point:function(t,n){this.stream.point(t*Xr,n*Xr)}});function lo(t,n,e,r,i,a){if(!a)return function(t,n,e,r,i){function a(a,o){return[n+t*(a*=r),e-t*(o*=i)]}return a.invert=function(a,o){return[(a-n)/t*r,(e-o)/t*i]},a}(t,n,e,r,i);var o=Jr(a),c=ei(a),f=o*t,u=c*t,l=o/t,s=c/t,d=(c*e-o*n)/t,h=(c*n+o*e)/t;function p(t,a){return[f*(t*=r)-u*(a*=i)+n,e-u*t-f*a]}return p.invert=function(t,n){return[r*(l*t-s*n+d),i*(h-s*t-l*n)]},p}function so(t){return ho((function(){return t}))()}function ho(t){var n,e,r,i,a,o,c,f,u,l,s=150,d=480,h=250,p=0,g=0,b=0,m=0,y=0,v=0,w=1,x=1,M=null,k=Ba,$=null,_=yi,A=.5;function T(t){return f(t[0]*Xr,t[1]*Xr)}function S(t){return(t=f.invert(t[0],t[1]))&&[t[0]*Vr,t[1]*Vr]}function E(){var t=lo(s,0,0,w,x,v).apply(null,n(p,g)),r=lo(s,d-t[0],h-t[1],w,x,v);return e=Xa(b,m,y),c=Ya(n,r),f=Ya(e,c),o=fo(c,A),N()}function N(){return u=l=null,T}return T.stream=function(t){return u&&l===t?u:u=uo(function(t){return Ka({point:function(n,e){var r=t(n,e);return this.stream.point(r[0],r[1])}})}(e)(k(o(_(l=t)))))},T.preclip=function(t){return arguments.length?(k=t,M=void 0,N()):k},T.postclip=function(t){return arguments.length?(_=t,$=r=i=a=null,N()):_},T.clipAngle=function(t){return arguments.length?(k=+t?function(t){var n=Jr(t),e=2*Xr,r=n>0,i=Zr(n)>Pr;function a(t,e){return Jr(t)*Jr(e)>n}function o(t,e,r){var i=[1,0,0],a=Fa(Da(t),Da(e)),o=Oa(a,a),c=a[0],f=o-c*c;if(!f)return!r&&t;var u=n*o/f,l=-n*c/f,s=Fa(i,a),d=za(i,u);Ra(d,za(a,l));var h=s,p=Oa(d,h),g=Oa(h,h),b=p*p-g*(Oa(d,d)-1);if(!(b<0)){var m=ii(b),y=za(h,(-p-m)/g);if(Ra(y,d),y=Ca(y),!r)return y;var v,w=t[0],x=e[0],M=t[1],k=e[1];x<w&&(v=w,w=x,x=v);var $=x-w,_=Zr($-Br)<Pr;if(!_&&k<M&&(v=M,M=k,k=v),_||$<Pr?_?M+k>0^y[1]<(Zr(y[0]-w)<Pr?M:k):M<=y[1]&&y[1]<=k:$>Br^(w<=y[0]&&y[0]<=x)){var A=za(h,(-p+m)/g);return Ra(A,d),[y,Ca(A)]}}}function c(n,e){var i=r?t:Br-t,a=0;return n<-i?a|=1:n>i&&(a|=2),e<-i?a|=4:e>i&&(a|=8),a}return Ia(a,(function(t){var n,e,f,u,l;return{lineStart:function(){u=f=!1,l=1},point:function(s,d){var h,p=[s,d],g=a(s,d),b=r?g?0:c(s,d):g?c(s+(s<0?Br:-Br),d):0;if(!n&&(u=f=g)&&t.lineStart(),g!==f&&(!(h=o(n,p))||li(n,h)||li(p,h))&&(p[2]=1),g!==f)l=0,g?(t.lineStart(),h=o(p,n),t.point(h[0],h[1])):(h=o(n,p),t.point(h[0],h[1],2),t.lineEnd()),n=h;else if(i&&n&&r^g){var m;b&e||!(m=o(p,n,!0))||(l=0,r?(t.lineStart(),t.point(m[0][0],m[0][1]),t.point(m[1][0],m[1][1]),t.lineEnd()):(t.point(m[1][0],m[1][1]),t.lineEnd(),t.lineStart(),t.point(m[0][0],m[0][1],3)))}!g||n&&li(n,p)||t.point(p[0],p[1]),n=p,f=g,e=b},lineEnd:function(){f&&t.lineEnd(),n=null},clean:function(){return l|(u&&f)<<1}}}),(function(n,r,i,a){Ha(a,t,e,i,n,r)}),r?[0,-t]:[-Br,t-Br])}(M=t*Xr):(M=null,Ba),N()):M*Vr},T.clipExtent=function(t){return arguments.length?(_=null==t?($=r=i=a=null,yi):mi($=+t[0][0],r=+t[0][1],i=+t[1][0],a=+t[1][1]),N()):null==$?null:[[$,r],[i,a]]},T.scale=function(t){return arguments.length?(s=+t,E()):s},T.translate=function(t){return arguments.length?(d=+t[0],h=+t[1],E()):[d,h]},T.center=function(t){return arguments.length?(p=t[0]%360*Xr,g=t[1]%360*Xr,E()):[p*Vr,g*Vr]},T.rotate=function(t){return arguments.length?(b=t[0]%360*Xr,m=t[1]%360*Xr,y=t.length>2?t[2]%360*Xr:0,E()):[b*Vr,m*Vr,y*Vr]},T.angle=function(t){return arguments.length?(v=t%360*Xr,E()):v*Vr},T.reflectX=function(t){return arguments.length?(w=t?-1:1,E()):w<0},T.reflectY=function(t){return arguments.length?(x=t?-1:1,E()):x<0},T.precision=function(t){return arguments.length?(o=fo(c,A=t*t),N()):ii(A)},T.fitExtent=function(t,n){return eo(T,t,n)},T.fitSize=function(t,n){return ro(T,t,n)},T.fitWidth=function(t,n){return io(T,t,n)},T.fitHeight=function(t,n){return ao(T,t,n)},function(){return n=t.apply(this,arguments),T.invert=n.invert&&S,E()}}function po(t){var n=0,e=Br/3,r=ho(t),i=r(n,e);return i.parallels=function(t){return arguments.length?r(n=t[0]*Xr,e=t[1]*Xr):[n*Vr,e*Vr]},i}function go(t,n){var e=ei(t),r=(e+ei(n))/2;if(Zr(r)<Pr)return function(t){var n=Jr(t);function e(t,e){return[t*n,ei(e)/n]}return e.invert=function(t,e){return[t/n,ci(e*n)]},e}(t);var i=1+e*(2*r-e),a=ii(i)/r;function o(t,n){var e=ii(i-2*r*ei(n))/r;return[e*ei(t*=r),a-e*Jr(t)]}return o.invert=function(t,n){var e=a-n,o=Qr(t,Zr(e))*ri(e);return e*r<0&&(o-=Br*ri(t)*ri(e)),[o/r,ci((i-(t*t+e*e)*r*r)/(2*r))]},o}function bo(){return po(go).scale(155.424).center([0,33.6442])}function mo(){return bo().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function yo(){var t,n,e,r,i,a,o=mo(),c=bo().rotate([154,0]).center([-2,58.5]).parallels([55,65]),f=bo().rotate([157,0]).center([-3,19.9]).parallels([8,18]),u={point:function(t,n){a=[t,n]}};function l(t){var n=t[0],o=t[1];return a=null,e.point(n,o),a||(r.point(n,o),a)||(i.point(n,o),a)}function s(){return t=n=null,l}return l.invert=function(t){var n=o.scale(),e=o.translate(),r=(t[0]-e[0])/n,i=(t[1]-e[1])/n;return(i>=.12&&i<.234&&r>=-.425&&r<-.214?c:i>=.166&&i<.234&&r>=-.214&&r<-.115?f:o).invert(t)},l.stream=function(e){return t&&n===e?t:(r=[o.stream(n=e),c.stream(e),f.stream(e)],i=r.length,t={point:function(t,n){for(var e=-1;++e<i;)r[e].point(t,n)},sphere:function(){for(var t=-1;++t<i;)r[t].sphere()},lineStart:function(){for(var t=-1;++t<i;)r[t].lineStart()},lineEnd:function(){for(var t=-1;++t<i;)r[t].lineEnd()},polygonStart:function(){for(var t=-1;++t<i;)r[t].polygonStart()},polygonEnd:function(){for(var t=-1;++t<i;)r[t].polygonEnd()}});var r,i},l.precision=function(t){return arguments.length?(o.precision(t),c.precision(t),f.precision(t),s()):o.precision()},l.scale=function(t){return arguments.length?(o.scale(t),c.scale(.35*t),f.scale(t),l.translate(o.translate())):o.scale()},l.translate=function(t){if(!arguments.length)return o.translate();var n=o.scale(),a=+t[0],l=+t[1];return e=o.translate(t).clipExtent([[a-.455*n,l-.238*n],[a+.455*n,l+.238*n]]).stream(u),r=c.translate([a-.307*n,l+.201*n]).clipExtent([[a-.425*n+Pr,l+.12*n+Pr],[a-.214*n-Pr,l+.234*n-Pr]]).stream(u),i=f.translate([a-.205*n,l+.212*n]).clipExtent([[a-.214*n+Pr,l+.166*n+Pr],[a-.115*n-Pr,l+.234*n-Pr]]).stream(u),s()},l.fitExtent=function(t,n){return eo(l,t,n)},l.fitSize=function(t,n){return ro(l,t,n)},l.fitWidth=function(t,n){return io(l,t,n)},l.fitHeight=function(t,n){return ao(l,t,n)},l.scale(1070)}function vo(t){return function(n,e){var r=Jr(n),i=Jr(e),a=t(r*i);return a===1/0?[2,0]:[a*i*ei(n),a*ei(e)]}}function wo(t){return function(n,e){var r=ii(n*n+e*e),i=t(r),a=ei(i),o=Jr(i);return[Qr(n*a,r*o),ci(r&&e*a/r)]}}var xo=vo((function(t){return ii(2/(1+t))}));function Mo(){return so(xo).scale(124.75).clipAngle(179.999)}xo.invert=wo((function(t){return 2*ci(t/2)}));var ko=vo((function(t){return(t=oi(t))&&t/ei(t)}));function $o(){return so(ko).scale(79.4188).clipAngle(179.999)}function _o(t,n){return[t,ti(ai((Hr+n)/2))]}function Ao(){return To(_o).scale(961/Yr)}function To(t){var n,e,r,i=so(t),a=i.center,o=i.scale,c=i.translate,f=i.clipExtent,u=null;function l(){var a=Br*o(),c=i(function(t){function n(n){return(n=t(n[0]*Xr,n[1]*Xr))[0]*=Vr,n[1]*=Vr,n}return t=Xa(t[0]*Xr,t[1]*Xr,t.length>2?t[2]*Xr:0),n.invert=function(n){return(n=t.invert(n[0]*Xr,n[1]*Xr))[0]*=Vr,n[1]*=Vr,n},n}(i.rotate()).invert([0,0]));return f(null==u?[[c[0]-a,c[1]-a],[c[0]+a,c[1]+a]]:t===_o?[[Math.max(c[0]-a,u),n],[Math.min(c[0]+a,e),r]]:[[u,Math.max(c[1]-a,n)],[e,Math.min(c[1]+a,r)]])}return i.scale=function(t){return arguments.length?(o(t),l()):o()},i.translate=function(t){return arguments.length?(c(t),l()):c()},i.center=function(t){return arguments.length?(a(t),l()):a()},i.clipExtent=function(t){return arguments.length?(null==t?u=n=e=r=null:(u=+t[0][0],n=+t[0][1],e=+t[1][0],r=+t[1][1]),l()):null==u?null:[[u,n],[e,r]]},l()}function So(t){return ai((Hr+t)/2)}function Eo(t,n){var e=Jr(t),r=t===n?ei(t):ti(e/Jr(n))/ti(So(n)/So(t)),i=e*ni(So(t),r)/r;if(!r)return _o;function a(t,n){i>0?n<-Hr+Pr&&(n=-Hr+Pr):n>Hr-Pr&&(n=Hr-Pr);var e=i/ni(So(n),r);return[e*ei(r*t),i-e*Jr(r*t)]}return a.invert=function(t,n){var e=i-n,a=ri(r)*ii(t*t+e*e),o=Qr(t,Zr(e))*ri(e);return e*r<0&&(o-=Br*ri(t)*ri(e)),[o/r,2*Gr(ni(i/a,1/r))-Hr]},a}function No(){return po(Eo).scale(109.5).parallels([30,30])}function Lo(t,n){return[t,n]}function Co(){return so(Lo).scale(152.63)}function Do(t,n){var e=Jr(t),r=t===n?ei(t):(e-Jr(n))/(n-t),i=e/r+t;if(Zr(r)<Pr)return Lo;function a(t,n){var e=i-n,a=r*t;return[e*ei(a),i-e*Jr(a)]}return a.invert=function(t,n){var e=i-n,a=Qr(t,Zr(e))*ri(e);return e*r<0&&(a-=Br*ri(t)*ri(e)),[a/r,i-ri(r)*ii(t*t+e*e)]},a}function Oo(){return po(Do).scale(131.154).center([0,13.9389])}ko.invert=wo((function(t){return t})),_o.invert=function(t,n){return[t,2*Gr(Kr(n))-Hr]},Lo.invert=Lo;var Fo=1.340264,Ro=-.081106,zo=893e-6,Uo=.003796,jo=ii(3)/2;function Io(t,n){var e=ci(jo*ei(n)),r=e*e,i=r*r*r;return[t*Jr(e)/(jo*(Fo+3*Ro*r+i*(7*zo+9*Uo*r))),e*(Fo+Ro*r+i*(zo+Uo*r))]}function Po(){return so(Io).scale(177.158)}function qo(t,n){var e=Jr(n),r=Jr(t)*e;return[e*ei(t)/r,ei(n)/r]}function Bo(){return so(qo).scale(144.049).clipAngle(60)}function Ho(t,n){return[Jr(n)*ei(t),ei(n)]}function Wo(){return so(Ho).scale(249.5).clipAngle(90+Pr)}function Yo(t,n){var e=Jr(n),r=1+Jr(t)*e;return[e*ei(t)/r,ei(n)/r]}function Vo(){return so(Yo).scale(250).clipAngle(142)}function Xo(t,n){return[ti(ai((Hr+n)/2)),-t]}function Zo(){var t=To(Xo),n=t.center,e=t.rotate;return t.center=function(t){return arguments.length?n([-t[1],t[0]]):[(t=n())[1],-t[0]]},t.rotate=function(t){return arguments.length?e([t[0],t[1],t.length>2?t[2]+90:90]):[(t=e())[0],t[1],t[2]-90]},e([0,0,90]).scale(159.155)}function Go(t,n){return t=+t,n=+n,function(e){return Math.round(t*(1-e)+n*e)}}function Qo(t){return function(n,e){var r=t((n=Re(n)).h,(e=Re(e)).h),i=Ye(n.s,e.s),a=Ye(n.l,e.l),o=Ye(n.opacity,e.opacity);return function(t){return n.h=r(t),n.s=i(t),n.l=a(t),n.opacity=o(t),n+""}}}Io.invert=function(t,n){for(var e,r=n,i=r*r,a=i*i*i,o=0;o<12&&(a=(i=(r-=e=(r*(Fo+Ro*i+a*(zo+Uo*i))-n)/(Fo+3*Ro*i+a*(7*zo+9*Uo*i)))*r)*i*i,!(Zr(e)<qr));++o);return[jo*t*(Fo+3*Ro*i+a*(7*zo+9*Uo*i))/Jr(r),ci(ei(r)/jo)]},qo.invert=wo(Gr),Ho.invert=wo(ci),Yo.invert=wo((function(t){return 2*Gr(t)})),Xo.invert=function(t,n){return[-n,2*Gr(Kr(t))-Hr]};var Jo=Qo(He);Qo(Ye);const Ko=Math.PI/180,tc=180/Math.PI,nc=.96422,ec=.82521,rc=4/29,ic=6/29,ac=3*ic*ic,oc=ic*ic*ic;function cc(t){if(t instanceof uc)return new uc(t.l,t.a,t.b,t.opacity);if(t instanceof bc)return mc(t);t instanceof Se||(t=Ae(t));var n,e,r=hc(t.r),i=hc(t.g),a=hc(t.b),o=lc((.2225045*r+.7168786*i+.0606169*a)/1);return r===i&&i===a?n=e=o:(n=lc((.4360747*r+.3850649*i+.1430804*a)/nc),e=lc((.0139322*r+.0971045*i+.7141733*a)/ec)),new uc(116*o-16,500*(n-o),200*(o-e),t.opacity)}function fc(t,n,e,r){return 1===arguments.length?cc(t):new uc(t,n,e,null==r?1:r)}function uc(t,n,e,r){this.l=+t,this.a=+n,this.b=+e,this.opacity=+r}function lc(t){return t>oc?Math.pow(t,1/3):t/ac+rc}function sc(t){return t>ic?t*t*t:ac*(t-rc)}function dc(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function hc(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function pc(t){if(t instanceof bc)return new bc(t.h,t.c,t.l,t.opacity);if(t instanceof uc||(t=cc(t)),0===t.a&&0===t.b)return new bc(NaN,0<t.l&&t.l<100?0:NaN,t.l,t.opacity);var n=Math.atan2(t.b,t.a)*tc;return new bc(n<0?n+360:n,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}function gc(t,n,e,r){return 1===arguments.length?pc(t):new bc(t,n,e,null==r?1:r)}function bc(t,n,e,r){this.h=+t,this.c=+n,this.l=+e,this.opacity=+r}function mc(t){if(isNaN(t.h))return new uc(t.l,0,0,t.opacity);var n=t.h*Ko;return new uc(t.l,Math.cos(n)*t.c,Math.sin(n)*t.c,t.opacity)}function yc(t){return function(n,e){var r=t((n=gc(n)).h,(e=gc(e)).h),i=Ye(n.c,e.c),a=Ye(n.l,e.l),o=Ye(n.opacity,e.opacity);return function(t){return n.h=r(t),n.c=i(t),n.l=a(t),n.opacity=o(t),n+""}}}ae(uc,fc,oe(ce,{brighter(t){return new uc(this.l+18*(null==t?1:t),this.a,this.b,this.opacity)},darker(t){return new uc(this.l-18*(null==t?1:t),this.a,this.b,this.opacity)},rgb(){var t=(this.l+16)/116,n=isNaN(this.a)?t:t+this.a/500,e=isNaN(this.b)?t:t-this.b/200;return new Se(dc(3.1338561*(n=nc*sc(n))-1.6168667*(t=1*sc(t))-.4906146*(e=ec*sc(e))),dc(-.9787684*n+1.9161415*t+.033454*e),dc(.0719453*n-.2289914*t+1.4052427*e),this.opacity)}})),ae(bc,gc,oe(ce,{brighter(t){return new bc(this.h,this.c,this.l+18*(null==t?1:t),this.opacity)},darker(t){return new bc(this.h,this.c,this.l-18*(null==t?1:t),this.opacity)},rgb(){return mc(this).rgb()}}));var vc=yc(He);yc(Ye);function wc(t,n){var e,r=n?n.length:0,i=t?Math.min(r,t.length):0,a=new Array(i),o=new Array(r);for(e=0;e<i;++e)a[e]=$c(t[e],n[e]);for(;e<r;++e)o[e]=n[e];return function(t){for(e=0;e<i;++e)o[e]=a[e](t);return o}}function xc(t,n){var e=new Date;return t=+t,n=+n,function(r){return e.setTime(t*(1-r)+n*r),e}}function Mc(t,n){var e,r={},i={};for(e in null!==t&&"object"==typeof t||(t={}),null!==n&&"object"==typeof n||(n={}),n)e in t?r[e]=$c(t[e],n[e]):i[e]=n[e];return function(t){for(e in r)i[e]=r[e](t);return i}}function kc(t,n){n||(n=[]);var e,r=t?Math.min(n.length,t.length):0,i=n.slice();return function(a){for(e=0;e<r;++e)i[e]=t[e]*(1-a)+n[e]*a;return i}}function $c(t,n){var e,r,i=typeof n;return null==n||"boolean"===i?qe(n):("number"===i?Xn:"string"===i?(e=ke(n))?(n=e,Ve):Je:n instanceof ke?Ve:n instanceof Date?xc:(r=n,!ArrayBuffer.isView(r)||r instanceof DataView?Array.isArray(n)?wc:"function"!=typeof n.valueOf&&"function"!=typeof n.toString||isNaN(n)?Mc:Xn:kc))(t,n)}function _c(t,n){void 0===n&&(n=t,t=$c);for(var e=0,r=n.length-1,i=n[0],a=new Array(r<0?0:r);e<r;)a[e]=t(i,i=n[++e]);return function(t){var n=Math.max(0,Math.min(r-1,Math.floor(t*=r)));return a[n](t-n)}}function Ac(t,n){for(var e=new Array(n),r=0;r<n;++r)e[r]=t(r/(n-1));return e}const Tc=Math.PI,Sc=2*Tc,Ec=1e-6,Nc=Sc-Ec;function Lc(t){this._+=t[0];for(let n=1,e=t.length;n<e;++n)this._+=arguments[n]+t[n]}class Cc{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=null==t?Lc:function(t){let n=Math.floor(t);if(!(n>=0))throw new Error(`invalid digits: ${t}`);if(n>15)return Lc;const e=10**n;return function(t){this._+=t[0];for(let n=1,r=t.length;n<r;++n)this._+=Math.round(arguments[n]*e)/e+t[n]}}(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,e,r){this._append`Q${+t},${+n},${this._x1=+e},${this._y1=+r}`}bezierCurveTo(t,n,e,r,i,a){this._append`C${+t},${+n},${+e},${+r},${this._x1=+i},${this._y1=+a}`}arcTo(t,n,e,r,i){if(t=+t,n=+n,e=+e,r=+r,(i=+i)<0)throw new Error(`negative radius: ${i}`);let a=this._x1,o=this._y1,c=e-t,f=r-n,u=a-t,l=o-n,s=u*u+l*l;if(null===this._x1)this._append`M${this._x1=t},${this._y1=n}`;else if(s>Ec)if(Math.abs(l*c-f*u)>Ec&&i){let d=e-a,h=r-o,p=c*c+f*f,g=d*d+h*h,b=Math.sqrt(p),m=Math.sqrt(s),y=i*Math.tan((Tc-Math.acos((p+s-g)/(2*b*m)))/2),v=y/m,w=y/b;Math.abs(v-1)>Ec&&this._append`L${t+v*u},${n+v*l}`,this._append`A${i},${i},0,0,${+(l*d>u*h)},${this._x1=t+w*c},${this._y1=n+w*f}`}else this._append`L${this._x1=t},${this._y1=n}`;else;}arc(t,n,e,r,i,a){if(t=+t,n=+n,a=!!a,(e=+e)<0)throw new Error(`negative radius: ${e}`);let o=e*Math.cos(r),c=e*Math.sin(r),f=t+o,u=n+c,l=1^a,s=a?r-i:i-r;null===this._x1?this._append`M${f},${u}`:(Math.abs(this._x1-f)>Ec||Math.abs(this._y1-u)>Ec)&&this._append`L${f},${u}`,e&&(s<0&&(s=s%Sc+Sc),s>Nc?this._append`A${e},${e},0,1,${l},${t-o},${n-c}A${e},${e},0,1,${l},${this._x1=f},${this._y1=u}`:s>Ec&&this._append`A${e},${e},0,${+(s>=Tc)},${l},${this._x1=t+e*Math.cos(i)},${this._y1=n+e*Math.sin(i)}`)}rect(t,n,e,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${e=+e}v${+r}h${-e}Z`}toString(){return this._}}function Dc(t=3){return new Cc(+t)}function Oc(t,n){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(n).domain(t)}return this}function Fc(t,n){switch(arguments.length){case 0:break;case 1:"function"==typeof t?this.interpolator(t):this.range(t);break;default:this.domain(t),"function"==typeof n?this.interpolator(n):this.range(n)}return this}const Rc=Symbol("implicit");function zc(){var t=new h,n=[],e=[],r=Rc;function i(i){let a=t.get(i);if(void 0===a){if(r!==Rc)return r;t.set(i,a=n.push(i)-1)}return e[a%e.length]}return i.domain=function(e){if(!arguments.length)return n.slice();n=[],t=new h;for(const r of e)t.has(r)||t.set(r,n.push(r)-1);return i},i.range=function(t){return arguments.length?(e=Array.from(t),i):e.slice()},i.unknown=function(t){return arguments.length?(r=t,i):r},i.copy=function(){return zc(n,e).unknown(r)},Oc.apply(i,arguments),i}function Uc(){var t,n,e=zc().unknown(void 0),r=e.domain,i=e.range,a=0,o=1,c=!1,f=0,u=0,l=.5;function s(){var e=r().length,s=o<a,d=s?o:a,h=s?a:o;t=(h-d)/Math.max(1,e-f+2*u),c&&(t=Math.floor(t)),d+=(h-d-t*(e-f))*l,n=t*(1-f),c&&(d=Math.round(d),n=Math.round(n));var p=j(e).map((function(n){return d+t*n}));return i(s?p.reverse():p)}return delete e.unknown,e.domain=function(t){return arguments.length?(r(t),s()):r()},e.range=function(t){return arguments.length?([a,o]=t,a=+a,o=+o,s()):[a,o]},e.rangeRound=function(t){return[a,o]=t,a=+a,o=+o,c=!0,s()},e.bandwidth=function(){return n},e.step=function(){return t},e.round=function(t){return arguments.length?(c=!!t,s()):c},e.padding=function(t){return arguments.length?(f=Math.min(1,u=+t),s()):f},e.paddingInner=function(t){return arguments.length?(f=Math.min(1,t),s()):f},e.paddingOuter=function(t){return arguments.length?(u=+t,s()):u},e.align=function(t){return arguments.length?(l=Math.max(0,Math.min(1,t)),s()):l},e.copy=function(){return Uc(r(),[a,o]).round(c).paddingInner(f).paddingOuter(u).align(l)},Oc.apply(s(),arguments)}function jc(t){var n=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return jc(n())},t}function Ic(){return jc(Uc.apply(null,arguments).paddingInner(1))}const Pc=a(r),qc=Pc.right;Pc.left,a(C).center;var Bc=qc;function Hc(t){return+t}var Wc=[0,1];function Yc(t){return t}function Vc(t,n){return(n-=t=+t)?function(e){return(e-t)/n}:(e=isNaN(n)?NaN:.5,function(){return e});var e}function Xc(t,n,e){var r=t[0],i=t[1],a=n[0],o=n[1];return i<r?(r=Vc(i,r),a=e(o,a)):(r=Vc(r,i),a=e(a,o)),function(t){return a(r(t))}}function Zc(t,n,e){var r=Math.min(t.length,n.length)-1,i=new Array(r),a=new Array(r),o=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),n=n.slice().reverse());++o<r;)i[o]=Vc(t[o],t[o+1]),a[o]=e(n[o],n[o+1]);return function(n){var e=Bc(t,n,1,r)-1;return a[e](i[e](n))}}function Gc(t,n){return n.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Qc(){var t,n,e,r,i,a,o=Wc,c=Wc,f=$c,u=Yc;function l(){var t=Math.min(o.length,c.length);return u!==Yc&&(u=function(t,n){var e;return t>n&&(e=t,t=n,n=e),function(e){return Math.max(t,Math.min(n,e))}}(o[0],o[t-1])),r=t>2?Zc:Xc,i=a=null,s}function s(n){return null==n||isNaN(n=+n)?e:(i||(i=r(o.map(t),c,f)))(t(u(n)))}return s.invert=function(e){return u(n((a||(a=r(c,o.map(t),Xn)))(e)))},s.domain=function(t){return arguments.length?(o=Array.from(t,Hc),l()):o.slice()},s.range=function(t){return arguments.length?(c=Array.from(t),l()):c.slice()},s.rangeRound=function(t){return c=Array.from(t),f=Go,l()},s.clamp=function(t){return arguments.length?(u=!!t||Yc,l()):u!==Yc},s.interpolate=function(t){return arguments.length?(f=t,l()):f},s.unknown=function(t){return arguments.length?(e=t,s):e},function(e,r){return t=e,n=r,l()}}function Jc(){return Qc()(Yc,Yc)}function Kc(t,n,e,r){var i,a=V(t,n,e);switch((r=Nr(null==r?",f":r)).type){case"s":var o=Math.max(Math.abs(t),Math.abs(n));return null!=r.precision||isNaN(i=function(t,n){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(Tr(n)/3)))-Tr(Math.abs(t)))}(a,o))||(r.precision=i),zr(r,o);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(i=function(t,n){return t=Math.abs(t),n=Math.abs(n)-t,Math.max(0,Tr(n)-Tr(t))+1}(a,Math.max(Math.abs(t),Math.abs(n))))||(r.precision=i-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(i=function(t){return Math.max(0,-Tr(Math.abs(t)))}(a))||(r.precision=i-2*("%"===r.type))}return Rr(r)}function tf(t){var n=t.domain;return t.ticks=function(t){var e=n();return W(e[0],e[e.length-1],null==t?10:t)},t.tickFormat=function(t,e){var r=n();return Kc(r[0],r[r.length-1],null==t?10:t,e)},t.nice=function(e){null==e&&(e=10);var r,i,a=n(),o=0,c=a.length-1,f=a[o],u=a[c],l=10;for(u<f&&(i=f,f=u,u=i,i=o,o=c,c=i);l-- >0;){if((i=Y(f,u,e))===r)return a[o]=f,a[c]=u,n(a);if(i>0)f=Math.floor(f/i)*i,u=Math.ceil(u/i)*i;else{if(!(i<0))break;f=Math.ceil(f*i)/i,u=Math.floor(u*i)/i}r=i}return t},t}function nf(){var t=Jc();return t.copy=function(){return Gc(t,nf())},Oc.apply(t,arguments),tf(t)}function ef(t){var n;function e(t){return null==t||isNaN(t=+t)?n:t}return e.invert=e,e.domain=e.range=function(n){return arguments.length?(t=Array.from(n,Hc),e):t.slice()},e.unknown=function(t){return arguments.length?(n=t,e):n},e.copy=function(){return ef(t).unknown(n)},t=arguments.length?Array.from(t,Hc):[0,1],tf(e)}function rf(t,n){var e,r=0,i=(t=t.slice()).length-1,a=t[r],o=t[i];return o<a&&(e=r,r=i,i=e,e=a,a=o,o=e),t[r]=n.floor(a),t[i]=n.ceil(o),t}function af(t){return Math.log(t)}function of(t){return Math.exp(t)}function cf(t){return-Math.log(-t)}function ff(t){return-Math.exp(-t)}function uf(t){return isFinite(t)?+("1e"+t):t<0?0:t}function lf(t){return(n,e)=>-t(-n,e)}function sf(t){const n=t(af,of),e=n.domain;let r,i,a=10;function o(){return r=function(t){return t===Math.E?Math.log:10===t&&Math.log10||2===t&&Math.log2||(t=Math.log(t),n=>Math.log(n)/t)}(a),i=function(t){return 10===t?uf:t===Math.E?Math.exp:n=>Math.pow(t,n)}(a),e()[0]<0?(r=lf(r),i=lf(i),t(cf,ff)):t(af,of),n}return n.base=function(t){return arguments.length?(a=+t,o()):a},n.domain=function(t){return arguments.length?(e(t),o()):e()},n.ticks=t=>{const n=e();let o=n[0],c=n[n.length-1];const f=c<o;f&&([o,c]=[c,o]);let u,l,s=r(o),d=r(c);const h=null==t?10:+t;let p=[];if(!(a%1)&&d-s<h){if(s=Math.floor(s),d=Math.ceil(d),o>0){for(;s<=d;++s)for(u=1;u<a;++u)if(l=s<0?u/i(-s):u*i(s),!(l<o)){if(l>c)break;p.push(l)}}else for(;s<=d;++s)for(u=a-1;u>=1;--u)if(l=s>0?u/i(-s):u*i(s),!(l<o)){if(l>c)break;p.push(l)}2*p.length<h&&(p=W(o,c,h))}else p=W(s,d,Math.min(d-s,h)).map(i);return f?p.reverse():p},n.tickFormat=(t,e)=>{if(null==t&&(t=10),null==e&&(e=10===a?"s":","),"function"!=typeof e&&(a%1||null!=(e=Nr(e)).precision||(e.trim=!0),e=Rr(e)),t===1/0)return e;const o=Math.max(1,a*t/n.ticks().length);return t=>{let n=t/i(Math.round(r(t)));return n*a<a-.5&&(n*=a),n<=o?e(t):""}},n.nice=()=>e(rf(e(),{floor:t=>i(Math.floor(r(t))),ceil:t=>i(Math.ceil(r(t)))})),n}function df(){const t=sf(Qc()).domain([1,10]);return t.copy=()=>Gc(t,df()).base(t.base()),Oc.apply(t,arguments),t}function hf(t){return function(n){return Math.sign(n)*Math.log1p(Math.abs(n/t))}}function pf(t){return function(n){return Math.sign(n)*Math.expm1(Math.abs(n))*t}}function gf(t){var n=1,e=t(hf(n),pf(n));return e.constant=function(e){return arguments.length?t(hf(n=+e),pf(n)):n},tf(e)}function bf(){var t=gf(Qc());return t.copy=function(){return Gc(t,bf()).constant(t.constant())},Oc.apply(t,arguments)}function mf(t){return function(n){return n<0?-Math.pow(-n,t):Math.pow(n,t)}}function yf(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function vf(t){return t<0?-t*t:t*t}function wf(t){var n=t(Yc,Yc),e=1;return n.exponent=function(n){return arguments.length?1===(e=+n)?t(Yc,Yc):.5===e?t(yf,vf):t(mf(e),mf(1/e)):e},tf(n)}function xf(){var t=wf(Qc());return t.copy=function(){return Gc(t,xf()).exponent(t.exponent())},Oc.apply(t,arguments),t}function Mf(){var t,n=[],e=[],i=[];function a(){var t=0,r=Math.max(1,e.length);for(i=new Array(r-1);++t<r;)i[t-1]=O(n,t/r);return o}function o(n){return null==n||isNaN(n=+n)?t:e[Bc(i,n)]}return o.invertExtent=function(t){var r=e.indexOf(t);return r<0?[NaN,NaN]:[r>0?i[r-1]:n[0],r<i.length?i[r]:n[n.length-1]]},o.domain=function(t){if(!arguments.length)return n.slice();n=[];for(let e of t)null==e||isNaN(e=+e)||n.push(e);return n.sort(r),a()},o.range=function(t){return arguments.length?(e=Array.from(t),a()):e.slice()},o.unknown=function(n){return arguments.length?(t=n,o):t},o.quantiles=function(){return i.slice()},o.copy=function(){return Mf().domain(n).range(e).unknown(t)},Oc.apply(o,arguments)}function kf(){var t,n=[.5],e=[0,1],r=1;function i(i){return null!=i&&i<=i?e[Bc(n,i,0,r)]:t}return i.domain=function(t){return arguments.length?(n=Array.from(t),r=Math.min(n.length,e.length-1),i):n.slice()},i.range=function(t){return arguments.length?(e=Array.from(t),r=Math.min(n.length,e.length-1),i):e.slice()},i.invertExtent=function(t){var r=e.indexOf(t);return[n[r-1],n[r]]},i.unknown=function(n){return arguments.length?(t=n,i):t},i.copy=function(){return kf().domain(n).range(e).unknown(t)},Oc.apply(i,arguments)}const $f=1e3,_f=6e4,Af=36e5,Tf=864e5,Sf=6048e5,Ef=2592e6,Nf=31536e6,Lf=new Date,Cf=new Date;function Df(t,n,e,r){function i(n){return t(n=0===arguments.length?new Date:new Date(+n)),n}return i.floor=n=>(t(n=new Date(+n)),n),i.ceil=e=>(t(e=new Date(e-1)),n(e,1),t(e),e),i.round=t=>{const n=i(t),e=i.ceil(t);return t-n<e-t?n:e},i.offset=(t,e)=>(n(t=new Date(+t),null==e?1:Math.floor(e)),t),i.range=(e,r,a)=>{const o=[];if(e=i.ceil(e),a=null==a?1:Math.floor(a),!(e<r&&a>0))return o;let c;do{o.push(c=new Date(+e)),n(e,a),t(e)}while(c<e&&e<r);return o},i.filter=e=>Df((n=>{if(n>=n)for(;t(n),!e(n);)n.setTime(n-1)}),((t,r)=>{if(t>=t)if(r<0)for(;++r<=0;)for(;n(t,-1),!e(t););else for(;--r>=0;)for(;n(t,1),!e(t););})),e&&(i.count=(n,r)=>(Lf.setTime(+n),Cf.setTime(+r),t(Lf),t(Cf),Math.floor(e(Lf,Cf))),i.every=t=>(t=Math.floor(t),isFinite(t)&&t>0?t>1?i.filter(r?n=>r(n)%t==0:n=>i.count(0,n)%t==0):i:null)),i}const Of=Df((()=>{}),((t,n)=>{t.setTime(+t+n)}),((t,n)=>n-t));Of.every=t=>(t=Math.floor(t),isFinite(t)&&t>0?t>1?Df((n=>{n.setTime(Math.floor(n/t)*t)}),((n,e)=>{n.setTime(+n+e*t)}),((n,e)=>(e-n)/t)):Of:null);Of.range;const Ff=Df((t=>{t.setTime(t-t.getMilliseconds())}),((t,n)=>{t.setTime(+t+n*$f)}),((t,n)=>(n-t)/$f),(t=>t.getUTCSeconds())),Rf=(Ff.range,Df((t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*$f)}),((t,n)=>{t.setTime(+t+n*_f)}),((t,n)=>(n-t)/_f),(t=>t.getMinutes()))),zf=(Rf.range,Df((t=>{t.setUTCSeconds(0,0)}),((t,n)=>{t.setTime(+t+n*_f)}),((t,n)=>(n-t)/_f),(t=>t.getUTCMinutes()))),Uf=(zf.range,Df((t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*$f-t.getMinutes()*_f)}),((t,n)=>{t.setTime(+t+n*Af)}),((t,n)=>(n-t)/Af),(t=>t.getHours()))),jf=(Uf.range,Df((t=>{t.setUTCMinutes(0,0,0)}),((t,n)=>{t.setTime(+t+n*Af)}),((t,n)=>(n-t)/Af),(t=>t.getUTCHours()))),If=(jf.range,Df((t=>t.setHours(0,0,0,0)),((t,n)=>t.setDate(t.getDate()+n)),((t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*_f)/Tf),(t=>t.getDate()-1))),Pf=(If.range,Df((t=>{t.setUTCHours(0,0,0,0)}),((t,n)=>{t.setUTCDate(t.getUTCDate()+n)}),((t,n)=>(n-t)/Tf),(t=>t.getUTCDate()-1))),qf=(Pf.range,Df((t=>{t.setUTCHours(0,0,0,0)}),((t,n)=>{t.setUTCDate(t.getUTCDate()+n)}),((t,n)=>(n-t)/Tf),(t=>Math.floor(t/Tf))));qf.range;function Bf(t){return Df((n=>{n.setDate(n.getDate()-(n.getDay()+7-t)%7),n.setHours(0,0,0,0)}),((t,n)=>{t.setDate(t.getDate()+7*n)}),((t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*_f)/Sf))}const Hf=Bf(0),Wf=Bf(1),Yf=Bf(2),Vf=Bf(3),Xf=Bf(4),Zf=Bf(5),Gf=Bf(6);Hf.range,Wf.range,Yf.range,Vf.range,Xf.range,Zf.range,Gf.range;function Qf(t){return Df((n=>{n.setUTCDate(n.getUTCDate()-(n.getUTCDay()+7-t)%7),n.setUTCHours(0,0,0,0)}),((t,n)=>{t.setUTCDate(t.getUTCDate()+7*n)}),((t,n)=>(n-t)/Sf))}const Jf=Qf(0),Kf=Qf(1),tu=Qf(2),nu=Qf(3),eu=Qf(4),ru=Qf(5),iu=Qf(6),au=(Jf.range,Kf.range,tu.range,nu.range,eu.range,ru.range,iu.range,Df((t=>{t.setDate(1),t.setHours(0,0,0,0)}),((t,n)=>{t.setMonth(t.getMonth()+n)}),((t,n)=>n.getMonth()-t.getMonth()+12*(n.getFullYear()-t.getFullYear())),(t=>t.getMonth()))),ou=(au.range,Df((t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)}),((t,n)=>{t.setUTCMonth(t.getUTCMonth()+n)}),((t,n)=>n.getUTCMonth()-t.getUTCMonth()+12*(n.getUTCFullYear()-t.getUTCFullYear())),(t=>t.getUTCMonth()))),cu=(ou.range,Df((t=>{t.setMonth(0,1),t.setHours(0,0,0,0)}),((t,n)=>{t.setFullYear(t.getFullYear()+n)}),((t,n)=>n.getFullYear()-t.getFullYear()),(t=>t.getFullYear())));cu.every=t=>isFinite(t=Math.floor(t))&&t>0?Df((n=>{n.setFullYear(Math.floor(n.getFullYear()/t)*t),n.setMonth(0,1),n.setHours(0,0,0,0)}),((n,e)=>{n.setFullYear(n.getFullYear()+e*t)})):null;cu.range;const fu=Df((t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)}),((t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n)}),((t,n)=>n.getUTCFullYear()-t.getUTCFullYear()),(t=>t.getUTCFullYear()));fu.every=t=>isFinite(t=Math.floor(t))&&t>0?Df((n=>{n.setUTCFullYear(Math.floor(n.getUTCFullYear()/t)*t),n.setUTCMonth(0,1),n.setUTCHours(0,0,0,0)}),((n,e)=>{n.setUTCFullYear(n.getUTCFullYear()+e*t)})):null;fu.range;function uu(t,n,e,r,i,o){const c=[[Ff,1,$f],[Ff,5,5e3],[Ff,15,15e3],[Ff,30,3e4],[o,1,_f],[o,5,3e5],[o,15,9e5],[o,30,18e5],[i,1,Af],[i,3,108e5],[i,6,216e5],[i,12,432e5],[r,1,Tf],[r,2,1728e5],[e,1,Sf],[n,1,Ef],[n,3,7776e6],[t,1,Nf]];function f(n,e,r){const i=Math.abs(e-n)/r,o=a((([,,t])=>t)).right(c,i);if(o===c.length)return t.every(V(n/Nf,e/Nf,r));if(0===o)return Of.every(Math.max(V(n,e,r),1));const[f,u]=c[i/c[o-1][2]<c[o][2]/i?o-1:o];return f.every(u)}return[function(t,n,e){const r=n<t;r&&([t,n]=[n,t]);const i=e&&"function"==typeof e.range?e:f(t,n,e),a=i?i.range(t,+n+1):[];return r?a.reverse():a},f]}const[lu,su]=uu(fu,ou,Jf,qf,jf,zf),[du,hu]=uu(cu,au,Hf,If,Uf,Rf);function pu(t){if(0<=t.y&&t.y<100){var n=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return n.setFullYear(t.y),n}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function gu(t){if(0<=t.y&&t.y<100){var n=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return n.setUTCFullYear(t.y),n}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function bu(t,n,e){return{y:t,m:n,d:e,H:0,M:0,S:0,L:0}}var mu,yu,vu,wu={"-":"",_:" ",0:"0"},xu=/^\s*\d+/,Mu=/^%/,ku=/[\\^$*+?|[\]().{}]/g;function $u(t,n,e){var r=t<0?"-":"",i=(r?-t:t)+"",a=i.length;return r+(a<e?new Array(e-a+1).join(n)+i:i)}function _u(t){return t.replace(ku,"\\$&")}function Au(t){return new RegExp("^(?:"+t.map(_u).join("|")+")","i")}function Tu(t){return new Map(t.map(((t,n)=>[t.toLowerCase(),n])))}function Su(t,n,e){var r=xu.exec(n.slice(e,e+1));return r?(t.w=+r[0],e+r[0].length):-1}function Eu(t,n,e){var r=xu.exec(n.slice(e,e+1));return r?(t.u=+r[0],e+r[0].length):-1}function Nu(t,n,e){var r=xu.exec(n.slice(e,e+2));return r?(t.U=+r[0],e+r[0].length):-1}function Lu(t,n,e){var r=xu.exec(n.slice(e,e+2));return r?(t.V=+r[0],e+r[0].length):-1}function Cu(t,n,e){var r=xu.exec(n.slice(e,e+2));return r?(t.W=+r[0],e+r[0].length):-1}function Du(t,n,e){var r=xu.exec(n.slice(e,e+4));return r?(t.y=+r[0],e+r[0].length):-1}function Ou(t,n,e){var r=xu.exec(n.slice(e,e+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),e+r[0].length):-1}function Fu(t,n,e){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(n.slice(e,e+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),e+r[0].length):-1}function Ru(t,n,e){var r=xu.exec(n.slice(e,e+1));return r?(t.q=3*r[0]-3,e+r[0].length):-1}function zu(t,n,e){var r=xu.exec(n.slice(e,e+2));return r?(t.m=r[0]-1,e+r[0].length):-1}function Uu(t,n,e){var r=xu.exec(n.slice(e,e+2));return r?(t.d=+r[0],e+r[0].length):-1}function ju(t,n,e){var r=xu.exec(n.slice(e,e+3));return r?(t.m=0,t.d=+r[0],e+r[0].length):-1}function Iu(t,n,e){var r=xu.exec(n.slice(e,e+2));return r?(t.H=+r[0],e+r[0].length):-1}function Pu(t,n,e){var r=xu.exec(n.slice(e,e+2));return r?(t.M=+r[0],e+r[0].length):-1}function qu(t,n,e){var r=xu.exec(n.slice(e,e+2));return r?(t.S=+r[0],e+r[0].length):-1}function Bu(t,n,e){var r=xu.exec(n.slice(e,e+3));return r?(t.L=+r[0],e+r[0].length):-1}function Hu(t,n,e){var r=xu.exec(n.slice(e,e+6));return r?(t.L=Math.floor(r[0]/1e3),e+r[0].length):-1}function Wu(t,n,e){var r=Mu.exec(n.slice(e,e+1));return r?e+r[0].length:-1}function Yu(t,n,e){var r=xu.exec(n.slice(e));return r?(t.Q=+r[0],e+r[0].length):-1}function Vu(t,n,e){var r=xu.exec(n.slice(e));return r?(t.s=+r[0],e+r[0].length):-1}function Xu(t,n){return $u(t.getDate(),n,2)}function Zu(t,n){return $u(t.getHours(),n,2)}function Gu(t,n){return $u(t.getHours()%12||12,n,2)}function Qu(t,n){return $u(1+If.count(cu(t),t),n,3)}function Ju(t,n){return $u(t.getMilliseconds(),n,3)}function Ku(t,n){return Ju(t,n)+"000"}function tl(t,n){return $u(t.getMonth()+1,n,2)}function nl(t,n){return $u(t.getMinutes(),n,2)}function el(t,n){return $u(t.getSeconds(),n,2)}function rl(t){var n=t.getDay();return 0===n?7:n}function il(t,n){return $u(Hf.count(cu(t)-1,t),n,2)}function al(t){var n=t.getDay();return n>=4||0===n?Xf(t):Xf.ceil(t)}function ol(t,n){return t=al(t),$u(Xf.count(cu(t),t)+(4===cu(t).getDay()),n,2)}function cl(t){return t.getDay()}function fl(t,n){return $u(Wf.count(cu(t)-1,t),n,2)}function ul(t,n){return $u(t.getFullYear()%100,n,2)}function ll(t,n){return $u((t=al(t)).getFullYear()%100,n,2)}function sl(t,n){return $u(t.getFullYear()%1e4,n,4)}function dl(t,n){var e=t.getDay();return $u((t=e>=4||0===e?Xf(t):Xf.ceil(t)).getFullYear()%1e4,n,4)}function hl(t){var n=t.getTimezoneOffset();return(n>0?"-":(n*=-1,"+"))+$u(n/60|0,"0",2)+$u(n%60,"0",2)}function pl(t,n){return $u(t.getUTCDate(),n,2)}function gl(t,n){return $u(t.getUTCHours(),n,2)}function bl(t,n){return $u(t.getUTCHours()%12||12,n,2)}function ml(t,n){return $u(1+Pf.count(fu(t),t),n,3)}function yl(t,n){return $u(t.getUTCMilliseconds(),n,3)}function vl(t,n){return yl(t,n)+"000"}function wl(t,n){return $u(t.getUTCMonth()+1,n,2)}function xl(t,n){return $u(t.getUTCMinutes(),n,2)}function Ml(t,n){return $u(t.getUTCSeconds(),n,2)}function kl(t){var n=t.getUTCDay();return 0===n?7:n}function $l(t,n){return $u(Jf.count(fu(t)-1,t),n,2)}function _l(t){var n=t.getUTCDay();return n>=4||0===n?eu(t):eu.ceil(t)}function Al(t,n){return t=_l(t),$u(eu.count(fu(t),t)+(4===fu(t).getUTCDay()),n,2)}function Tl(t){return t.getUTCDay()}function Sl(t,n){return $u(Kf.count(fu(t)-1,t),n,2)}function El(t,n){return $u(t.getUTCFullYear()%100,n,2)}function Nl(t,n){return $u((t=_l(t)).getUTCFullYear()%100,n,2)}function Ll(t,n){return $u(t.getUTCFullYear()%1e4,n,4)}function Cl(t,n){var e=t.getUTCDay();return $u((t=e>=4||0===e?eu(t):eu.ceil(t)).getUTCFullYear()%1e4,n,4)}function Dl(){return"+0000"}function Ol(){return"%"}function Fl(t){return+t}function Rl(t){return Math.floor(+t/1e3)}function zl(t){return new Date(t)}function Ul(t){return t instanceof Date?+t:+new Date(+t)}function jl(t,n,e,r,i,a,o,c,f,u){var l=Jc(),s=l.invert,d=l.domain,h=u(".%L"),p=u(":%S"),g=u("%I:%M"),b=u("%I %p"),m=u("%a %d"),y=u("%b %d"),v=u("%B"),w=u("%Y");function x(t){return(f(t)<t?h:c(t)<t?p:o(t)<t?g:a(t)<t?b:r(t)<t?i(t)<t?m:y:e(t)<t?v:w)(t)}return l.invert=function(t){return new Date(s(t))},l.domain=function(t){return arguments.length?d(Array.from(t,Ul)):d().map(zl)},l.ticks=function(n){var e=d();return t(e[0],e[e.length-1],null==n?10:n)},l.tickFormat=function(t,n){return null==n?x:u(n)},l.nice=function(t){var e=d();return t&&"function"==typeof t.range||(t=n(e[0],e[e.length-1],null==t?10:t)),t?d(rf(e,t)):l},l.copy=function(){return Gc(l,jl(t,n,e,r,i,a,o,c,f,u))},l}function Il(t,n){return n.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function Pl(){var t,n,e,r,i,a,o,c=0,f=.5,u=1,l=1,s=Yc,d=!1;function h(t){return isNaN(t=+t)?o:(t=.5+((t=+a(t))-n)*(l*t<l*n?r:i),s(d?Math.max(0,Math.min(1,t)):t))}function p(t){return function(n){var e,r,i;return arguments.length?([e,r,i]=n,s=_c(t,[e,r,i]),h):[s(0),s(.5),s(1)]}}return h.domain=function(o){return arguments.length?([c,f,u]=o,t=a(c=+c),n=a(f=+f),e=a(u=+u),r=t===n?0:.5/(n-t),i=n===e?0:.5/(e-n),l=n<t?-1:1,h):[c,f,u]},h.clamp=function(t){return arguments.length?(d=!!t,h):d},h.interpolator=function(t){return arguments.length?(s=t,h):s},h.range=p($c),h.rangeRound=p(Go),h.unknown=function(t){return arguments.length?(o=t,h):o},function(o){return a=o,t=o(c),n=o(f),e=o(u),r=t===n?0:.5/(n-t),i=n===e?0:.5/(e-n),l=n<t?-1:1,h}}function ql(){var t=tf(Pl()(Yc));return t.copy=function(){return Il(t,ql())},Fc.apply(t,arguments)}function Bl(){var t=sf(Pl()).domain([.1,1,10]);return t.copy=function(){return Il(t,Bl()).base(t.base())},Fc.apply(t,arguments)}function Hl(){var t=gf(Pl());return t.copy=function(){return Il(t,Hl()).constant(t.constant())},Fc.apply(t,arguments)}function Wl(){var t=wf(Pl());return t.copy=function(){return Il(t,Wl()).exponent(t.exponent())},Fc.apply(t,arguments)}function Yl(t){for(var n=t.length/6|0,e=new Array(n),r=0;r<n;)e[r]="#"+t.slice(6*r,6*++r);return e}!function(t){mu=function(t){var n=t.dateTime,e=t.date,r=t.time,i=t.periods,a=t.days,o=t.shortDays,c=t.months,f=t.shortMonths,u=Au(i),l=Tu(i),s=Au(a),d=Tu(a),h=Au(o),p=Tu(o),g=Au(c),b=Tu(c),m=Au(f),y=Tu(f),v={a:function(t){return o[t.getDay()]},A:function(t){return a[t.getDay()]},b:function(t){return f[t.getMonth()]},B:function(t){return c[t.getMonth()]},c:null,d:Xu,e:Xu,f:Ku,g:ll,G:dl,H:Zu,I:Gu,j:Qu,L:Ju,m:tl,M:nl,p:function(t){return i[+(t.getHours()>=12)]},q:function(t){return 1+~~(t.getMonth()/3)},Q:Fl,s:Rl,S:el,u:rl,U:il,V:ol,w:cl,W:fl,x:null,X:null,y:ul,Y:sl,Z:hl,"%":Ol},w={a:function(t){return o[t.getUTCDay()]},A:function(t){return a[t.getUTCDay()]},b:function(t){return f[t.getUTCMonth()]},B:function(t){return c[t.getUTCMonth()]},c:null,d:pl,e:pl,f:vl,g:Nl,G:Cl,H:gl,I:bl,j:ml,L:yl,m:wl,M:xl,p:function(t){return i[+(t.getUTCHours()>=12)]},q:function(t){return 1+~~(t.getUTCMonth()/3)},Q:Fl,s:Rl,S:Ml,u:kl,U:$l,V:Al,w:Tl,W:Sl,x:null,X:null,y:El,Y:Ll,Z:Dl,"%":Ol},x={a:function(t,n,e){var r=h.exec(n.slice(e));return r?(t.w=p.get(r[0].toLowerCase()),e+r[0].length):-1},A:function(t,n,e){var r=s.exec(n.slice(e));return r?(t.w=d.get(r[0].toLowerCase()),e+r[0].length):-1},b:function(t,n,e){var r=m.exec(n.slice(e));return r?(t.m=y.get(r[0].toLowerCase()),e+r[0].length):-1},B:function(t,n,e){var r=g.exec(n.slice(e));return r?(t.m=b.get(r[0].toLowerCase()),e+r[0].length):-1},c:function(t,e,r){return $(t,n,e,r)},d:Uu,e:Uu,f:Hu,g:Ou,G:Du,H:Iu,I:Iu,j:ju,L:Bu,m:zu,M:Pu,p:function(t,n,e){var r=u.exec(n.slice(e));return r?(t.p=l.get(r[0].toLowerCase()),e+r[0].length):-1},q:Ru,Q:Yu,s:Vu,S:qu,u:Eu,U:Nu,V:Lu,w:Su,W:Cu,x:function(t,n,r){return $(t,e,n,r)},X:function(t,n,e){return $(t,r,n,e)},y:Ou,Y:Du,Z:Fu,"%":Wu};function M(t,n){return function(e){var r,i,a,o=[],c=-1,f=0,u=t.length;for(e instanceof Date||(e=new Date(+e));++c<u;)37===t.charCodeAt(c)&&(o.push(t.slice(f,c)),null!=(i=wu[r=t.charAt(++c)])?r=t.charAt(++c):i="e"===r?" ":"0",(a=n[r])&&(r=a(e,i)),o.push(r),f=c+1);return o.push(t.slice(f,c)),o.join("")}}function k(t,n){return function(e){var r,i,a=bu(1900,void 0,1);if($(a,t,e+="",0)!=e.length)return null;if("Q"in a)return new Date(a.Q);if("s"in a)return new Date(1e3*a.s+("L"in a?a.L:0));if(n&&!("Z"in a)&&(a.Z=0),"p"in a&&(a.H=a.H%12+12*a.p),void 0===a.m&&(a.m="q"in a?a.q:0),"V"in a){if(a.V<1||a.V>53)return null;"w"in a||(a.w=1),"Z"in a?(i=(r=gu(bu(a.y,0,1))).getUTCDay(),r=i>4||0===i?Kf.ceil(r):Kf(r),r=Pf.offset(r,7*(a.V-1)),a.y=r.getUTCFullYear(),a.m=r.getUTCMonth(),a.d=r.getUTCDate()+(a.w+6)%7):(i=(r=pu(bu(a.y,0,1))).getDay(),r=i>4||0===i?Wf.ceil(r):Wf(r),r=If.offset(r,7*(a.V-1)),a.y=r.getFullYear(),a.m=r.getMonth(),a.d=r.getDate()+(a.w+6)%7)}else("W"in a||"U"in a)&&("w"in a||(a.w="u"in a?a.u%7:"W"in a?1:0),i="Z"in a?gu(bu(a.y,0,1)).getUTCDay():pu(bu(a.y,0,1)).getDay(),a.m=0,a.d="W"in a?(a.w+6)%7+7*a.W-(i+5)%7:a.w+7*a.U-(i+6)%7);return"Z"in a?(a.H+=a.Z/100|0,a.M+=a.Z%100,gu(a)):pu(a)}}function $(t,n,e,r){for(var i,a,o=0,c=n.length,f=e.length;o<c;){if(r>=f)return-1;if(37===(i=n.charCodeAt(o++))){if(i=n.charAt(o++),!(a=x[i in wu?n.charAt(o++):i])||(r=a(t,e,r))<0)return-1}else if(i!=e.charCodeAt(r++))return-1}return r}return v.x=M(e,v),v.X=M(r,v),v.c=M(n,v),w.x=M(e,w),w.X=M(r,w),w.c=M(n,w),{format:function(t){var n=M(t+="",v);return n.toString=function(){return t},n},parse:function(t){var n=k(t+="",!1);return n.toString=function(){return t},n},utcFormat:function(t){var n=M(t+="",w);return n.toString=function(){return t},n},utcParse:function(t){var n=k(t+="",!0);return n.toString=function(){return t},n}}}(t),yu=mu.format,mu.parse,vu=mu.utcFormat,mu.utcParse}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});var Vl=Yl("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),Xl=Yl("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),Zl=Yl("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),Gl=Yl("4269d0efb118ff725c6cc5b03ca951ff8ab7a463f297bbf59c6b4e9498a0"),Ql=Yl("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),Jl=Yl("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),Kl=Yl("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),ts=Yl("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),ns=Yl("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),es=Yl("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"),rs=Yl("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab"),is=t=>Ze(t[t.length-1]),as=new Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(Yl),os=is(as),cs=new Array(3).concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(Yl),fs=is(cs),us=new Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(Yl),ls=is(us),ss=new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(Yl),ds=is(ss),hs=new Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(Yl),ps=is(hs),gs=new Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(Yl),bs=is(gs),ms=new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(Yl),ys=is(ms),vs=new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(Yl),ws=is(vs),xs=new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(Yl),Ms=is(xs),ks=new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(Yl),$s=is(ks),_s=new Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(Yl),As=is(_s),Ts=new Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(Yl),Ss=is(Ts),Es=new Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(Yl),Ns=is(Es),Ls=new Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(Yl),Cs=is(Ls),Ds=new Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(Yl),Os=is(Ds),Fs=new Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(Yl),Rs=is(Fs),zs=new Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(Yl),Us=is(zs),js=new Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(Yl),Is=is(js),Ps=new Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(Yl),qs=is(Ps),Bs=new Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(Yl),Hs=is(Bs),Ws=new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(Yl),Ys=is(Ws),Vs=new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(Yl),Xs=is(Vs),Zs=new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(Yl),Gs=is(Zs),Qs=new Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(Yl),Js=is(Qs),Ks=new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(Yl),td=is(Ks),nd=new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(Yl),ed=is(nd),rd=new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(Yl),id=is(rd);function ad(t){return t=Math.max(0,Math.min(1,t)),"rgb("+Math.max(0,Math.min(255,Math.round(-4.54-t*(35.34-t*(2381.73-t*(6402.7-t*(7024.72-2710.57*t)))))))+", "+Math.max(0,Math.min(255,Math.round(32.49+t*(170.73+t*(52.82-t*(131.46-t*(176.58-67.37*t)))))))+", "+Math.max(0,Math.min(255,Math.round(81.24+t*(442.36-t*(2482.43-t*(6167.24-t*(6614.94-2475.67*t)))))))+")"}var od=-.14861,cd=1.78277,fd=-.29227,ud=-.90649,ld=1.97294,sd=ld*ud,dd=ld*cd,hd=cd*fd-ud*od;function pd(t,n,e,r){return 1===arguments.length?function(t){if(t instanceof gd)return new gd(t.h,t.s,t.l,t.opacity);t instanceof Se||(t=Ae(t));var n=t.r/255,e=t.g/255,r=t.b/255,i=(hd*r+sd*n-dd*e)/(hd+sd-dd),a=r-i,o=(ld*(e-i)-fd*a)/ud,c=Math.sqrt(o*o+a*a)/(ld*i*(1-i)),f=c?Math.atan2(o,a)*tc-120:NaN;return new gd(f<0?f+360:f,c,i,t.opacity)}(t):new gd(t,n,e,null==r?1:r)}function gd(t,n,e,r){this.h=+t,this.s=+n,this.l=+e,this.opacity=+r}function bd(t){return function n(e){function r(n,r){var i=t((n=pd(n)).h,(r=pd(r)).h),a=Ye(n.s,r.s),o=Ye(n.l,r.l),c=Ye(n.opacity,r.opacity);return function(t){return n.h=i(t),n.s=a(t),n.l=o(Math.pow(t,e)),n.opacity=c(t),n+""}}return e=+e,r.gamma=n,r}(1)}ae(gd,pd,oe(ce,{brighter(t){return t=null==t?ue:Math.pow(ue,t),new gd(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=null==t?fe:Math.pow(fe,t),new gd(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=isNaN(this.h)?0:(this.h+120)*Ko,n=+this.l,e=isNaN(this.s)?0:this.s*n*(1-n),r=Math.cos(t),i=Math.sin(t);return new Se(255*(n+e*(od*r+cd*i)),255*(n+e*(fd*r+ud*i)),255*(n+e*(ld*r)),this.opacity)}}));bd(He);var md=bd(Ye),yd=md(pd(300,.5,0),pd(-240,.5,1)),vd=md(pd(-100,.75,.35),pd(80,1.5,.8)),wd=md(pd(260,.75,.35),pd(80,1.5,.8)),xd=pd();function Md(t){(t<0||t>1)&&(t-=Math.floor(t));var n=Math.abs(t-.5);return xd.h=360*t-100,xd.s=1.5-1.5*n,xd.l=.8-.9*n,xd+""}var kd=Te(),$d=Math.PI/3,_d=2*Math.PI/3;function Ad(t){var n;return t=(.5-t)*Math.PI,kd.r=255*(n=Math.sin(t))*n,kd.g=255*(n=Math.sin(t+$d))*n,kd.b=255*(n=Math.sin(t+_d))*n,kd+""}function Td(t){return t=Math.max(0,Math.min(1,t)),"rgb("+Math.max(0,Math.min(255,Math.round(34.61+t*(1172.33-t*(10793.56-t*(33300.12-t*(38394.49-14825.05*t)))))))+", "+Math.max(0,Math.min(255,Math.round(23.31+t*(557.33+t*(1225.33-t*(3574.96-t*(1073.77+707.56*t)))))))+", "+Math.max(0,Math.min(255,Math.round(27.2+t*(3211.1-t*(15327.97-t*(27814-t*(22569.18-6838.66*t)))))))+")"}function Sd(t){var n=t.length;return function(e){return t[Math.max(0,Math.min(n-1,Math.floor(e*n)))]}}var Ed=Sd(Yl("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725")),Nd=Sd(Yl("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),Ld=Sd(Yl("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),Cd=Sd(Yl("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));function Dd(t){return"string"==typeof t?new gn([[document.querySelector(t)]],[document.documentElement]):new gn([[t]],pn)}Math.abs,Math.atan2;const Od=Math.cos,Fd=(Math.max,Math.min),Rd=Math.sin,zd=Math.sqrt,Ud=Math.PI,jd=2*Ud;const Id=zd(3);var Pd={draw(t,n){const e=.59436*zd(n+Fd(n/28,.75)),r=e/2,i=r*Id;t.moveTo(0,e),t.lineTo(0,-e),t.moveTo(-i,-r),t.lineTo(i,r),t.moveTo(-i,r),t.lineTo(i,-r)}},qd={draw(t,n){const e=zd(n/Ud);t.moveTo(e,0),t.arc(0,0,e,0,jd)}},Bd={draw(t,n){const e=zd(n/5)/2;t.moveTo(-3*e,-e),t.lineTo(-e,-e),t.lineTo(-e,-3*e),t.lineTo(e,-3*e),t.lineTo(e,-e),t.lineTo(3*e,-e),t.lineTo(3*e,e),t.lineTo(e,e),t.lineTo(e,3*e),t.lineTo(-e,3*e),t.lineTo(-e,e),t.lineTo(-3*e,e),t.closePath()}};const Hd=zd(1/3),Wd=2*Hd;var Yd={draw(t,n){const e=zd(n/Wd),r=e*Hd;t.moveTo(0,-e),t.lineTo(r,0),t.lineTo(0,e),t.lineTo(-r,0),t.closePath()}},Vd={draw(t,n){const e=.62625*zd(n);t.moveTo(0,-e),t.lineTo(e,0),t.lineTo(0,e),t.lineTo(-e,0),t.closePath()}},Xd={draw(t,n){const e=.87559*zd(n-Fd(n/7,2));t.moveTo(-e,0),t.lineTo(e,0),t.moveTo(0,e),t.lineTo(0,-e)}},Zd={draw(t,n){const e=zd(n),r=-e/2;t.rect(r,r,e,e)}},Gd={draw(t,n){const e=.4431*zd(n);t.moveTo(e,e),t.lineTo(e,-e),t.lineTo(-e,-e),t.lineTo(-e,e),t.closePath()}};const Qd=Rd(Ud/10)/Rd(7*Ud/10),Jd=Rd(jd/10)*Qd,Kd=-Od(jd/10)*Qd;var th={draw(t,n){const e=zd(.8908130915292852*n),r=Jd*e,i=Kd*e;t.moveTo(0,-e),t.lineTo(r,i);for(let a=1;a<5;++a){const n=jd*a/5,o=Od(n),c=Rd(n);t.lineTo(c*e,-o*e),t.lineTo(o*r-c*i,c*r+o*i)}t.closePath()}};const nh=zd(3);var eh={draw(t,n){const e=-zd(n/(3*nh));t.moveTo(0,2*e),t.lineTo(-nh*e,-e),t.lineTo(nh*e,-e),t.closePath()}};const rh=zd(3);var ih={draw(t,n){const e=.6824*zd(n),r=e/2,i=e*rh/2;t.moveTo(0,-e),t.lineTo(i,r),t.lineTo(-i,r),t.closePath()}};const ah=-.5,oh=zd(3)/2,ch=1/zd(12),fh=3*(ch/2+1);var uh={draw(t,n){const e=zd(n/fh),r=e/2,i=e*ch,a=r,o=e*ch+e,c=-a,f=o;t.moveTo(r,i),t.lineTo(a,o),t.lineTo(c,f),t.lineTo(ah*r-oh*i,oh*r+ah*i),t.lineTo(ah*a-oh*o,oh*a+ah*o),t.lineTo(ah*c-oh*f,oh*c+ah*f),t.lineTo(ah*r+oh*i,ah*i-oh*r),t.lineTo(ah*a+oh*o,ah*o-oh*a),t.lineTo(ah*c+oh*f,ah*f-oh*c),t.closePath()}},lh={draw(t,n){const e=.6189*zd(n-Fd(n/6,1.7));t.moveTo(-e,-e),t.lineTo(e,e),t.moveTo(-e,e),t.lineTo(e,-e)}};const sh=[qd,Bd,Yd,Zd,th,eh,uh],dh=[qd,Xd,lh,ih,Pd,Gd,Vd];function hh(t,n,e){this.k=t,this.x=n,this.y=e}hh.prototype={constructor:hh,scale:function(t){return 1===t?this:new hh(this.k*t,this.x,this.y)},translate:function(t,n){return 0===t&0===n?this:new hh(this.k,this.x+this.k*t,this.y+this.k*n)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};new hh(1,0,0);function ph(t){return null!=t&&!Number.isNaN(t)}function gh(t,n){return+ph(n)-+ph(t)||r(t,n)}function bh(t,n){return+ph(n)-+ph(t)||i(t,n)}function mh(t){return null!=t&&""!=`${t}`}function yh(t){return isFinite(t)?t:NaN}function vh(t){return t>0&&isFinite(t)?t:NaN}function wh(t){return t<0&&isFinite(t)?t:NaN}hh.prototype;const xh=/^(?:[-+]\d{2})?\d{4}(?:-\d{2}(?:-\d{2})?)?(?:T\d{2}:\d{2}(?::\d{2}(?:\.\d{3})?)?(?:Z|[-+]\d{2}:?\d{2})?)?$/;function Mh(t,n){return xh.test(t+="")?new Date(t):"function"==typeof n?n(t):n}function kh(t){if(null==t)return;return i(t[0],t[t.length-1])}const $h=1e3,_h=6e4,Ah=36e5,Th=864e5,Sh=7*Th,Eh=30*Th,Nh=365*Th,Lh=[["millisecond",1],["2 milliseconds",2],["5 milliseconds",5],["10 milliseconds",10],["20 milliseconds",20],["50 milliseconds",50],["100 milliseconds",100],["200 milliseconds",200],["500 milliseconds",500],["second",$h],["5 seconds",5e3],["15 seconds",15e3],["30 seconds",3e4],["minute",_h],["5 minutes",3e5],["15 minutes",9e5],["30 minutes",18e5],["hour",Ah],["3 hours",108e5],["6 hours",216e5],["12 hours",432e5],["day",Th],["2 days",2*Th],["week",Sh],["2 weeks",2*Sh],["month",Eh],["3 months",3*Eh],["6 months",6*Eh],["year",Nh],["2 years",2*Nh],["5 years",5*Nh],["10 years",10*Nh],["20 years",20*Nh],["50 years",50*Nh],["100 years",100*Nh]],Ch=new Map([["second",$h],["minute",_h],["hour",Ah],["day",Th],["monday",Sh],["tuesday",Sh],["wednesday",Sh],["thursday",Sh],["friday",Sh],["saturday",Sh],["sunday",Sh],["week",Sh],["month",Eh],["year",Nh]]),Dh=new Map([["second",Ff],["minute",Rf],["hour",Uf],["day",If],["monday",Wf],["tuesday",Yf],["wednesday",Vf],["thursday",Xf],["friday",Zf],["saturday",Gf],["sunday",Hf],["week",Hf],["month",au],["year",cu]]),Oh=new Map([["second",Ff],["minute",zf],["hour",jf],["day",qf],["monday",Kf],["tuesday",tu],["wednesday",nu],["thursday",eu],["friday",ru],["saturday",iu],["sunday",Jf],["week",Jf],["month",ou],["year",fu]]),Fh=Symbol("intervalDuration"),Rh=Symbol("intervalType");for(const[it,px]of Dh)px[Fh]=Ch.get(it),px[Rh]="time";for(const[it,px]of Oh)px[Fh]=Ch.get(it),px[Rh]="utc";const zh=[["year",fu,"utc"],["month",ou,"utc"],["day",qf,"utc",6*Eh],["hour",jf,"utc",3*Th],["minute",zf,"utc",216e5],["second",Ff,"utc",18e5]],Uh=[["year",cu,"time"],["month",au,"time"],["day",If,"time",6*Eh],["hour",Uf,"time",3*Th],["minute",Rf,"time",216e5],["second",Ff,"time",18e5]],jh=[zh[0],Uh[0],zh[1],Uh[1],zh[2],Uh[2],...zh.slice(3)];function Ih(t){let n=`${t}`.toLowerCase();n.endsWith("s")&&(n=n.slice(0,-1));let e=1;const r=/^(?:(\d+)\s+)/.exec(n);switch(r&&(n=n.slice(r[0].length),e=+r[1]),n){case"quarter":n="month",e*=3;break;case"half":n="month",e*=6}let i=Oh.get(n);if(!i)throw new Error(`unknown interval: ${t}`);if(e>1&&!i.every)throw new Error(`non-periodic interval: ${n}`);return[n,e]}function Ph(t){return Bh(Ih(t),"time")}function qh(t){return Bh(Ih(t),"utc")}function Bh([t,n],e){let r=("time"===e?Dh:Oh).get(t);return n>1&&(r=r.every(n),r[Fh]=Ch.get(t)*n,r[Rh]=e),r}function Hh(t,n){if(!(n>1))return;const e=t[Fh];if(!Lh.some((([,t])=>t===e)))return;if(e%Th==0&&Th<e&&e<Eh)return;const[r]=Lh[a((([,t])=>Math.log(t))).center(Lh,Math.log(e*n))];return("time"===t[Rh]?Ph:qh)(r)}function Wh(t,n,e){const r="time"===n?yu:vu;if(null==e)return r("year"===t?"%Y":"month"===t?"%Y-%m":"day"===t?"%Y-%m-%d":"hour"===t||"minute"===t?"%Y-%m-%dT%H:%M":"second"===t?"%Y-%m-%dT%H:%M:%S":"%Y-%m-%dT%H:%M:%S.%L");const i=function(t){return"left"===t||"right"===t?(t,n)=>`\n${t}\n${n}`:"top"===t?(t,n)=>`${n}\n${t}`:(t,n)=>`${t}\n${n}`}(e);switch(t){case"millisecond":return Vh(r(".%L"),r(":%M:%S"),i);case"second":return Vh(r(":%S"),r("%-I:%M"),i);case"minute":return Vh(r("%-I:%M"),r("%p"),i);case"hour":return Vh(r("%-I %p"),r("%b %-d"),i);case"day":return Vh(r("%-d"),r("%b"),i);case"month":return Vh(r("%b"),r("%Y"),i);case"year":return r("%Y")}throw new Error("unable to format time ticks")}function Yh(t,n,e){const r=k(function(t,n=U){const e=[];let r,i=!1;for(const a of t)i&&e.push(n(r,a)),r=a,i=!0;return e}(n,((t,n)=>Math.abs(n-t))));if(r<1e3)return Wh("millisecond","utc",e);for(const[i,a,o,c]of function(t){return"time"===t?Uh:"utc"===t?zh:jh}(t)){if(r>c)break;if("hour"===i&&!r)break;if(n.every((t=>a.floor(t)>=t)))return Wh(i,o,e)}}function Vh(t,n,e){return(r,i,a)=>{const o=t(r,i),c=n(r,i),f=i-kh(a);return i!==f&&void 0!==a[f]&&c===n(a[f],f)?o:e(o,c)}}const Xh=Object.getPrototypeOf(Uint8Array),Zh=Object.prototype.toString;function Gh(t){return t instanceof Array||t instanceof Xh}function Qh(t){return t instanceof Xh&&!function(t){return t instanceof BigInt64Array||t instanceof BigUint64Array}(t)}function Jh(t){return t?.prototype instanceof Xh&&!function(t){return t===BigInt64Array||t===BigUint64Array}(t)}const Kh=Symbol("reindex");function tp(t,n,e){const r=typeof n;return"string"===r?ag(t)?rp(t.getChild(n),e):np(t,op(n),e):"function"===r?np(t,n,e):"number"===r||n instanceof Date||"boolean"===r?Ap(t,pp(n),e):"function"==typeof n?.transform?ep(n.transform(t),e):function(t,n){return null!=t&&n?Fp(t,n):t}(ep(n,e),t?.[Kh])}function np(t,n,e){return Ap(t,Jh(e)?(t,e)=>bp(n(t,e)):n,e)}function ep(t,n){return void 0===n?$p(t):og(t)?rp(t,n):t instanceof n?t:n.from(t,Jh(n)&&!Qh(t)?bp:void 0)}function rp(t,n){return null==t?t:void 0!==n&&n!==Array||!function(t){return t&&(8===t.typeId||10===t.typeId)&&1===t.unit}(t.type)?ep(ip(t),n):mp(ip(t))}function ip(t){return t.nullCount?t.toJSON():t.toArray()}const ap=[null],op=t=>n=>{const e=n[t];return void 0===e&&"Feature"===n.type?n.properties?.[t]:e},cp={transform:Op},fp={transform:t=>t},up=()=>!0,lp=t=>null==t?t:`${t}`,sp=t=>null==t?t:+t,dp=t=>t?t[0]:void 0,hp=t=>t?t[1]:void 0,pp=t=>()=>t;function gp(t){return Qh(t)?t:Ap(t,bp,Float64Array)}function bp(t){return null==t?NaN:Number(t)}function mp(t){return Ap(t,yp)}function yp(t){return t instanceof Date&&!isNaN(t)?t:"string"==typeof t?Mh(t):null==t||isNaN(t=Number(t))?void 0:new Date(t)}function vp(t,n){return void 0===t&&(t=n),null===t?[void 0,"none"]:Qp(t)?[void 0,t]:[t,void 0]}function wp(t,n){return void 0===t&&(t=n),null===t||"number"==typeof t?[void 0,t]:[t,void 0]}function xp(t,n,e){if(null!=t)return Mp(t,n,e)}function Mp(t,n,e){const r=`${t}`.toLowerCase();if(!e.includes(r))throw new Error(`invalid ${n}: ${t}`);return r}function kp(t){return ag(t)?t:$p(t)}function $p(t){if(null==t||Gh(t))return t;if(og(t))return rp(t);if(_p(t))switch(t.type){case"FeatureCollection":return t.features;case"GeometryCollection":return t.geometries;default:return[t]}return Array.from(t)}function _p(t){switch(t?.type){case"FeatureCollection":case"GeometryCollection":case"Feature":case"LineString":case"MultiLineString":case"MultiPoint":case"MultiPolygon":case"Point":case"Polygon":case"Sphere":return!0;default:return!1}}function Ap(t,n,e=Array){return null==t?t:t instanceof e?t.map(n):e.from(t,n)}function Tp(t,n=Array){return t instanceof n?t.slice():n.from(t)}function Sp(t){return t?.toString===Zh}function Ep(t){return Sp(t)&&(void 0!==t.type||void 0!==t.domain)}function Np(t){return Sp(t)&&"function"!=typeof t.transform}function Lp(t){return Np(t)&&void 0===t.value&&void 0===t.channel}function Cp(t,n){return void 0===t&&void 0===n?[dp,hp]:[t,n]}function Dp(t){return Gh(t)?t.length:t?.numRows}function Op(t){const n=Dp(t),e=new Uint32Array(n);for(let r=0;r<n;++r)e[r]=r;return e}function Fp(t,n){return Gh(t)?Ap(n,(n=>t[n]),t.constructor):Ap(n,(n=>t.at(n)))}function Rp(t){return null!==t&&"object"==typeof t?t.valueOf():t}function zp(t,n){return"string"==typeof t?t:t&&void 0!==t.label?t.label:n}function Up(t,n){const e=jp(t,n);return e&&(t=>ph(t)?e.floor(t):t)}function jp(t,n){if(null!=t){if("number"==typeof t)return function(t){t=+t,0<t&&t<1&&Number.isInteger(1/t)&&(t=-1/t);const n=Math.abs(t);return t<0?{floor:t=>Math.floor(t*n)/n,offset:(t,e=1)=>(t*n+Math.floor(e))/n,range:(t,e)=>j(Math.ceil(t*n),e*n).map((t=>t/n))}:{floor:t=>Math.floor(t/n)*n,offset:(t,e=1)=>t+n*Math.floor(e),range:(t,e)=>j(Math.ceil(t/n),e/n).map((t=>t*n))}}(t);if("string"==typeof t)return("time"===n?Ph:qh)(t);if("function"!=typeof t.floor)throw new Error("invalid interval; missing floor method");if("function"!=typeof t.offset)throw new Error("invalid interval; missing offset method");return t}}function Ip(t,n){if((t=jp(t,n))&&"function"!=typeof t.range)throw new Error("invalid interval: missing range method");return t}function Pp(t){return"function"==typeof t?.range}function qp(t){return void 0===t||Np(t)?t:{value:t}}function Bp(t){return t&&"function"==typeof t[Symbol.iterator]}function Hp(t){for(const n of t)if(null!=n)return"object"!=typeof n||n instanceof Date}function Wp(t){for(const n of t){if(null==n)continue;const t=typeof n;return"string"===t||"boolean"===t}}function Yp(t){for(const n of t)if(null!=n)return n instanceof Date}function Vp(t){for(const n of t)if(null!=n)return"string"==typeof n&&isNaN(n)&&Mh(n)}function Xp(t){for(const n of t)if(null!=n){if("string"!=typeof n)return!1;if(n.trim())return!isNaN(n)}}function Zp(t,n){let e;for(const r of t)if(null!=r){if(!n(r))return!1;e=!0}return e}const Gp=new Set("none,currentcolor,transparent,aliceblue,antiquewhite,aqua,aquamarine,azure,beige,bisque,black,blanchedalmond,blue,blueviolet,brown,burlywood,cadetblue,chartreuse,chocolate,coral,cornflowerblue,cornsilk,crimson,cyan,darkblue,darkcyan,darkgoldenrod,darkgray,darkgreen,darkgrey,darkkhaki,darkmagenta,darkolivegreen,darkorange,darkorchid,darkred,darksalmon,darkseagreen,darkslateblue,darkslategray,darkslategrey,darkturquoise,darkviolet,deeppink,deepskyblue,dimgray,dimgrey,dodgerblue,firebrick,floralwhite,forestgreen,fuchsia,gainsboro,ghostwhite,gold,goldenrod,gray,green,greenyellow,grey,honeydew,hotpink,indianred,indigo,ivory,khaki,lavender,lavenderblush,lawngreen,lemonchiffon,lightblue,lightcoral,lightcyan,lightgoldenrodyellow,lightgray,lightgreen,lightgrey,lightpink,lightsalmon,lightseagreen,lightskyblue,lightslategray,lightslategrey,lightsteelblue,lightyellow,lime,limegreen,linen,magenta,maroon,mediumaquamarine,mediumblue,mediumorchid,mediumpurple,mediumseagreen,mediumslateblue,mediumspringgreen,mediumturquoise,mediumvioletred,midnightblue,mintcream,mistyrose,moccasin,navajowhite,navy,oldlace,olive,olivedrab,orange,orangered,orchid,palegoldenrod,palegreen,paleturquoise,palevioletred,papayawhip,peachpuff,peru,pink,plum,powderblue,purple,rebeccapurple,red,rosybrown,royalblue,saddlebrown,salmon,sandybrown,seagreen,seashell,sienna,silver,skyblue,slateblue,slategray,slategrey,snow,springgreen,steelblue,tan,teal,thistle,tomato,turquoise,violet,wheat,white,whitesmoke,yellow".split(","));function Qp(t){return"string"==typeof t&&(t=t.toLowerCase().trim(),/^#[0-9a-f]{3,8}$/.test(t)||/^(?:url|var|rgb|rgba|hsl|hsla|hwb|lab|lch|oklab|oklch|color|color-mix)\(.*\)$/.test(t)||Gp.has(t))}function Jp(t){return"number"==typeof t&&(0<=t&&t<=1||isNaN(t))}function Kp(t){return null==t||tg(t)}function tg(t){return/^\s*none\s*$/i.test(t)}function ng(t,n){return xp(t,n,["middle","top-left","top","top-right","right","bottom-right","bottom","bottom-left","left"])}function eg(t="middle"){return ng(t,"frameAnchor")}function rg(t){return Bp(t)?function(t){console.warn("named iterables are deprecated; please use an object instead");const n=new Set;return Object.fromEntries(Array.from(t,(t=>{const{name:e}=t;if(null==e)throw new Error("missing name");const r=`${e}`;if("__proto__"===r)throw new Error(`illegal name: ${r}`);if(n.has(r))throw new Error(`duplicate name: ${r}`);return n.add(r),[e,t]})))}(t):t}function ig(t){return!0===t?t="frame":!1===t?t=null:_p(t)||null==t||"sphere"===(t=Mp(t,"clip",["frame","sphere"]))&&(t={type:"Sphere"}),t}function ag(t){return t&&"function"==typeof t.getChild&&"function"==typeof t.toArray&&t.schema&&Array.isArray(t.schema.fields)}function og(t){return t&&"function"==typeof t.toArray&&t.type}const cg=Symbol("position"),fg=Symbol("color"),ug=Symbol("radius"),lg=Symbol("length"),sg=Symbol("opacity"),dg=Symbol("symbol"),hg=Symbol("projection"),pg=new Map([["x",cg],["y",cg],["fx",cg],["fy",cg],["r",ug],["color",fg],["opacity",sg],["symbol",dg],["length",lg],["projection",hg]]);const gg=2/Math.sqrt(3),bg={draw(t,n){const e=Math.sqrt(n/Math.PI),r=e*gg,i=r/2;t.moveTo(0,r),t.lineTo(e,i),t.lineTo(e,-i),t.lineTo(0,-r),t.lineTo(-e,-i),t.lineTo(-e,i),t.closePath()}},mg=new Map([["asterisk",Pd],["circle",qd],["cross",Bd],["diamond",Yd],["diamond2",Vd],["hexagon",bg],["plus",Xd],["square",Zd],["square2",Gd],["star",th],["times",lh],["triangle",eh],["triangle2",ih],["wye",uh]]);function yg(t){return t&&"function"==typeof t.draw}function vg(t){return!!yg(t)||"string"==typeof t&&mg.has(t.toLowerCase())}function wg(t){if(null==t||yg(t))return t;const n=mg.get(`${t}`.toLowerCase());if(n)return n;throw new Error(`invalid symbol: ${t}`)}function xg(t,n,e=Mg){if(null==t)return e(t);if("function"==typeof t.reduceIndex)return t;if("function"==typeof t.reduce&&Sp(t))return function(t){return console.warn("deprecated reduce interface; implement reduceIndex instead."),{...t,reduceIndex:t.reduce.bind(t)}}(t);if("function"==typeof t)return r=t,{reduceIndex(t,n,e){return r(Fp(n,t),e)}};var r;if(/^p\d{2}$/i.test(t))return kg(function(t){const n=+`${t}`.slice(1)/100;return(t,e)=>D(t,n,e)}(t));switch(`${t}`.toLowerCase()){case"first":return Ag;case"last":return Tg;case"identity":return _g;case"count":return Sg;case"distinct":return Eg;case"sum":return null==n?Sg:Ng;case"proportion":return Lg(n,"data");case"proportion-facet":return Lg(n,"facet");case"deviation":return kg(s);case"min":return kg(A);case"min-index":return kg(R);case"max":return kg(k);case"max-index":return kg($);case"mean":return $g(_);case"median":return $g(F);case"variance":return kg(l);case"mode":return kg(z)}return e(t)}function Mg(t){throw new Error(`invalid reduce: ${t}`)}function kg(t){return{reduceIndex(n,e){return t(n,(t=>e[t]))}}}function $g(t){return{reduceIndex(n,e){const r=t(n,(t=>e[t]));return Yp(e)?new Date(r):r}}}const _g={reduceIndex(t,n){return Fp(n,t)}},Ag={reduceIndex(t,n){return n[t[0]]}},Tg={reduceIndex(t,n){return n[t[t.length-1]]}},Sg={label:"Frequency",reduceIndex(t){return t.length}},Eg={label:"Distinct",reduceIndex(t,n){const e=new p;for(const r of t)e.add(n[r]);return e.size}},Ng=kg(I);function Lg(t,n){return null==t?{scope:n,label:"Frequency",reduceIndex:(t,n,e=1)=>t.length/e}:{scope:n,reduceIndex:(t,n,e=1)=>I(t,(t=>n[t]))/e}}function Cg(t,{scale:n,type:e,value:r,filter:i,hint:a,label:o=zp(r)},c){return void 0===a&&"function"==typeof r?.transform&&(a=r.hint),Dg(c,{scale:n,type:e,value:tp(t,r),label:o,filter:i,hint:a})}function Dg(t,n){const{scale:e,value:r}=n;if(!0===e||"auto"===e)switch(t){case"fill":case"stroke":case"color":n.scale=!0!==e&&Zp(r,Qp)?null:"color",n.defaultScale="color";break;case"fillOpacity":case"strokeOpacity":case"opacity":n.scale=!0!==e&&Zp(r,Jp)?null:"opacity",n.defaultScale="opacity";break;case"symbol":!0!==e&&Zp(r,vg)?(n.scale=null,n.value=Ap(r,wg)):n.scale="symbol",n.defaultScale="symbol";break;default:n.scale=pg.has(t)?t:null}else if(!1===e)n.scale=null;else if(null!=e&&!pg.has(e))throw new Error(`unknown scale: ${e}`);return n}function Og(t,n){for(const e in t){const r=t[e];if(r.scale===n)return r}}function Fg(t,n){const e=t.original;if(e===t)return n;const r=n.value,i=n.value=[];for(let a=0;a<e.length;++a){const n=r[e[a][0]];for(const e of t[a])i[e]=n}return n}function Rg(t,n,e){const r=zg(t,n);return Ap(zg(t,e),((t,n)=>Math.abs(t-r[n])),Float64Array)}function zg(t,n,e){let r=t[n];if(r||void 0===e||(r=t[e]),r)return r.value;throw new Error(`missing channel: ${n}`)}function Ug(t){if(null==t||"function"==typeof t)return t;switch(`${t}`.toLowerCase()){case"ascending":return jg;case"descending":return Ig}throw new Error(`invalid order: ${t}`)}function jg([t,n],[e,r]){return gh(n,r)||gh(t,e)}function Ig([t,n],[e,r]){return bh(n,r)||gh(t,e)}function Pg(t,n){let e=t[n];if(e){for(;e.source;)e=e.source;return null===e.source?null:e}}const qg=new Map([["accent",Xl],["category10",Vl],["dark2",Zl],["observable10",Gl],["paired",Ql],["pastel1",Jl],["pastel2",Kl],["set1",ts],["set2",ns],["set3",es],["tableau10",rs]]);const Bg=new Map([...qg,["brbg",Wg(as,os)],["prgn",Wg(cs,fs)],["piyg",Wg(us,ls)],["puor",Wg(ss,ds)],["rdbu",Wg(hs,ps)],["rdgy",Wg(gs,bs)],["rdylbu",Wg(ms,ys)],["rdylgn",Wg(vs,ws)],["spectral",Wg(xs,Ms)],["burd",Yg(hs,ps)],["buylrd",Yg(ms,ys)],["blues",Hg(Vs,Xs)],["greens",Hg(Zs,Gs)],["greys",Hg(Qs,Js)],["oranges",Hg(rd,id)],["purples",Hg(Ks,td)],["reds",Hg(nd,ed)],["turbo",Vg(Td)],["viridis",Vg(Ed)],["magma",Vg(Nd)],["inferno",Vg(Ld)],["plasma",Vg(Cd)],["cividis",Vg(ad)],["cubehelix",Vg(yd)],["warm",Vg(vd)],["cool",Vg(wd)],["bugn",Hg(ks,$s)],["bupu",Hg(_s,As)],["gnbu",Hg(Ts,Ss)],["orrd",Hg(Es,Ns)],["pubu",Hg(Ds,Os)],["pubugn",Hg(Ls,Cs)],["purd",Hg(Fs,Rs)],["rdpu",Hg(zs,Us)],["ylgn",Hg(Ps,qs)],["ylgnbu",Hg(js,Is)],["ylorbr",Hg(Bs,Hs)],["ylorrd",Hg(Ws,Ys)],["rainbow",Xg(Md)],["sinebow",Xg(Ad)]]);function Hg(t,n){return({length:e})=>1===e?[t[3][1]]:2===e?[t[3][1],t[3][2]]:(e=Math.max(3,Math.floor(e)))>9?Ac(n,e):t[e]}function Wg(t,n){return({length:e})=>2===e?[t[3][0],t[3][2]]:(e=Math.max(3,Math.floor(e)))>11?Ac(n,e):t[e]}function Yg(t,n){return({length:e})=>2===e?[t[3][2],t[3][0]]:(e=Math.max(3,Math.floor(e)))>11?Ac((t=>n(1-t)),e):t[e].slice().reverse()}function Vg(t){return({length:n})=>Ac(t,Math.max(2,Math.floor(n)))}function Xg(t){return({length:n})=>Ac(t,Math.floor(n)+1).slice(0,-1)}function Zg(t){const n=`${t}`.toLowerCase();if(!Bg.has(n))throw new Error(`unknown ordinal scheme: ${n}`);return Bg.get(n)}function Gg(t,n){const e=Zg(t),r="function"==typeof e?e({length:n}):e;return r.length!==n?r.slice(0,n):r}const Qg=new Map([["brbg",os],["prgn",fs],["piyg",ls],["puor",ds],["rdbu",ps],["rdgy",bs],["rdylbu",ys],["rdylgn",ws],["spectral",Ms],["burd",t=>ps(1-t)],["buylrd",t=>ys(1-t)],["blues",Xs],["greens",Gs],["greys",Js],["purples",td],["reds",ed],["oranges",id],["turbo",Td],["viridis",Ed],["magma",Nd],["inferno",Ld],["plasma",Cd],["cividis",ad],["cubehelix",yd],["warm",vd],["cool",wd],["bugn",$s],["bupu",As],["gnbu",Ss],["orrd",Ns],["pubugn",Cs],["pubu",Os],["purd",Rs],["rdpu",Us],["ylgnbu",Is],["ylgn",qs],["ylorbr",Hs],["ylorrd",Ys],["rainbow",Md],["sinebow",Ad]]);function Jg(t){const n=`${t}`.toLowerCase();if(!Qg.has(n))throw new Error(`unknown quantitative scheme: ${n}`);return Qg.get(n)}const Kg=new Set(["brbg","prgn","piyg","puor","rdbu","rdgy","rdylbu","rdylgn","spectral","burd","buylrd"]);const tb=t=>n=>t(1-n),nb=[0,1],eb=new Map([["number",Xn],["rgb",Ve],["hsl",Jo],["hcl",vc],["lab",function(t,n){var e=Ye((t=fc(t)).l,(n=fc(n)).l),r=Ye(t.a,n.a),i=Ye(t.b,n.b),a=Ye(t.opacity,n.opacity);return function(n){return t.l=e(n),t.a=r(n),t.b=i(n),t.opacity=a(n),t+""}}]]);function rb(t){const n=`${t}`.toLowerCase();if(!eb.has(n))throw new Error(`unknown interpolator: ${n}`);return eb.get(n)}function ib(t,n,e,{type:r,nice:i,clamp:a,zero:o,domain:c=db(t,e),unknown:f,round:u,scheme:l,interval:s,range:h=(pg.get(t)===ug?pb(e,c):pg.get(t)===lg?gb(e,c):pg.get(t)===sg?nb:void 0),interpolate:p=(pg.get(t)===fg?null==l&&void 0!==h?Ve:Jg(void 0!==l?l:"cyclical"===r?"rainbow":"turbo"):u?Go:Xn),reverse:g}){if(c=ab(c),s=Ip(s,r),"cyclical"!==r&&"sequential"!==r||(r="linear"),"function"!=typeof p&&(p=rb(p)),g=!!g,void 0!==h){if(c.length!==(h=ab(h)).length){if(1===p.length)throw new Error("invalid piecewise interpolator");p=_c(p,h),h=void 0}}if(1===p.length?(g&&(p=tb(p),g=!1),void 0===h&&2===(h=Float64Array.from(c,((t,n)=>n/(c.length-1)))).length&&(h=nb),n.interpolate((h===nb?pp:yb)(p))):n.interpolate(p),o){const[t,n]=d(c);if(t>0||n<0){(kh(c=Tp(c))||1)===Math.sign(t)?c[0]=0:c[c.length-1]=0}}return g&&(c=X(c)),n.domain(c).unknown(f),i&&(n.nice(function(t,n){return!0===t?void 0:"number"==typeof t?t:function(t,n){if((t=Ip(t,n))&&"function"!=typeof t.ceil)throw new Error("invalid interval: missing ceil method");return t}(t,n)}(i,r)),c=n.domain()),void 0!==h&&n.range(h),a&&n.clamp(a),{type:r,domain:c,range:h,scale:n,interpolate:p,interval:s}}function ab(t){return(t=$p(t)).length>=2?t:[t[0],t[0]]}function ob(t,n,{exponent:e=1,...r}){return ib(t,xf().exponent(e),n,{...r,type:"pow"})}function cb(t,n,{base:e=10,domain:r=bb(n),...i}){return ib(t,df().base(e),n,{...i,domain:r})}function fb(t,n,{constant:e=1,...r}){return ib(t,bf().constant(e),n,r)}function ub(t,n,{range:e,quantiles:r=(void 0===e?5:(e=[...e]).length),n:i=r,scheme:a="rdylbu",domain:o=mb(n),unknown:c,interpolate:f,reverse:u}){return void 0===e&&(e=void 0!==f?Ac(f,i):pg.get(t)===fg?Gg(a,i):void 0),o.length>0&&(o=Mf(o,void 0===e?{length:i}:e).quantiles()),lb(t,n,{domain:o,range:e,reverse:u,unknown:c})}function lb(t,n,{domain:e=[0],unknown:r,scheme:a="rdylbu",interpolate:o,range:c=(void 0!==o?Ac(o,e.length+1):pg.get(t)===fg?Gg(a,e.length+1):void 0),reverse:f}){const u=kh(e=$p(e));if(!isNaN(u)&&!function(t,n){for(let e=1,r=t.length,a=t[0];e<r;++e){const r=i(a,a=t[e]);if(0!==r&&r!==n)return!1}return!0}(e,u))throw new Error(`the ${t} scale has a non-monotonic domain`);return f&&(c=X(c)),{type:"threshold",scale:kf(u<0?X(e):e,void 0===c?[]:c).unknown(r),domain:e,range:c}}function sb(t,n=yh){return t.length?[A(t,(({value:t})=>void 0===t?t:A(t,n))),k(t,(({value:t})=>void 0===t?t:k(t,n)))]:[0,1]}function db(t,n){const e=pg.get(t);return(e===ug||e===sg||e===lg?hb:sb)(n)}function hb(t){return[0,t.length?k(t,(({value:t})=>void 0===t?t:k(t,yh))):1]}function pb(t,n){const e=t.find((({radius:t})=>void 0!==t));if(void 0!==e)return[0,e.radius];const r=D(t,.5,(({value:t})=>void 0===t?NaN:D(t,.25,vh))),i=n.map((t=>3*Math.sqrt(t/r))),a=30/k(i);return a<1?i.map((t=>t*a)):i}function gb(t,n){const e=F(t,(({value:t})=>void 0===t?NaN:F(t,Math.abs))),r=n.map((t=>12*t/e)),i=60/k(r);return i<1?r.map((t=>t*i)):r}function bb(t){for(const{value:n}of t)if(void 0!==n)for(let e of n){if(e>0)return sb(t,vh);if(e<0)return sb(t,wh)}return[1,10]}function mb(t){const n=[];for(const{value:e}of t)if(void 0!==e)for(const t of e)n.push(t);return n}function yb(t){return(n,e)=>r=>t(n+r*(e-n))}let vb,wb=0;function xb(t){t!==vb&&(vb=t,console.warn(t),++wb)}function Mb(t,n,e,r,{type:a,nice:o,clamp:c,domain:f=sb(r),unknown:u,pivot:l=0,scheme:s,range:d,symmetric:h=!0,interpolate:p=(pg.get(t)===fg?null==s&&void 0!==d?Ve:Jg(void 0!==s?s:"rdbu"):Xn),reverse:g}){l=+l,f=$p(f);let[b,m]=f;if(f.length>2&&xb(`Warning: the diverging ${t} scale domain contains extra elements.`),i(b,m)<0&&([b,m]=[m,b],g=!g),b=Math.min(b,l),m=Math.max(m,l),"function"!=typeof p&&(p=rb(p)),void 0!==d&&(p=1===p.length?yb(p)(...d):_c(p,d)),g&&(p=tb(p)),h){const t=e.apply(l),n=t-e.apply(b),r=e.apply(m)-t;n<r?b=e.invert(t-r):n>r&&(m=e.invert(t+n))}return n.domain([b,l,m]).unknown(u).interpolator(p),c&&n.clamp(c),o&&n.nice(o),{type:a,domain:[b,m],pivot:l,interpolate:p,scale:n}}function kb(t,n,e){return Mb(t,ql(),Tb,n,e)}function $b(t,n,{exponent:e=1,...r}){return Mb(t,Wl().exponent(e=+e),function(t){return.5===t?Eb:{apply(n){return Math.sign(n)*Math.pow(Math.abs(n),t)},invert(n){return Math.sign(n)*Math.pow(Math.abs(n),1/t)}}}(e),n,{...r,type:"diverging-pow"})}function _b(t,n,{base:e=10,pivot:r=1,domain:i=sb(n,r<0?wh:vh),...a}){return Mb(t,Bl().base(e=+e),Sb,n,{domain:i,pivot:r,...a})}function Ab(t,n,{constant:e=1,...r}){return Mb(t,Hl().constant(e=+e),function(t){return{apply(n){return Math.sign(n)*Math.log1p(Math.abs(n/t))},invert(n){return Math.sign(n)*Math.expm1(Math.abs(n))*t}}}(e),n,r)}const Tb={apply(t){return t},invert(t){return t}},Sb={apply:Math.log,invert:Math.exp},Eb={apply(t){return Math.sign(t)*Math.sqrt(Math.abs(t))},invert(t){return Math.sign(t)*(t*t)}};function Nb(t,n,e,r){return ib(t,n,e,r)}function Lb(t,n,e){return Nb(t,function(){return Oc.apply(jl(du,hu,cu,au,Hf,If,Uf,Rf,Ff,yu).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}(),n,e)}function Cb(t,n,e){return Nb(t,function(){return Oc.apply(jl(lu,su,fu,ou,Jf,Pf,jf,zf,Ff,vu).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}(),n,e)}const Db=Symbol("ordinal");function Ob(t,n,e,{type:r,interval:i,domain:a,range:o,reverse:c,hint:f}){return i=Ip(i,r),void 0===a&&(a=zb(e,i,t)),"categorical"!==r&&r!==Db||(r="ordinal"),c&&(a=X(a)),a=n.domain(a).domain(),void 0!==o&&("function"==typeof o&&(o=o(a)),n.range(o)),{type:r,domain:a,range:o,scale:n,hint:f,interval:i}}function Fb(t,n,{type:e,interval:r,domain:i,range:a,scheme:o,unknown:c,...f}){let u;if(r=Ip(r,e),void 0===i&&(i=zb(n,r,t)),pg.get(t)===dg)u=function(t){return{fill:Ub(t,"fill"),stroke:Ub(t,"stroke")}}(n),a=void 0===a?function(t){return Kp(t.fill)?dh:sh}(u):Ap(a,wg);else if(pg.get(t)===fg&&(void 0!==a||"ordinal"!==e&&e!==Db||(a=function(t,n="greys"){const e=new Set,[r,i]=Gg(n,2);for(const a of t)if(null!=a)if(!0===a)e.add(i);else{if(!1!==a)return;e.add(r)}return[...e]}(i,o),void 0!==a&&(o=void 0)),void 0===o&&void 0===a&&(o="ordinal"===e?"turbo":"observable10"),void 0!==o))if(void 0!==a){const t=Jg(o),n=a[0],e=a[1]-a[0];a=({length:r})=>Ac((r=>t(n+e*r)),r)}else a=Zg(o);if(c===Rc)throw new Error(`implicit unknown on ${t} scale is not supported`);return Ob(t,zc().unknown(c),n,{...f,type:e,domain:i,range:a,hint:u})}function Rb(t,n,e,r){let{round:i}=e;return void 0!==i&&t.round(i=!!i),(t=Ob(r,t,n,e)).round=i,t}function zb(t,n,e){const r=new p;for(const{value:i,domain:a}of t){if(void 0!==a)return a();if(void 0!==i)for(const t of i)r.add(t)}if(void 0!==n){const[t,e]=d(r).map(n.floor,n);return n.range(t,n.offset(e))}if(r.size>1e4&&pg.get(e)===cg)throw new Error(`implicit ordinal domain of ${e} scale has more than 10,000 values`);return T(r,gh)}function Ub(t,n){let e;for(const{hint:r}of t){const t=r?.[n];if(void 0!==t)if(void 0===e)e=t;else if(e!==t)return}return e}function jb(t,{label:n,inset:e=0,insetTop:r=e,insetRight:i=e,insetBottom:a=e,insetLeft:o=e,round:c,nice:f,clamp:u,zero:l,align:s,padding:d,projection:h,facet:{label:p=n}={},...g}={}){const b={};for(const[m,y]of t){const t=g[m],e=Xb(m,y,{round:pg.get(m)===cg?c:void 0,nice:f,clamp:u,zero:l,align:s,padding:d,projection:h,...t});if(e){let{label:c=("fx"===m||"fy"===m?p:n),percent:f,transform:u,inset:l,insetTop:s=(void 0!==l?l:"y"===m?r:0),insetRight:d=(void 0!==l?l:"x"===m?i:0),insetBottom:h=(void 0!==l?l:"y"===m?a:0),insetLeft:g=(void 0!==l?l:"x"===m?o:0)}=t||{};if(null==u)u=void 0;else if("function"!=typeof u)throw new Error("invalid scale transform; not a function");e.percent=!!f,e.label=void 0===c?Pb(y,e):c,e.transform=u,"x"===m||"fx"===m?(e.insetLeft=+g,e.insetRight=+d):"y"!==m&&"fy"!==m||(e.insetTop=+s,e.insetBottom=+h),b[m]=e}}return b}function Ib(t){const n={},e={scales:n};for(const[r,i]of Object.entries(t)){const{scale:t,type:a,interval:o,label:c}=i;n[r]=im(i),e[r]=t,t.type=a,null!=o&&(t.interval=o),null!=c&&(t.label=c)}return e}function Pb(t=[],n){let e;for(const{label:r}of t)if(void 0!==r)if(void 0===e)e=r;else if(e!==r)return;if(void 0!==e)return!Kb(n)&&n.percent&&(e=`${e} (%)`),{inferred:!0,toString:()=>e}}function qb(t){const{marginTop:n,marginRight:e,marginBottom:r,marginLeft:i,width:a,height:o,facet:{marginTop:c,marginRight:f,marginBottom:u,marginLeft:l}}=t;return{marginTop:Math.max(n,c),marginRight:Math.max(e,f),marginBottom:Math.max(r,u),marginLeft:Math.max(i,l),width:a,height:o}}function Bb({fx:t,fy:n},e){const{marginTop:r,marginRight:i,marginBottom:a,marginLeft:o,width:c,height:f}=qb(e);return{marginTop:r,marginRight:i,marginBottom:a,marginLeft:o,width:t?t.scale.bandwidth()+o+i:c,height:n?n.scale.bandwidth()+r+a:f,facet:{width:c,height:f}}}function Hb(t,n){if(void 0===t.range){const{insetLeft:e,insetRight:r}=t,{width:i,marginLeft:a=0,marginRight:o=0}=n,c=a+e,f=i-o-r;t.range=[c,Math.max(c,f)],Kb(t)||(t.range=Vb(t)),t.scale.range(t.range)}Yb(t)}function Wb(t,n){if(void 0===t.range){const{insetTop:e,insetBottom:r}=t,{height:i,marginTop:a=0,marginBottom:o=0}=n,c=a+e,f=i-o-r;t.range=[Math.max(c,f),c],Kb(t)?t.range.reverse():t.range=Vb(t),t.scale.range(t.range)}Yb(t)}function Yb(t){void 0===t.round&&function({type:t}){return"point"===t||"band"===t}(t)&&function({scale:t}){const n=t.domain().length,[e,r]=t.range(),i=t.paddingInner?t.paddingInner():1,a=t.paddingOuter?t.paddingOuter():t.padding(),o=n-i,c=Math.abs(r-e)/Math.max(1,o+2*a);return(c-Math.floor(c))*o}(t)<=30&&t.scale.round(!0)}function Vb(t){const n=t.scale.domain().length+tm(t);if(!(n>2))return t.range;const[e,r]=t.range;return Array.from({length:n},((t,i)=>e+i/(n-1)*(r-e)))}function Xb(t,n=[],e={}){const r=function(t,n,{type:e,domain:r,range:i,scheme:a,pivot:o,projection:c}){if(e=Gb(e),"fx"===t||"fy"===t)return"band";"x"!==t&&"y"!==t||null==c||(e=Qb);for(const l of n){const t=Gb(l.type);if(void 0!==t)if(void 0===e)e=t;else if(e!==t)throw new Error(`scale incompatible with channel: ${e} !== ${t}`)}if(e===Qb)return;if(void 0!==e)return e;if(void 0===r&&!n.some((({value:t})=>void 0!==t)))return;const f=pg.get(t);if(f===ug)return"sqrt";if(f===sg||f===lg)return"linear";if(f===dg)return"ordinal";const u=(r??i)?.length;if(u<2||u>2)return Jb(f);if(void 0!==r){if(Wp(r))return Jb(f);if(Yp(r))return"utc"}else{const t=n.map((({value:t})=>t)).filter((t=>void 0!==t));if(t.some(Wp))return Jb(f);if(t.some(Yp))return"utc"}if(f===fg){if(null!=o||function(t){return null!=t&&Kg.has(`${t}`.toLowerCase())}(a))return"diverging";if(function(t){return null!=t&&qg.has(`${t}`.toLowerCase())}(a))return"categorical"}return"linear"}(t,n,e);if(void 0===e.type&&void 0===e.domain&&void 0===e.range&&null==e.interval&&"fx"!==t&&"fy"!==t&&Kb({type:r})){const e=n.map((({value:t})=>t)).filter((t=>void 0!==t));e.some(Yp)?xb(`Warning: some data associated with the ${t} scale are dates. Dates are typically associated with a "utc" or "time" scale rather than a "${Zb(r)}" scale. If you are using a bar mark, you probably want a rect mark with the interval option instead; if you are using a group transform, you probably want a bin transform instead. If you want to treat this data as ordinal, you can specify the interval of the ${t} scale (e.g., d3.utcDay), or you can suppress this warning by setting the type of the ${t} scale to "${Zb(r)}".`):e.some(Vp)?xb(`Warning: some data associated with the ${t} scale are strings that appear to be dates (e.g., YYYY-MM-DD). If these strings represent dates, you should parse them to Date objects. Dates are typically associated with a "utc" or "time" scale rather than a "${Zb(r)}" scale. If you are using a bar mark, you probably want a rect mark with the interval option instead; if you are using a group transform, you probably want a bin transform instead. If you want to treat this data as ordinal, you can suppress this warning by setting the type of the ${t} scale to "${Zb(r)}".`):e.some(Xp)&&xb(`Warning: some data associated with the ${t} scale are strings that appear to be numbers. If these strings represent numbers, you should parse or coerce them to numbers. Numbers are typically associated with a "linear" scale rather than a "${Zb(r)}" scale. If you want to treat this data as ordinal, you can specify the interval of the ${t} scale (e.g., 1 for integers), or you can suppress this warning by setting the type of the ${t} scale to "${Zb(r)}".`)}switch(e.type=r,r){case"diverging":case"diverging-sqrt":case"diverging-pow":case"diverging-log":case"diverging-symlog":case"cyclical":case"sequential":case"linear":case"sqrt":case"threshold":case"quantile":case"pow":case"log":case"symlog":e=em(n,e,gp);break;case"identity":switch(pg.get(t)){case cg:e=em(n,e,gp);break;case dg:e=em(n,e,rm)}break;case"utc":case"time":e=em(n,e,mp)}switch(r){case"diverging":return kb(t,n,e);case"diverging-sqrt":return function(t,n,e){return $b(t,n,{...e,exponent:.5})}(t,n,e);case"diverging-pow":return $b(t,n,e);case"diverging-log":return _b(t,n,e);case"diverging-symlog":return Ab(t,n,e);case"categorical":case"ordinal":case Db:return Fb(t,n,e);case"cyclical":case"sequential":case"linear":return function(t,n,e){return ib(t,nf(),n,e)}(t,n,e);case"sqrt":return function(t,n,e){return ob(t,n,{...e,exponent:.5})}(t,n,e);case"threshold":return lb(t,0,e);case"quantile":return ub(t,n,e);case"quantize":return function(t,n,{range:e,n:r=(void 0===e?5:(e=[...e]).length),scheme:i="rdylbu",domain:a=db(t,n),unknown:o,interpolate:c,reverse:f}){const[u,l]=d(a);let s;return void 0===e?(s=W(u,l,r),s[0]<=u&&s.splice(0,1),s[s.length-1]>=l&&s.pop(),r=s.length+1,e=void 0!==c?Ac(c,r):pg.get(t)===fg?Gg(i,r):void 0):(s=Ac(Xn(u,l),r+1).slice(1,-1),u instanceof Date&&(s=s.map((t=>new Date(t))))),kh($p(a))<0&&s.reverse(),lb(t,0,{domain:s,range:e,reverse:f,unknown:o})}(t,n,e);case"pow":return ob(t,n,e);case"log":return cb(t,n,e);case"symlog":return fb(t,n,e);case"utc":return Cb(t,n,e);case"time":return Lb(t,n,e);case"point":return function(t,n,{align:e=.5,padding:r=.5,...i}){return Rb(Ic().align(e).padding(r),n,i,t)}(t,n,e);case"band":return function(t,n,{align:e=.5,padding:r=.1,paddingInner:i=r,paddingOuter:a=("fx"===t||"fy"===t?0:r),...o}){return Rb(Uc().align(e).paddingInner(i).paddingOuter(a),n,o,t)}(t,n,e);case"identity":return function(t){return{type:"identity",scale:(n=pg.get(t),n===cg||n===ug||n===lg||n===sg?ef():t=>t)};var n}(t);case void 0:return;default:throw new Error(`unknown scale type: ${r}`)}}function Zb(t){return"symbol"==typeof t?t.description:t}function Gb(t){return"string"==typeof t?`${t}`.toLowerCase():t}const Qb={toString:()=>"projection"};function Jb(t){switch(t){case cg:return"point";case fg:return Db;default:return"ordinal"}}function Kb({type:t}){return"ordinal"===t||"point"===t||"band"===t||t===Db}function tm({type:t}){return"threshold"===t}function nm(t){if(void 0===t)return!0;const n=t.domain(),e=t(n[0]);for(let r=1,i=n.length;r<i;++r)if(t(n[r])-e)return!1;return!0}function em(t,{domain:n,...e},r){for(const i of t)void 0!==i.value&&(void 0===n&&(n=i.value?.domain),i.value=r(i.value));return{domain:void 0===n?n:r(n),...e}}function rm(t){return Ap(t,wg)}function im({scale:t,type:n,domain:e,range:r,interpolate:i,interval:a,transform:o,percent:c,pivot:f}){if("identity"===n)return{type:"identity",apply:t=>t,invert:t=>t};const u=t.unknown?t.unknown():void 0;return{type:n,domain:Tp(e),...void 0!==r&&{range:Tp(r)},...void 0!==o&&{transform:o},...c&&{percent:c},...void 0!==u&&{unknown:u},...void 0!==a&&{interval:a},...void 0!==i&&{interpolate:i},...t.clamp&&{clamp:t.clamp()},...void 0!==f&&{pivot:f,symmetric:!1},...t.base&&{base:t.base()},...t.exponent&&{exponent:t.exponent()},...t.constant&&{constant:t.constant()},...t.align&&{align:t.align(),round:t.round()},...t.padding&&(t.paddingInner?{paddingInner:t.paddingInner(),paddingOuter:t.paddingOuter()}:{padding:t.padding()}),...t.bandwidth&&{bandwidth:t.bandwidth(),step:t.step()},apply:n=>t(n),...t.invert&&{invert:n=>t.invert(n)}}}function am(t,n){const{fx:e,fy:r}=jb(t,n),i=e?.scale.domain(),a=r?.scale.domain();return i&&a?function(...t){const n="function"==typeof t[t.length-1]&&function(t){return n=>t(...n)}(t.pop()),e=(t=t.map(u)).map(c),r=t.length-1,i=new Array(r+1).fill(0),a=[];if(r<0||e.some(f))return a;for(;;){a.push(i.map(((n,e)=>t[e][n])));let o=r;for(;++i[o]===e[o];){if(0===o)return n?a.map(n):a;i[o--]=0}}}(i,a).map((([t,n],e)=>({x:t,y:n,i:e}))):i?i.map(((t,n)=>({x:t,i:n}))):a?a.map(((t,n)=>({y:t,i:n}))):void 0}function om(t,{fx:n,fy:e}){const r=Op(t),i=n?.value,a=e?.value;return n&&e?w(r,(t=>(t.fx=i[t[0]],t.fy=a[t[0]],t)),(t=>i[t]),(t=>a[t])):n?w(r,(t=>(t.fx=i[t[0]],t)),(t=>i[t])):w(r,(t=>(t.fy=a[t[0]],t)),(t=>a[t]))}function cm(t){const n=[],e=new Uint32Array(I(t,(t=>t.length)));for(const r of t){let i=0;for(const n of t)r!==n&&(e.set(n,i),i+=n.length);n.push(e.slice(0,i))}return n}const fm=new Map([["top",hm],["right",bm],["bottom",pm],["left",gm],["top-left",mm(hm,gm)],["top-right",mm(hm,bm)],["bottom-left",mm(pm,gm)],["bottom-right",mm(pm,bm)],["top-empty",function(t,{y:n},{x:e,y:r,empty:i}){if(i)return!1;if(!n)return;const a=sm(n,r);if(a>0)return dm(t,e,n[a-1])}],["right-empty",function(t,{x:n},{x:e,y:r,empty:i}){if(i)return!1;if(!n)return;const a=sm(n,e);if(a<n.length-1)return dm(t,n[a+1],r)}],["bottom-empty",function(t,{y:n},{x:e,y:r,empty:i}){if(i)return!1;if(!n)return;const a=sm(n,r);if(a<n.length-1)return dm(t,e,n[a+1])}],["left-empty",function(t,{x:n},{x:e,y:r,empty:i}){if(i)return!1;if(!n)return;const a=sm(n,e);if(a>0)return dm(t,n[a-1],r)}],["empty",function(t,n,{empty:e}){return e}]]);const um=new WeakMap;function lm(t){let n=um.get(t);return n||um.set(t,n=new h(Ap(t,((t,n)=>[t,n])))),n}function sm(t,n){return lm(t).get(n)}function dm(t,n,e){return function(t,n,e){return n=Rp(n),e=Rp(e),t.find((t=>Object.is(Rp(t.x),n)&&Object.is(Rp(t.y),e)))}(t,n,e)?.empty}function hm(t,{y:n},{y:e}){return!n||0===sm(n,e)}function pm(t,{y:n},{y:e}){return!n||sm(n,e)===n.length-1}function gm(t,{x:n},{x:e}){return!n||0===sm(n,e)}function bm(t,{x:n},{x:e}){return!n||sm(n,e)===n.length-1}function mm(t,n){return function(){return t.apply(null,arguments)&&n.apply(null,arguments)}}function ym(t,{channels:{fx:n,fy:e},groups:r}){return n&&e?t.map((({x:t,y:n})=>r.get(t)?.get(n)??[])):n?t.map((({x:t})=>r.get(t)??[])):t.map((({y:t})=>r.get(t)??[]))}const vm=Math.PI,wm=2*vm,xm=.618;function Mm({projection:t,inset:n=0,insetTop:e=n,insetRight:r=n,insetBottom:i=n,insetLeft:a=n}={},o){if(null==t)return;if("function"==typeof t.stream)return t;let c,f,u="frame";if(Sp(t)){let n;if(({type:t,domain:f,inset:n,insetTop:e=(void 0!==n?n:e),insetRight:r=(void 0!==n?n:r),insetBottom:i=(void 0!==n?n:i),insetLeft:a=(void 0!==n?n:a),clip:u=u,...c}=t),null==t)return}"function"!=typeof t&&({type:t}=km(t));const{width:l,height:s,marginLeft:d,marginRight:h,marginTop:p,marginBottom:g}=o,b=l-d-h-a-r,m=s-p-g-e-i;if(t=t?.({width:b,height:m,clip:u,...c}),null==t)return;u=function(t,n,e,r,i){if(!1===t||null==t||"number"==typeof t)return t=>t;!0===t&&(t="frame");if("frame"===`${t}`.toLowerCase())return mi(n,e,r,i);throw new Error(`unknown projection clip type: ${t}`)}(u,d,p,l-h,s-g);let y,v=d+a,w=p+e;if(null!=f){const[[n,e],[r,i]]=La(t).bounds(f),a=Math.min(b/(r-n),m/(i-e));a>0?(v-=(a*(n+r)-b)/2,w-=(a*(e+i)-m)/2,y=Ja({point(t,n){this.stream.point(t*a+v,n*a+w)}})):xb("Warning: the projection could not be fit to the specified domain; using the default scale.")}return y??=0===v&&0===w?Am():Ja({point(t,n){this.stream.point(t+v,n+w)}}),{stream:n=>t.stream(y.stream(u(n)))}}function km(t){switch(`${t}`.toLowerCase()){case"albers-usa":return $m(yo,.7463,.4673);case"albers":return _m(mo,.7463,.4673);case"azimuthal-equal-area":return $m(Mo,4,4);case"azimuthal-equidistant":return $m($o,wm,wm);case"conic-conformal":return _m(No,wm,wm);case"conic-equal-area":return _m(bo,6.1702,2.9781);case"conic-equidistant":return _m(Oo,7.312,3.6282);case"equal-earth":return $m(Po,5.4133,2.6347);case"equirectangular":return $m(Co,wm,vm);case"gnomonic":return $m(Bo,3.4641,3.4641);case"identity":return{type:Am};case"reflect-y":return{type:Tm};case"mercator":return $m(Ao,wm,wm);case"orthographic":return $m(Wo,2,2);case"stereographic":return $m(Vo,2,2);case"transverse-mercator":return $m(Zo,wm,wm);default:throw new Error(`unknown projection type: ${t}`)}}function $m(t,n,e){return{type:({width:r,height:i,rotate:a,precision:o=.15,clip:c})=>{const f=t();return null!=o&&f.precision?.(o),null!=a&&f.rotate?.(a),"number"==typeof c&&f.clipAngle?.(c),null!=r&&(f.scale(Math.min(r/n,i/e)),f.translate([r/2,i/2])),f},aspectRatio:e/n}}function _m(t,n,e){const{type:r,aspectRatio:i}=$m(t,n,e);return{type:t=>{const{parallels:n,domain:e,width:i,height:a}=t,o=r(t);return null!=n&&(o.parallels(n),void 0===e&&null!=i&&o.fitSize([i,a],{type:"Sphere"})),o},aspectRatio:i}}const Am=pp({stream:t=>t}),Tm=pp(Ja({point(t,n){this.stream.point(t,-n)}}));function Sm(t,n,e,r){const i=e[t],a=e[n],o=i.length,c=e[t]=new Float64Array(o).fill(NaN),f=e[n]=new Float64Array(o).fill(NaN);let u;const l=r.stream({point(t,n){c[u]=t,f[u]=n}});for(u=0;u<o;++u)l.point(i[u],a[u])}function Em({projection:t}={}){return null!=t&&("function"==typeof t.stream||(Sp(t)&&(t=t.type),null!=t))}function Nm(t){const n=[],e=[],r={scale:"x",value:n},i={scale:"y",value:e},a={point(t,r){n.push(t),e.push(r)},lineStart(){},lineEnd(){},polygonStart(){},polygonEnd(){},sphere(){}};for(const o of t.value)$i(o,a);return[r,i]}function Lm(t={}){const{document:n=("undefined"!=typeof window?window.document:void 0),clip:e}=t;return{document:n,clip:ig(e)}}function Cm(t,{document:n}){return Dd(rn(t).call(n.documentElement))}function Dm(t,n){if(t instanceof Date||(t=new Date(+t)),isNaN(t))return"function"==typeof n?n(t):n;const e=t.getUTCHours(),r=t.getUTCMinutes(),i=t.getUTCSeconds(),a=t.getUTCMilliseconds();return`${o=t.getUTCFullYear(),o<0?`-${Om(-o,6)}`:o>9999?`+${Om(o,6)}`:Om(o,4)}-${Om(t.getUTCMonth()+1,2)}-${Om(t.getUTCDate(),2)}${e||r||i||a?`T${Om(e,2)}:${Om(r,2)}${i||a?`:${Om(i,2)}${a?`.${Om(a,3)}`:""}`:""}Z`:""}`;var o}function Om(t,n){return`${t}`.padStart(n,"0")}const Fm=Symbol("unset");function Rm(t){return(1===t.length?zm:Um)(t)}function zm(t){let n,e=Fm;return r=>(Object.is(e,r)||(e=r,n=t(r)),n)}function Um(t){let n,e;return(...r)=>((e?.length!==r.length||e.some(((t,n)=>!Object.is(t,r[n]))))&&(e=r,n=t(...r)),n)}const jm=Rm((t=>new Intl.NumberFormat(t)));Rm(((t,n)=>new Intl.DateTimeFormat(t,{timeZone:"UTC",...n&&{month:n}}))),Rm(((t,n)=>new Intl.DateTimeFormat(t,{timeZone:"UTC",...n&&{weekday:n}})));function Im(t){return Dm(t,"Invalid Date")}const Pm=function(t="en-US"){const n=function(t="en-US"){const n=jm(t);return t=>null==t||isNaN(t)?void 0:n.format(t)}(t);return t=>(t instanceof Date?Im:"number"==typeof t?n:lp)(t)}(),qm=("undefined"!=typeof window?window.devicePixelRatio>1:"undefined"==typeof it)?0:.5;let Bm=0;function Hm(){return"plot-clip-"+ ++Bm}function Wm(t,{title:n,href:e,ariaLabel:r,ariaDescription:i,ariaHidden:a,target:o,fill:c,fillOpacity:f,stroke:u,strokeWidth:l,strokeOpacity:s,strokeLinejoin:d,strokeLinecap:h,strokeMiterlimit:p,strokeDasharray:g,strokeDashoffset:b,opacity:m,mixBlendMode:y,imageFilter:v,paintOrder:w,pointerEvents:x,shapeRendering:M,channels:k},{ariaLabel:$,fill:_="currentColor",fillOpacity:A,stroke:T="none",strokeOpacity:S,strokeWidth:E,strokeLinecap:N,strokeLinejoin:L,strokeMiterlimit:C,paintOrder:D}){null===_&&(c=null,f=null),null===T&&(u=null,s=null),Kp(_)?Kp(T)||Kp(c)&&!k?.fill||(T="none"):!Kp(T)||Kp(u)&&!k?.stroke||(_="none");const[O,F]=vp(c,_),[R,z]=wp(f,A),[U,j]=vp(u,T),[I,P]=wp(s,S),[q,B]=wp(m);tg(j)||(void 0===l&&(l=E),void 0===h&&(h=N),void 0===d&&(d=L),void 0!==p||function(t){return/^\s*round\s*$/i.test(t)}(d)||(p=C),tg(F)||void 0!==w||(w=D));const[H,W]=wp(l);return null!==_&&(t.fill=ry(F,"currentColor"),t.fillOpacity=iy(z,1)),null!==T&&(t.stroke=ry(j,"none"),t.strokeWidth=iy(W,1),t.strokeOpacity=iy(P,1),t.strokeLinejoin=ry(d,"miter"),t.strokeLinecap=ry(h,"butt"),t.strokeMiterlimit=iy(p,4),t.strokeDasharray=ry(g,"none"),t.strokeDashoffset=ry(b,"0")),t.target=lp(o),t.ariaLabel=lp($),t.ariaDescription=lp(i),t.ariaHidden=lp(a),t.opacity=iy(B,1),t.mixBlendMode=ry(y,"normal"),t.imageFilter=ry(v,"none"),t.paintOrder=ry(w,"normal"),t.pointerEvents=ry(x,"auto"),t.shapeRendering=ry(M,"auto"),{title:{value:n,optional:!0,filter:null},href:{value:e,optional:!0,filter:null},ariaLabel:{value:r,optional:!0,filter:null},fill:{value:O,scale:"auto",optional:!0},fillOpacity:{value:R,scale:"auto",optional:!0},stroke:{value:U,scale:"auto",optional:!0},strokeOpacity:{value:I,scale:"auto",optional:!0},strokeWidth:{value:H,optional:!0},opacity:{value:q,scale:"auto",optional:!0}}}function Ym(t,n){n&&t.text((t=>Pm(n[t])))}function Vm(t,{target:n,tip:e},{ariaLabel:r,title:i,fill:a,fillOpacity:o,stroke:c,strokeOpacity:f,strokeWidth:u,opacity:l,href:s}){r&&ny(t,"aria-label",(t=>r[t])),a&&ny(t,"fill",(t=>a[t])),o&&ny(t,"fill-opacity",(t=>o[t])),c&&ny(t,"stroke",(t=>c[t])),f&&ny(t,"stroke-opacity",(t=>f[t])),u&&ny(t,"stroke-width",(t=>u[t])),l&&ny(t,"opacity",(t=>l[t])),s&&ty(t,(t=>s[t]),n),e||function(t,n){n&&t.filter((t=>mh(n[t]))).append("title").call(Ym,n)}(t,i)}function Xm(t,n,e,r){let i;const{clip:a=r.clip}=n;"frame"===a?(t=Cm("svg:g",r).each((function(){this.appendChild(t.node()),t.node=()=>this})),i=Zm(r,e)):a&&(i=function(t,n){let e,r;(e=Gm.get(n))||Gm.set(n,e=new WeakMap);"Sphere"===t.type&&(t=Qm);if(!(r=e.get(t))){const i=Hm();Dd(n.ownerSVGElement).append("clipPath").attr("id",i).append("path").attr("d",n.path()(t)),e.set(t,r=`url(#${i})`)}return r}(a,r)),ny(t,"aria-label",n.ariaLabel),ny(t,"aria-description",n.ariaDescription),ny(t,"aria-hidden",n.ariaHidden),ny(t,"clip-path",i)}const Zm=function(t){const n=new WeakMap;return(e,r)=>{let i=n.get(e);if(!i){const a=Hm();Dd(e.ownerSVGElement).append("clipPath").attr("id",a).call(t,e,r),n.set(e,i=`url(#${a})`)}return i}}(((t,n,e)=>{const{width:r,height:i,marginLeft:a,marginRight:o,marginTop:c,marginBottom:f}=e;t.append("rect").attr("x",a).attr("y",c).attr("width",r-o-a).attr("height",i-c-f)})),Gm=new WeakMap,Qm={type:"Sphere"};function Jm(t,n,e,r){Xm(t,n,e,r),ny(t,"class",n.className),ny(t,"fill",n.fill),ny(t,"fill-opacity",n.fillOpacity),ny(t,"stroke",n.stroke),ny(t,"stroke-width",n.strokeWidth),ny(t,"stroke-opacity",n.strokeOpacity),ny(t,"stroke-linejoin",n.strokeLinejoin),ny(t,"stroke-linecap",n.strokeLinecap),ny(t,"stroke-miterlimit",n.strokeMiterlimit),ny(t,"stroke-dasharray",n.strokeDasharray),ny(t,"stroke-dashoffset",n.strokeDashoffset),ny(t,"shape-rendering",n.shapeRendering),ny(t,"filter",n.imageFilter),ny(t,"paint-order",n.paintOrder);const{pointerEvents:i=(!1===r.pointerSticky?"none":void 0)}=n;ny(t,"pointer-events",i)}function Km(t,n){!function(t,n,e){null!=e&&t.style(n,e)}(t,"mix-blend-mode",n.mixBlendMode),ny(t,"opacity",n.opacity)}function ty(t,n,e){t.each((function(t){const r=n(t);if(null!=r){const t=this.ownerDocument.createElementNS(kt.svg,"a");t.setAttribute("fill","inherit"),t.setAttributeNS(kt.xlink,"href",r),null!=e&&t.setAttribute("target",e),this.parentNode.insertBefore(t,this).appendChild(this)}}))}function ny(t,n,e){null!=e&&t.attr(n,e)}function ey(t,n,{x:e,y:r},i=qm,a=qm){i+=n.dx,a+=n.dy,e?.bandwidth&&(i+=e.bandwidth()/2),r?.bandwidth&&(a+=r.bandwidth()/2),(i||a)&&t.attr("transform",`translate(${i},${a})`)}function ry(t,n){if((t=lp(t))!==n)return t}function iy(t,n){if((t=sp(t))!==n)return t}const ay=/^-?([_a-z]|[\240-\377]|\\[0-9a-f]{1,6}(\r\n|[ \t\r\n\f])?|\\[^\r\n\f0-9a-f])([_a-z0-9-]|[\240-\377]|\\[0-9a-f]{1,6}(\r\n|[ \t\r\n\f])?|\\[^\r\n\f0-9a-f])*$/i;function oy(t){if(void 0===t)return"plot-d6a7b5";if(t=`${t}`,!ay.test(t))throw new Error(`invalid class name: ${t}`);return t}function cy(t,n){if("string"==typeof n)t.property("style",n);else if(null!=n)for(const e of t)Object.assign(e.style,n)}function fy({frameAnchor:t},{width:n,height:e,marginTop:r,marginRight:i,marginBottom:a,marginLeft:o}){return[/left$/.test(t)?o:/right$/.test(t)?n-i:(o+n-i)/2,/^top/.test(t)?r:/^bottom/.test(t)?e-a:(r+e-a)/2]}function uy({filter:t,sort:n,reverse:e,transform:r,initializer:i,...a}={},o){if(void 0===r&&(null!=t&&(r=py(t)),null==n||Lp(n)||(r=sy(r,by(n))),e&&(r=sy(r,gy))),null!=o&&null!=i)throw new Error("transforms cannot be applied after initializers");return{...a,...(null===n||Lp(n))&&{sort:n},transform:sy(r,o)}}function ly({filter:t,sort:n,reverse:e,initializer:r,...i}={},a){return void 0===r&&(null!=t&&(r=py(t)),null==n||Lp(n)||(r=dy(r,by(n))),e&&(r=dy(r,gy))),{...i,...(null===n||Lp(n))&&{sort:n},initializer:dy(r,a)}}function sy(t,n){return null==t?null===n?void 0:n:null==n?null===t?void 0:t:function(e,r,i){return({data:e,facets:r}=t.call(this,e,r,i)),n.call(this,kp(e),r,i)}}function dy(t,n){return null==t?null===n?void 0:n:null==n?null===t?void 0:t:function(e,r,i,...a){let o,c,f,u,l,s;return({data:c=e,facets:f=r,channels:o}=t.call(this,e,r,i,...a)),({data:l=c,facets:s=f,channels:u}=n.call(this,c,f,{...i,...o},...a)),{data:l,facets:s,channels:{...o,...u}}}}function hy(t,n){return(null!=t.initializer?ly:uy)(t,n)}function py(t){return(n,e)=>{const r=tp(n,t);return{data:n,facets:e.map((t=>t.filter((t=>r[t]))))}}}function gy(t,n){return{data:t,facets:n.map((t=>t.slice().reverse()))}}function by(t){return("function"==typeof t&&1!==t.length?my:yy)(t)}function my(t){return(n,e)=>{const r=Gh(n)?(e,r)=>t(n[e],n[r]):(e,r)=>t(n.get(e),n.get(r));return{data:n,facets:e.map((t=>t.slice().sort(r)))}}}function yy(t){let n,e;({channel:n,value:t,order:e}={...qp(t)});const r=n?.startsWith("-");if(r&&(n=n.slice(1)),void 0===e&&(e=r?bh:gh),"function"!=typeof e)switch(`${e}`.toLowerCase()){case"ascending":e=gh;break;case"descending":e=bh;break;default:throw new Error(`invalid order: ${e}`)}return(r,i,a)=>{let o;if(void 0===n)o=tp(r,t);else{if(void 0===a)throw new Error("channel sort requires an initializer");if(o=a[n],!o)return{};o=o.value}const c=(t,n)=>e(o[t],o[n]);return{data:r,facets:i.map((t=>t.slice().sort(c)))}}}class vy{constructor(t,n={},e={},r){const{facet:i="auto",facetAnchor:a,fx:o,fy:c,sort:f,dx:u=0,dy:l=0,margin:s=0,marginTop:d=s,marginRight:h=s,marginBottom:p=s,marginLeft:g=s,className:b,clip:m=r?.clip,channels:y,tip:v,render:w}=e;if(this.data=t,this.sort=Lp(f)?f:null,this.initializer=ly(e).initializer,this.transform=this.initializer?e.transform:uy(e).transform,null===i||!1===i?this.facet=null:(this.facet=Mp(!0===i?"include":i,"facet",["auto","include","exclude","super"]),this.fx=t===ap&&"string"==typeof o?[o]:o,this.fy=t===ap&&"string"==typeof c?[c]:c),this.facetAnchor=function(t){if(null==t)return null;const n=fm.get(`${t}`.toLowerCase());if(n)return n;throw new Error(`invalid facet anchor: ${t}`)}(a),n=rg(n),void 0!==y&&(n={...My(y),...n}),void 0!==r&&(n={...Wm(this,e,r),...n}),this.channels=Object.fromEntries(Object.entries(n).map((([n,e])=>{if(Np(e.value)){const{value:t,label:n=e.label,scale:r=e.scale}=e.value;e={...e,label:n,scale:r,value:t}}if(t===ap&&"string"==typeof e.value){const{value:t}=e;e={...e,value:[t]}}return[n,e]})).filter((([t,{value:n,optional:e}])=>{if(null!=n)return!0;if(e)return!1;throw new Error(`missing channel value: ${t}`)}))),this.dx=+u,this.dy=+l,this.marginTop=+d,this.marginRight=+h,this.marginBottom=+p,this.marginLeft=+g,this.clip=ig(m),this.tip=function(t){return!0===t?"xy":!1===t||null==t?null:"string"==typeof t?Mp(t,"tip",["x","y","xy"]):t}(v),this.className=lp(b),"super"===this.facet){if(o||c)throw new Error("super-faceting cannot use fx or fy");for(const t in this.channels){const{scale:e}=n[t];if("x"===e||"y"===e)throw new Error("super-faceting cannot use x or y")}}null!=w&&(this.render=xy(w,this.render))}initialize(t,n,e){let r=kp(this.data);void 0===t&&null!=r&&(t=[Op(r)]);const i=t;null!=this.transform&&(({facets:t,data:r}=this.transform(r,t,e)),r=kp(r)),void 0!==t&&(t.original=i);const a=function(t,n){return Object.fromEntries(Object.entries(t).map((([t,e])=>[t,Cg(n,e,t)])))}(this.channels,r);return null!=this.sort&&function(t,n,e,r,i){const{order:a,reverse:o,reduce:c=!0,limit:f}=i;for(const u in i){if(!pg.has(u))continue;let{value:l,order:s=a,reverse:d=o,reduce:h=c,limit:g=f}=qp(i[u]);const b=l?.startsWith("-");if(b&&(l=l.slice(1)),s=void 0===s?b!==("width"===l||"height"===l)?Ig:jg:Ug(s),null==h||!1===h)continue;const m="fx"===u||"fy"===u?Fg(n,r[u]):Og(e,u);if(!m)throw new Error(`missing channel for scale: ${u}`);const y=m.value,[v=0,w=1/0]=Bp(g)?g:g<0?[g]:[0,g];if(null==l)m.domain=()=>{let t=Array.from(new p(y));return d&&(t=t.reverse()),0===v&&w===1/0||(t=t.slice(v,w)),t};else{const n="data"===l?t:"height"===l?Rg(e,"y1","y2"):"width"===l?Rg(e,"x1","x2"):zg(e,l,"y"===l?"y2":"x"===l?"x2":void 0),r=xg(!0===h?"max":h,n);m.domain=()=>{let t=x(Op(y),(t=>r.reduceIndex(t,n)),(t=>y[t]));return s&&t.sort(s),d&&t.reverse(),0===v&&w===1/0||(t=t.slice(v,w)),t.map(dp)}}}}(r,t,a,n,this.sort),{data:r,facets:t,channels:a}}filter(t,n,e){for(const r in n){const{filter:i=ph}=n[r];if(null!==i){const n=e[r];t=t.filter((t=>i(n[t])))}}return t}project(t,n,e){for(const r in t)if("x"===t[r].scale&&/^x|x$/.test(r)){const i=r.replace(/^x|x$/,"y");i in t&&"y"===t[i].scale&&Sm(r,i,n,e.projection)}}scale(t,n,e){const r=function(t,n){const e=Object.fromEntries(Object.entries(t).map((([t,{scale:e,value:r}])=>{const i=null==e?null:n[e];return[t,null==i?r:Ap(r,i)]})));return e.channels=t,e}(t,n);return e.projection&&this.project(t,r,e),r}}function wy(...t){return t.plot=vy.prototype.plot,t}function xy(t,n){if(null==t)return null===n?void 0:n;if(null==n)return null===t?void 0:t;if("function"!=typeof t)throw new TypeError(`invalid render transform: ${t}`);if("function"!=typeof n)throw new TypeError(`invalid render transform: ${n}`);return function(e,r,i,a,o,c){return t.call(this,e,r,i,a,o,((t,e,r,i,a)=>n.call(this,t,e,r,i,a,c)))}}function My(t){return Object.fromEntries(Object.entries(rg(t)).map((([t,n])=>(void 0===(n="string"==typeof n?{value:n,label:t}:qp(n)).filter&&null==n.scale&&(n={...n,filter:null}),[t,n]))))}function ky(t,n){return!0===t?.tip?{...t,tip:n}:Sp(t?.tip)&&void 0===t.tip.pointer?{...t,tip:{...t.tip,pointer:n}}:t}function $y({x:t,y:n,fy:e,fx:r},{projection:i,aspectRatio:a},{width:o,marginTopDefault:c,marginRightDefault:f,marginBottomDefault:u,marginLeftDefault:l}){const s=e&&e.scale.domain().length||1,d=function(t){if("function"==typeof t?.stream)return xm;if(Sp(t)){let n,e;if(({domain:n,type:t,...e}=t),null!=n&&null!=t){const r="string"==typeof t?km(t).type:t,[[i,a],[o,c]]=La(r({...e,width:100,height:100})).bounds(n),f=(c-a)/(o-i);return f&&isFinite(f)?f<.2?.2:f>5?5:f:xm}}if(null!=t){if("function"!=typeof t){const{aspectRatio:n}=km(t);if(n)return n}return xm}}(i);if(d){const t=(1.1*s-.1)/(1.1*(r?r.scale.domain().length:1)-.1)*d,n=Math.max(.1,Math.min(10,t));return Math.round((o-l-f)*n+c+u)}const h=n?Kb(n)?n.scale.domain().length||1:Math.max(7,17/s):1;if(null!=a){if(a=+a,!(isFinite(a)&&a>0))throw new Error(`invalid aspectRatio: ${a}`);const i=_y("y",n)/(_y("x",t)*a),s=r?r.scale.bandwidth():1,d=e?e.scale.bandwidth():1;return(i*(s*(o-l-f)-t.insetLeft-t.insetRight)+n.insetTop+n.insetBottom)/d+c+u}return!(!n&&!e)*Math.max(1,Math.min(60,h*s))*20+30*!!r+60}function _y(t,n){if(!n)throw new Error(`aspectRatio requires ${t} scale`);const{type:e,domain:r}=n;let i;switch(e){case"linear":case"utc":case"time":i=Number;break;case"pow":{const t=n.scale.exponent();i=n=>Math.pow(n,t);break}case"log":i=Math.log;break;case"point":case"band":return r.length;default:throw new Error(`unsupported ${t} scale for aspectRatio: ${e}`)}const[a,o]=d(r);return Math.abs(i(o)-i(a))}const Ay=new WeakMap;function Ty(t,n,{x:e,y:r,px:i,py:a,maxRadius:o=40,channels:c,render:f,...u}={}){return o=+o,null!=i&&(e??=null,c={...c,px:{value:i,scale:"x"}}),null!=a&&(r??=null,c={...c,py:{value:a,scale:"y"}}),{x:e,y:r,channels:c,...u,render:xy((function(e,r,i,a,c,f){const u=(c={...c,pointerSticky:!1}).ownerSVGElement,{data:l}=c.getMarkState(this);let s=Ay.get(u);s||Ay.set(u,s={sticky:!1,roots:[],renders:[]});let d=s.renders.push(C)-1;const{x:h,y:p,fx:g,fy:b}=r;let m=g?g(e.fx)-a.marginLeft:0,y=b?b(e.fy)-a.marginTop:0;h?.bandwidth&&(m+=h.bandwidth()/2),p?.bandwidth&&(y+=p.bandwidth()/2);const v=null!=e.fi;let w;if(v){let t=s.facetStates;t||(s.facetStates=t=new Map),w=t.get(this),w||t.set(this,w=new Map)}const[x,M]=fy(this,a),{px:k,py:$}=i,_=k?t=>k[t]:Ly(i,x),A=$?t=>$[t]:Cy(i,M);let T,S,E,N;function L(t,n){if(v){if(N&&(N=cancelAnimationFrame(N)),null!=t)return w.set(e.fi,n),void(N=requestAnimationFrame((()=>{N=null;for(const[r,i]of w)if(i<n||i===n&&r<e.fi){t=null;break}C(t)})));w.delete(e.fi)}C(t)}function C(t){if(T===t&&E===s.sticky)return;T=t,E=c.pointerSticky=s.sticky;const n=null==T?[]:[T];v&&(n.fx=e.fx,n.fy=e.fy,n.fi=e.fi);const o=f(n,r,i,a,c);if(S){if(v){const t=S.parentNode,n=S.getAttribute("transform"),e=o.getAttribute("transform");n?o.setAttribute("transform",n):o.removeAttribute("transform"),e?t.setAttribute("transform",e):t.removeAttribute("transform"),o.removeAttribute("aria-label"),o.removeAttribute("aria-description"),o.removeAttribute("aria-hidden")}S.replaceWith(o)}if(s.roots[d]=S=o,!(null==T&&w?.size>1)){const t=null==T?null:Gh(l)?l[T]:l.get(T);c.dispatchValue(t)}return o}function D(r){if(s.sticky||"mouse"===r.pointerType&&1===r.buttons)return;let[i,c]=function(t,n){if(t=function(t){let n;for(;n=t.sourceEvent;)t=n;return t}(t),void 0===n&&(n=t.currentTarget),n){var e=n.ownerSVGElement||n;if(e.createSVGPoint){var r=e.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,[(r=r.matrixTransform(n.getScreenCTM().inverse())).x,r.y]}if(n.getBoundingClientRect){var i=n.getBoundingClientRect();return[t.clientX-i.left-n.clientLeft,t.clientY-i.top-n.clientTop]}}return[t.pageX,t.pageY]}(r);i-=m,c-=y;const f=i<a.marginLeft||i>a.width-a.marginRight?1:t,u=c<a.marginTop||c>a.height-a.marginBottom?1:n;let l=null,d=o*o;for(const t of e){const n=f*(_(t)-i),e=u*(A(t)-c),r=n*n+e*e;r<=d&&(l=t,d=r)}if(null!=l&&(1!==t||1!==n)){const t=_(l)-i,n=A(l)-c;d=t*t+n*n}L(l,d)}return u.addEventListener("pointerenter",D),u.addEventListener("pointermove",D),u.addEventListener("pointerdown",(function(t){"mouse"===t.pointerType&&null!=T&&(s.sticky&&s.roots.some((n=>n?.contains(t.target)))||(s.sticky?(s.sticky=!1,s.renders.forEach((t=>t(null)))):(s.sticky=!0,C(T)),t.stopImmediatePropagation()))})),u.addEventListener("pointerleave",(function(t){"mouse"===t.pointerType&&(s.sticky||L(null))})),C(null)}),f)}}function Sy(t){return Ty(1,1,t)}function Ey(t){return Ty(1,.01,t)}function Ny(t){return Ty(.01,1,t)}function Ly({x1:t,x2:n,x:e=t},r){return t&&n?e=>(t[e]+n[e])/2:e?t=>e[t]:()=>r}function Cy({y1:t,y2:n,y:e=t},r){return t&&n?e=>(t[e]+n[e])/2:e?t=>e[t]:()=>r}function Dy(t){return Kb(t)&&void 0===t.interval?void 0:"tabular-nums"}function Oy(t,n){let{label:e=t.label,tickSize:r=6,width:i=240,height:a=44+r,marginTop:o=18,marginRight:c=0,marginBottom:f=16+r,marginLeft:u=0,style:l,ticks:s=(i-u-c)/64,tickFormat:d,fontVariant:h=Dy(t),round:p=!0,opacity:g,className:b}=n;const m=Lm(n);b=oy(b),g=wp(g)[1],null===d&&(d=()=>null);const y=Cm("svg",m).attr("class",`${b}-ramp`).attr("font-family","system-ui, sans-serif").attr("font-size",10).attr("width",i).attr("height",a).attr("viewBox",`0 0 ${i} ${a}`).call((t=>t.append("style").text(`:where(.${b}-ramp) {\n  display: block;\n  height: auto;\n  height: intrinsic;\n  max-width: 100%;\n  overflow: visible;\n}\n:where(.${b}-ramp text) {\n  white-space: pre;\n}`))).call(cy,l);let v,w=t=>t.selectAll(".tick line").attr("y1",o+f-a);const x=p?(t,n)=>t.rangeRound(n):(t,n)=>t.range(n),{type:M,domain:k,range:$,interpolate:_,scale:A,pivot:T}=t;if(_){const t=void 0===$?_:_c(1===_.length?yb(_):_,$);v=x(A.copy(),Ac(Xn(u,i-c),Math.min(k.length+(void 0!==T),void 0===$?1/0:$.length)));const n=256,e=m.document.createElement("canvas");e.width=n,e.height=1;const r=e.getContext("2d");for(let i=0,a=n-1;i<n;++i)r.fillStyle=t(i/a),r.fillRect(i,0,1,1);y.append("image").attr("opacity",g).attr("x",u).attr("y",o).attr("width",i-u-c).attr("height",a-o-f).attr("preserveAspectRatio","none").attr("xlink:href",e.toDataURL())}else if("threshold"===M){const t=k,n=void 0===d?t=>t:"string"==typeof d?Rr(d):d;v=x(nf().domain([-1,$.length-1]),[u,i-c]),y.append("g").attr("fill-opacity",g).selectAll().data($).enter().append("rect").attr("x",((t,n)=>v(n-1))).attr("y",o).attr("width",((t,n)=>v(n)-v(n-1))).attr("height",a-o-f).attr("fill",(t=>t)),s=Ap(t,((t,n)=>n)),d=e=>n(t[e],e)}else v=x(Uc().domain(k),[u,i-c]),y.append("g").attr("fill-opacity",g).selectAll().data(k).enter().append("rect").attr("x",v).attr("y",o).attr("width",Math.max(0,v.bandwidth()-1)).attr("height",a-o-f).attr("fill",A),w=()=>{};return y.append("g").attr("transform",`translate(0,${a-f})`).call(function(t){return et(3,t)}(v).ticks(Array.isArray(s)?null:s,"string"==typeof d?d:void 0).tickFormat("function"==typeof d?d:void 0).tickSize(r).tickValues(Array.isArray(s)?s:null)).attr("font-size",null).attr("font-family",null).attr("font-variant",ry(h,"normal")).call(w).call((t=>t.select(".domain").remove())),void 0!==e&&y.append("text").attr("x",u).attr("y",o-6).attr("fill","currentColor").attr("font-weight","bold").text(e),y.node()}const Fy=Math.PI/180;function Ry(t,{marker:n,markerStart:e=n,markerMid:r=n,markerEnd:i=n}={}){t.markerStart=zy(e),t.markerMid=zy(r),t.markerEnd=zy(i)}function zy(t){if(null==t||!1===t)return null;if(!0===t)return Iy;if("function"==typeof t)return t;switch(`${t}`.toLowerCase()){case"none":return null;case"arrow":return Uy("auto");case"arrow-reverse":return Uy("auto-start-reverse");case"dot":return jy;case"circle":case"circle-fill":return Iy;case"circle-stroke":return Py;case"tick":return qy("auto");case"tick-x":return qy(90);case"tick-y":return qy(0)}throw new Error(`invalid marker: ${t}`)}function Uy(t){return(n,e)=>Cm("svg:marker",e).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("orient",t).attr("fill","none").attr("stroke",n).attr("stroke-width",1.5).attr("stroke-linecap","round").attr("stroke-linejoin","round").call((t=>t.append("path").attr("d","M-1.5,-3l3,3l-3,3"))).node()}function jy(t,n){return Cm("svg:marker",n).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("fill",t).attr("stroke","none").call((t=>t.append("circle").attr("r",2.5))).node()}function Iy(t,n){return Cm("svg:marker",n).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("fill",t).attr("stroke","var(--plot-background)").attr("stroke-width",1.5).call((t=>t.append("circle").attr("r",3))).node()}function Py(t,n){return Cm("svg:marker",n).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("fill","var(--plot-background)").attr("stroke",t).attr("stroke-width",1.5).call((t=>t.append("circle").attr("r",3))).node()}function qy(t){return(n,e)=>Cm("svg:marker",e).attr("viewBox","-3 -3 6 6").attr("markerWidth",6).attr("markerHeight",6).attr("orient",t).attr("stroke",n).call((t=>t.append("path").attr("d","M0,-3v6"))).node()}let By=0;function Hy(t,n,{stroke:e},r){return Vy(t,n,e&&(t=>e[t]),null,r)}const Wy=1,Yy=2;function Vy(t,{markerStart:n,markerMid:e,markerEnd:r,stroke:i},a=()=>i,o,c){if(!n&&!e&&!r)return;const f=new Map,u=o&&function(t,n){const e=new Uint8Array(n.length),r=t.data().filter((t=>t.length>1)),i=r.length;for(let a=0,o=Fm;a<i;++a){const t=r[a];if(t.length>1){const r=t[0];o!==(o=Rp(n[r]))&&(e[r]|=Wy)}}for(let a=i-1,o=Fm;a>=0;--a){const t=r[a];if(t.length>1){const r=t[0];o!==(o=Rp(n[r]))&&(e[r]|=Yy)}}return([t])=>e[t]}(t,o);function l(t,n,e){return function(r){if(e&&!e(r))return;const i=a(r);let o=f.get(n);o||f.set(n,o=new Map);let u=o.get(i);if(!u){const t=this.parentNode.insertBefore(n(i,c),this),e="plot-marker-"+ ++By;t.setAttribute("id",e),o.set(i,u=`url(#${e})`)}this.setAttribute(t,u)}}n&&t.each(l("marker-start",n,u&&(t=>u(t)&Wy))),e&&u&&t.each(l("marker-start",e,(t=>!(u(t)&Wy)))),e&&t.each(l("marker-mid",e)),r&&t.each(l("marker-end",r,u&&(t=>u(t)&Yy)))}function Xy({inset:t,insetLeft:n,insetRight:e,...r}={}){return[n,e]=Gy(t,n,e),{inset:t,insetLeft:n,insetRight:e,...r}}function Zy({inset:t,insetTop:n,insetBottom:e,...r}={}){return[n,e]=Gy(t,n,e),{inset:t,insetTop:n,insetBottom:e,...r}}function Gy(t,n,e){return void 0===t&&void 0===n&&void 0===e?qm?[1,0]:[.5,.5]:[n,e]}function Qy(t,{interval:n}){return(t={...qp(t)}).interval=jp(void 0===t.interval?n:t.interval),t}function Jy(t,n,e,r){const{[t]:i,[`${t}1`]:a,[`${t}2`]:o}=e,{value:c,interval:f}=Qy(i,e);if(null==c||null==f&&!r)return e;const u=zp(i);if(null==f){let n;const i={transform:t=>n||(n=tp(t,c)),label:u};return{...e,[t]:void 0,[`${t}1`]:void 0===a?i:a,[`${t}2`]:void 0!==o||a===o&&r?o:i}}let l,s;function d(t){return void 0!==s&&t===l?s:s=Ap(tp(l=t,c),(t=>f.floor(t)))}return n({...e,[t]:void 0,[`${t}1`]:void 0===a?{transform:d,label:u}:a,[`${t}2`]:void 0===o?{transform:t=>d(t).map((t=>f.offset(t))),label:u}:o})}function Ky(t,n,e){const{[t]:r}=e,{value:i,interval:a}=Qy(r,e);return null==i||null==a?e:n({...e,[t]:{label:zp(r),transform:t=>{const n=Ap(tp(t,i),(t=>a.floor(t))),e=n.map((t=>a.offset(t)));return n.map(Yp(n)?(t,n)=>null==t||isNaN(t=+t)||null==(n=e[n])||isNaN(n=+n)?void 0:new Date((t+n)/2):(t,n)=>null==t||null==(n=e[n])?NaN:(+t+ +n)/2)}}})}const tv={ariaLabel:"rule",fill:null,stroke:"currentColor"};class nv extends vy{constructor(t,n={}){const{x:e,y1:r,y2:i,inset:a=0,insetTop:o=a,insetBottom:c=a}=n;super(t,{x:{value:e,scale:"x",optional:!0},y1:{value:r,scale:"y",optional:!0},y2:{value:i,scale:"y",optional:!0}},ky(n,"x"),tv),this.insetTop=sp(o),this.insetBottom=sp(c),Ry(this,n)}render(t,n,e,r,i){const{x:a,y:o}=n,{x:c,y1:f,y2:u}=e,{width:l,height:s,marginTop:d,marginRight:h,marginLeft:p,marginBottom:g}=r,{insetTop:b,insetBottom:m}=this;return Cm("svg:g",i).call(Jm,this,r,i).call(ey,this,{x:c&&a},qm,0).call((n=>n.selectAll().data(t).enter().append("line").call(Km,this).attr("x1",c?t=>c[t]:(p+l-h)/2).attr("x2",c?t=>c[t]:(p+l-h)/2).attr("y1",f&&!nm(o)?t=>f[t]+b:d+b).attr("y2",u&&!nm(o)?o.bandwidth?t=>u[t]+o.bandwidth()-m:t=>u[t]-m:s-g-m).call(Vm,this,e).call(Hy,this,e,i))).node()}}class ev extends vy{constructor(t,n={}){const{x1:e,x2:r,y:i,inset:a=0,insetRight:o=a,insetLeft:c=a}=n;super(t,{y:{value:i,scale:"y",optional:!0},x1:{value:e,scale:"x",optional:!0},x2:{value:r,scale:"x",optional:!0}},ky(n,"y"),tv),this.insetRight=sp(o),this.insetLeft=sp(c),Ry(this,n)}render(t,n,e,r,i){const{x:a,y:o}=n,{y:c,x1:f,x2:u}=e,{width:l,height:s,marginTop:d,marginRight:h,marginLeft:p,marginBottom:g}=r,{insetLeft:b,insetRight:m}=this;return Cm("svg:g",i).call(Jm,this,r,i).call(ey,this,{y:c&&o},0,qm).call((n=>n.selectAll().data(t).enter().append("line").call(Km,this).attr("x1",f&&!nm(a)?t=>f[t]+b:p+b).attr("x2",u&&!nm(a)?a.bandwidth?t=>u[t]+a.bandwidth()-m:t=>u[t]-m:l-h-m).attr("y1",c?t=>c[t]:(d+s-g)/2).attr("y2",c?t=>c[t]:(d+s-g)/2).call(Vm,this,e).call(Hy,this,e,i))).node()}}function rv(t,n){let{x:e=fp,y:r,y1:i,y2:a,...o}=function(t={}){return Jy("y",Zy,t)}(n);return[i,a]=av(r,i,a),new nv(t,{...o,x:e,y1:i,y2:a})}function iv(t,n){let{y:e=fp,x:r,x1:i,x2:a,...o}=function(t={}){return Jy("x",Xy,t)}(n);return[i,a]=av(r,i,a),new ev(t,{...o,y:e,x1:i,x2:a})}function av(t,n,e){if(null==t){if(void 0===n){if(void 0!==e)return[0,e]}else if(void 0===e)return[0,n]}else{if(void 0===n)return void 0===e?[0,t]:[t,e];if(void 0===e)return[t,n]}return[n,e]}function ov(t,...n){let e=n.length;for(let r=0,i=!0;r<e;++r)"function"!=typeof n[r]&&(i&&(t=t.slice(),i=!1),t.splice(r,2,t[r]+n[r]+t[r+1]),n.splice(r,1),--r,--e);return r=>{let i=t[0];for(let a=0;a<e;++a)i+=n[a](r)+t[a+1];return i}}const cv={ariaLabel:"text",strokeLinejoin:"round",strokeWidth:3,paintOrder:"stroke"};class fv extends vy{constructor(t,n={}){const{x:e,y:r,text:i=(Bp(t)&&Hp(t)?fp:cp),frameAnchor:a,textAnchor:o=(/right$/i.test(a)?"end":/left$/i.test(a)?"start":"middle"),lineAnchor:c=(/^top/i.test(a)?"top":/^bottom/i.test(a)?"bottom":"middle"),lineHeight:f=1,lineWidth:u=1/0,textOverflow:l,monospace:s,fontFamily:d=(s?"ui-monospace, monospace":void 0),fontSize:h,fontStyle:p,fontVariant:g,fontWeight:b,rotate:m}=n,[y,v]=wp(m,0),[w,x]=function(t){return null==t||"number"==typeof t?[void 0,t]:"string"!=typeof t?[t,void 0]:(t=t.trim().toLowerCase(),gv.has(t)||/^[+-]?\d*\.?\d+(e[+-]?\d+)?(\w*|%)$/.test(t)?[void 0,t]:[t,void 0])}(h);var M;if(super(t,{x:{value:e,scale:"x",optional:!0},y:{value:r,scale:"y",optional:!0},fontSize:{value:w,optional:!0},rotate:{value:(M=y,null==M?null:{transform:t=>tp(t,M,Float64Array),label:zp(M)}),optional:!0},text:{value:i,filter:mh,optional:!0}},n,cv),this.rotate=v,this.textAnchor=ry(o,"middle"),this.lineAnchor=Mp(c,"lineAnchor",["top","middle","bottom"]),this.lineHeight=+f,this.lineWidth=+u,this.textOverflow=uv(l),this.monospace=!!s,this.fontFamily=lp(d),this.fontSize=x,this.fontStyle=lp(p),this.fontVariant=lp(g),this.fontWeight=lp(b),this.frameAnchor=eg(a),!(this.lineWidth>=0))throw new Error(`invalid lineWidth: ${u}`);this.splitLines=wv(this),this.clipLine=xv(this)}render(t,n,e,r,i){const{x:a,y:o}=n,{x:c,y:f,rotate:u,text:l,title:s,fontSize:d}=e,{rotate:h}=this,[p,g]=fy(this,r);return Cm("svg:g",i).call(Jm,this,r,i).call(pv,this,l,r).call(ey,this,{x:c&&a,y:f&&o}).call((n=>n.selectAll().data(t).enter().append("text").call(Km,this).call(lv,this,l,s).attr("transform",ov`translate(${c?t=>c[t]:p},${f?t=>f[t]:g})${u?t=>` rotate(${u[t]})`:h?` rotate(${h})`:""}`).call(ny,"font-size",d&&(t=>d[t])).call(Vm,this,e))).node()}}function uv(t){return null==t?null:Mp(t,"textOverflow",["clip","ellipsis","clip-start","clip-end","ellipsis-start","ellipsis-middle","ellipsis-end"]).replace(/^(clip|ellipsis)$/,"$1-end")}function lv(t,n,e,r){if(!e)return;const{lineAnchor:i,lineHeight:a,textOverflow:o,splitLines:c,clipLine:f}=n;t.each((function(t){const n=c(Pm(e[t])??"").map(f),u=n.length,l="top"===i?.71:"bottom"===i?1-u:(164-100*u)/200;if(u>1){let t=0;for(let e=0;e<u;++e){if(++t,!n[e])continue;const r=this.ownerDocument.createElementNS(kt.svg,"tspan");r.setAttribute("x",0),e===t-1?r.setAttribute("y",(l+e)*a+"em"):r.setAttribute("dy",t*a+"em"),r.textContent=n[e],this.appendChild(r),t=0}}else l&&this.setAttribute("y",l*a+"em"),this.textContent=n[0];if(o&&!r&&n[0]!==e[t]){const n=this.ownerDocument.createElementNS(kt.svg,"title");n.textContent=e[t],this.appendChild(n)}}))}function sv(t,{x:n,y:e,...r}={}){return void 0===r.frameAnchor&&([n,e]=Cp(n,e)),new fv(t,{...r,x:n,y:e})}function dv(t,{x:n=fp,...e}={}){return new fv(t,function(t={}){return Ky("y",Zy,t)}({...e,x:n}))}function hv(t,{y:n=fp,...e}={}){return new fv(t,function(t={}){return Ky("x",Xy,t)}({...e,y:n}))}function pv(t,n,e){ny(t,"text-anchor",n.textAnchor),ny(t,"font-family",n.fontFamily),ny(t,"font-size",n.fontSize),ny(t,"font-style",n.fontStyle),ny(t,"font-variant",void 0===n.fontVariant?function(t){return t&&(function(t){for(const n of t)if(null!=n)return"number"==typeof n}(t)||Yp(t))?"tabular-nums":void 0}(e):n.fontVariant),ny(t,"font-weight",n.fontWeight)}const gv=new Set(["inherit","initial","revert","unset","xx-small","x-small","small","medium","large","x-large","xx-large","xxx-large","larger","smaller"]);function bv(t,n,e){const r=[];let i,a=0;for(const[o,c,f]of function*(t){let n=0,e=0;const r=t.length;for(;e<r;){let r=1;switch(t[e]){case"­":case"-":++e,yield[n,e,!1],n=e;break;case" ":for(yield[n,e,!1];" "===t[++e];);n=e;break;case"\r":"\n"===t[e+1]&&++r;case"\n":yield[n,e,!0],e+=r,n=e;break;default:++e}}yield[n,e,!0]}(t))void 0===i&&(i=o),a>i&&e(t,i,c)>n&&(r.push(t.slice(i,a)+("­"===t[a-1]?"-":"")),i=o),f?(r.push(t.slice(i,c)),i=void 0):a=c;return r}const mv={a:56,b:63,c:57,d:63,e:58,f:37,g:62,h:60,i:26,j:26,k:55,l:26,m:88,n:60,o:60,p:62,q:62,r:39,s:54,t:38,u:60,v:55,w:79,x:54,y:55,z:55,A:69,B:67,C:73,D:74,E:61,F:58,G:76,H:75,I:28,J:55,K:67,L:58,M:89,N:75,O:78,P:65,Q:78,R:67,S:65,T:65,U:75,V:69,W:98,X:69,Y:67,Z:67,0:64,1:48,2:62,3:64,4:66,5:63,6:65,7:58,8:65,9:65," ":29,"!":32,'"':49,"'":31,"(":39,")":39,",":31,"-":48,".":31,"/":32,":":31,";":31,"?":52,"‘":31,"’":31,"“":47,"”":47,"…":82};function yv(t,n=0,e=t.length){let r=0;for(let i=n;i<e;i=Sv(t,i))r+=mv[t[i]]??(Nv(t,i)?120:mv.e);return r}function vv(t,n=0,e=t.length){let r=0;for(let i=n;i<e;i=Sv(t,i))r+=Nv(t,i)?126:63;return r}function wv({monospace:t,lineWidth:n,textOverflow:e}){if(null!=e||n==1/0)return t=>t.split(/\r\n?|\n/g);const r=t?vv:yv,i=100*n;return t=>bv(t,i,r)}function xv({monospace:t,lineWidth:n,textOverflow:e}){if(null==e||n==1/0)return t=>t;const r=t?vv:yv,i=100*n;switch(e){case"clip-start":return t=>_v(t,i,r,"");case"clip-end":return t=>$v(t,i,r,"");case"ellipsis-start":return t=>_v(t,i,r,Mv);case"ellipsis-middle":return t=>function(t,n,e,r){t=t.trim();const i=e(t);if(i<=n)return t;const a=e(r)/2,[o,c]=kv(t,n/2,e,a),[f]=kv(t,i-n/2-c+a,e,-a);return f<0?r:t.slice(0,o).trimEnd()+r+t.slice(Sv(t,f)).trimStart()}(t,i,r,Mv);case"ellipsis-end":return t=>$v(t,i,r,Mv)}}const Mv="…";function kv(t,n,e,r){const i=[];let a=0;for(let o=0,c=0,f=t.length;o<f;o=c){c=Sv(t,o);const f=e(t,o,c);if(a+f>n){for(a+=r;a>n&&o>0;)c=o,o=i.pop(),a-=e(t,o,c);return[o,n-a]}a+=f,i.push(o)}return[-1,0]}function $v(t,n,e,r){t=t.trim();const i=e(r),[a]=kv(t,n,e,i);return a<0?t:t.slice(0,a).trimEnd()+r}function _v(t,n,e,r){const i=e(t=t.trim());if(i<=n)return t;const a=e(r),[o]=kv(t,i-n+a,e,-a);return o<0?r:r+t.slice(Sv(t,o)).trimStart()}const Av=/[\p{Combining_Mark}\p{Emoji_Modifier}]+/uy,Tv=/\p{Extended_Pictographic}/uy;function Sv(t,n){return n+=function(t,n){const e=t.charCodeAt(n);if(e>=55296&&e<56320){const e=t.charCodeAt(n+1);return e>=56320&&e<57344}return!1}(t,n)?2:1,function(t,n){return!Ev(t,n)&&(Av.lastIndex=n,Av.test(t))}(t,n)&&(n=Av.lastIndex),function(t,n){return 8205===t.charCodeAt(n)}(t,n)?Sv(t,n+1):n}function Ev(t,n){return t.charCodeAt(n)<128}function Nv(t,n){return!Ev(t,n)&&(Tv.lastIndex=n,Tv.test(t))}const Lv={ariaLabel:"vector",fill:"none",stroke:"currentColor",strokeWidth:1.5,strokeLinejoin:"round",strokeLinecap:"round"},Cv=3.5,Dv=5*Cv,Ov={draw(t,n,e){const r=n*e/Dv;t.moveTo(0,0),t.lineTo(0,-n),t.moveTo(-r,r-n),t.lineTo(0,-n),t.lineTo(r,r-n)}},Fv={draw(t,n,e){t.moveTo(-e,0),t.lineTo(0,-n),t.lineTo(e,0)}},Rv=new Map([["arrow",Ov],["spike",Fv]]);class zv extends vy{constructor(t,n={}){const{x:e,y:r,r:i=Cv,length:a,rotate:o,shape:c=Ov,anchor:f="middle",frameAnchor:u}=n,[l,s]=wp(a,12),[d,h]=wp(o,0);super(t,{x:{value:e,scale:"x",optional:!0},y:{value:r,scale:"y",optional:!0},length:{value:l,scale:"length",optional:!0},rotate:{value:d,optional:!0}},n,Lv),this.r=+i,this.length=s,this.rotate=h,this.shape=function(t){if(function(t){return t&&"function"==typeof t.draw}(t))return t;const n=Rv.get(`${t}`.toLowerCase());if(n)return n;throw new Error(`invalid shape: ${t}`)}(c),this.anchor=Mp(f,"anchor",["start","middle","end"]),this.frameAnchor=eg(u)}render(t,n,e,r,i){const{x:a,y:o}=n,{x:c,y:f,length:u,rotate:l}=e,{length:s,rotate:d,anchor:h,shape:p,r:g}=this,[b,m]=fy(this,r);return Cm("svg:g",i).call(Jm,this,r,i).call(ey,this,{x:c&&a,y:f&&o}).call((n=>n.selectAll().data(t).enter().append("path").call(Km,this).attr("transform",ov`translate(${c?t=>c[t]:b},${f?t=>f[t]:m})${l?t=>` rotate(${l[t]})`:d?` rotate(${d})`:""}${"start"===h?"":"end"===h?u?t=>` translate(0,${u[t]})`:` translate(0,${s})`:u?t=>` translate(0,${u[t]/2})`:` translate(0,${s/2})`}`).attr("d",u?t=>{const n=Dc();return p.draw(n,u[t],g),n}:(()=>{const t=Dc();return p.draw(t,s,g),t})()).call(Vm,this,e))).node()}}function Uv(t,n={}){const{x:e=fp,...r}=n;return new zv(t,{...r,x:e})}function jv(t,n={}){const{y:e=fp,...r}=n;return new zv(t,{...r,y:e})}function Iv(t,n){return arguments.length<2&&!Bp(t)&&(n=t,t=null),void 0===n&&(n={}),[t,n]}function Pv({anchor:t}={},n){return void 0===t?n[0]:Mp(t,"anchor",n)}function qv(t){return Pv(t,["left","right"])}function Bv(t){return Pv(t,["right","left"])}function Hv(t){return Pv(t,["bottom","top"])}function Wv(t){return Pv(t,["top","bottom"])}function Yv(){const[t,n]=Iv(...arguments);return Gv("y",qv(n),t,n)}function Vv(){const[t,n]=Iv(...arguments);return Gv("fy",Bv(n),t,n)}function Xv(){const[t,n]=Iv(...arguments);return Qv("x",Hv(n),t,n)}function Zv(){const[t,n]=Iv(...arguments);return Qv("fx",Wv(n),t,n)}function Gv(t,n,e,{color:r="currentColor",opacity:i=1,stroke:a=r,strokeOpacity:o=i,strokeWidth:c=1,fill:f=r,fillOpacity:u=i,textAnchor:l,textStroke:s,textStrokeOpacity:d,textStrokeWidth:h,tickSize:p=("y"===t?6:0),tickPadding:g,tickRotate:b,x:m,margin:y,marginTop:v=(void 0===y?20:y),marginRight:w=(void 0===y?"right"===n?40:0:y),marginBottom:x=(void 0===y?20:y),marginLeft:M=(void 0===y?"left"===n?40:0:y),label:k,labelAnchor:$,labelArrow:_,labelOffset:A,ariaLabel:T=`${t}-axis`,...S}){return p=sp(p),g=sp(g),b=sp(b),void 0!==$&&($=Mp($,"labelAnchor",["center","top","bottom"])),_=bw(_),wy(p&&!Kp(a)?function(t,n,e,{strokeWidth:r=1,strokeLinecap:i=null,strokeLinejoin:a=null,facetAnchor:o=n+("y"===t?"-empty":""),frameAnchor:c=n,tickSize:f,inset:u=0,insetLeft:l=u,insetRight:s=u,dx:d=0,y:h=("y"===t?void 0:null),ariaLabel:p,...g}){return ow(jv,t,e,{ariaLabel:`${p} tick`,ariaHidden:!0},{strokeWidth:r,strokeLinecap:i,strokeLinejoin:a,facetAnchor:o,frameAnchor:c,y:h,...g,dx:"left"===n?+d-qm+ +l:+d+qm-s,anchor:"start",length:f,shape:"left"===n?dw:hw})}(t,n,e,{stroke:a,strokeOpacity:o,strokeWidth:c,tickSize:p,tickPadding:g,tickRotate:b,x:m,ariaLabel:T,...S}):null,Kp(f)?null:function(t,n,e,{facetAnchor:r=n+("y"===t?"-empty":""),frameAnchor:i=n,tickSize:a,tickRotate:o=0,tickPadding:c=Math.max(3,9-a)+(Math.abs(o)>60?4*Math.cos(o*Fy):0),text:f,textAnchor:u=(Math.abs(o)>60?"middle":"left"===n?"end":"start"),lineAnchor:l=(o>60?"top":o<-60?"bottom":"middle"),fontVariant:s,inset:d=0,insetLeft:h=d,insetRight:p=d,dx:g=0,ariaLabel:b,y:m=("y"===t?void 0:null),...y}){return ow(hv,t,e,{ariaLabel:`${b} tick label`},{facetAnchor:r,frameAnchor:i,text:f,textAnchor:u,lineAnchor:l,fontVariant:s,rotate:o,y:m,...y,dx:"left"===n?+g-a-c+ +h:+g+ +a+ +c-p},(function(t,e,r,i,a){void 0===s&&(this.fontVariant=pw(t)),void 0===f&&(a.text=cw(t,e,r,i,n))}))}(t,n,e,{fill:f,fillOpacity:u,stroke:s,strokeOpacity:d,strokeWidth:h,textAnchor:l,tickSize:p,tickPadding:g,tickRotate:b,x:m,marginTop:v,marginRight:w,marginBottom:x,marginLeft:M,ariaLabel:T,...S}),Kp(f)||null===k?null:sv([],aw({fill:f,fillOpacity:u,...S},(function(e,r,i,a,o){const c=a[t],{marginTop:f,marginRight:u,marginBottom:l,marginLeft:s}="y"===t&&o.inset||o,d=$??(c.bandwidth?"center":"top"),h=A??("right"===n?u:s)-3;return"center"===d?(this.textAnchor=void 0,this.lineAnchor="right"===n?"bottom":"top",this.frameAnchor=n,this.rotate=-90):(this.textAnchor="right"===n?"end":"start",this.lineAnchor=d,this.frameAnchor=`${d}-${n}`,this.rotate=0),this.dy="top"===d?3-f:"bottom"===d?l-3:0,this.dx="right"===n?h:-h,this.ariaLabel=`${T} label`,{facets:[[0]],channels:{text:{value:[gw(t,c,{anchor:n,label:k,labelAnchor:d,labelArrow:_})]}}}}))))}function Qv(t,n,e,{color:r="currentColor",opacity:i=1,stroke:a=r,strokeOpacity:o=i,strokeWidth:c=1,fill:f=r,fillOpacity:u=i,textAnchor:l,textStroke:s,textStrokeOpacity:d,textStrokeWidth:h,tickSize:p=("x"===t?6:0),tickPadding:g,tickRotate:b,y:m,margin:y,marginTop:v=(void 0===y?"top"===n?30:0:y),marginRight:w=(void 0===y?20:y),marginBottom:x=(void 0===y?"bottom"===n?30:0:y),marginLeft:M=(void 0===y?20:y),label:k,labelAnchor:$,labelArrow:_,labelOffset:A,ariaLabel:T=`${t}-axis`,...S}){return p=sp(p),g=sp(g),b=sp(b),void 0!==$&&($=Mp($,"labelAnchor",["center","left","right"])),_=bw(_),wy(p&&!Kp(a)?function(t,n,e,{strokeWidth:r=1,strokeLinecap:i=null,strokeLinejoin:a=null,facetAnchor:o=n+("x"===t?"-empty":""),frameAnchor:c=n,tickSize:f,inset:u=0,insetTop:l=u,insetBottom:s=u,dy:d=0,x:h=("x"===t?void 0:null),ariaLabel:p,...g}){return ow(Uv,t,e,{ariaLabel:`${p} tick`,ariaHidden:!0},{strokeWidth:r,strokeLinejoin:a,strokeLinecap:i,facetAnchor:o,frameAnchor:c,x:h,...g,dy:"bottom"===n?+d-qm-s:+d+qm+ +l,anchor:"start",length:f,shape:"bottom"===n?lw:sw})}(t,n,e,{stroke:a,strokeOpacity:o,strokeWidth:c,tickSize:p,tickPadding:g,tickRotate:b,y:m,ariaLabel:T,...S}):null,Kp(f)?null:function(t,n,e,{facetAnchor:r=n+("x"===t?"-empty":""),frameAnchor:i=n,tickSize:a,tickRotate:o=0,tickPadding:c=Math.max(3,9-a)+(Math.abs(o)>=10?4*Math.cos(o*Fy):0),text:f,textAnchor:u=(Math.abs(o)>=10?o<0^"bottom"===n?"start":"end":"middle"),lineAnchor:l=(Math.abs(o)>=10?"middle":"bottom"===n?"top":"bottom"),fontVariant:s,inset:d=0,insetTop:h=d,insetBottom:p=d,dy:g=0,x:b=("x"===t?void 0:null),ariaLabel:m,...y}){return ow(dv,t,e,{ariaLabel:`${m} tick label`},{facetAnchor:r,frameAnchor:i,text:void 0===f?null:f,textAnchor:u,lineAnchor:l,fontVariant:s,rotate:o,x:b,...y,dy:"bottom"===n?+g+ +a+ +c-p:+g-a-c+ +h},(function(t,e,r,i,a){void 0===s&&(this.fontVariant=pw(t)),void 0===f&&(a.text=cw(t,e,r,i,n))}))}(t,n,e,{fill:f,fillOpacity:u,stroke:s,strokeOpacity:d,strokeWidth:h,textAnchor:l,tickSize:p,tickPadding:g,tickRotate:b,y:m,marginTop:v,marginRight:w,marginBottom:x,marginLeft:M,ariaLabel:T,...S}),Kp(f)||null===k?null:sv([],aw({fill:f,fillOpacity:u,...S},(function(e,r,i,a,o){const c=a[t],{marginTop:f,marginRight:u,marginBottom:l,marginLeft:s}="x"===t&&o.inset||o,d=$??(c.bandwidth?"center":"right"),h=A??("top"===n?f:l)-3;return"center"===d?(this.frameAnchor=n,this.textAnchor=void 0):(this.frameAnchor=`${n}-${d}`,this.textAnchor="right"===d?"end":"start"),this.lineAnchor=n,this.dy="top"===n?-h:h,this.dx="right"===d?u-3:"left"===d?3-s:0,this.ariaLabel=`${T} label`,{facets:[[0]],channels:{text:{value:[gw(t,c,{anchor:n,label:k,labelAnchor:d,labelArrow:_})]}}}}))))}function Jv(){const[t,n]=Iv(...arguments);return ew("y",qv(n),t,n)}function Kv(){const[t,n]=Iv(...arguments);return ew("fy",Bv(n),t,n)}function tw(){const[t,n]=Iv(...arguments);return rw("x",Hv(n),t,n)}function nw(){const[t,n]=Iv(...arguments);return rw("fx",Wv(n),t,n)}function ew(t,n,e,{y:r=("y"===t?void 0:null),x:i=null,x1:a=("left"===n?i:null),x2:o=("right"===n?i:null),ariaLabel:c=`${t}-grid`,ariaHidden:f=!0,...u}){return ow(iv,t,e,{ariaLabel:c,ariaHidden:f},{y:r,x1:a,x2:o,...iw(u)})}function rw(t,n,e,{x:r=("x"===t?void 0:null),y:i=null,y1:a=("top"===n?i:null),y2:o=("bottom"===n?i:null),ariaLabel:c=`${t}-grid`,ariaHidden:f=!0,...u}){return ow(rv,t,e,{ariaLabel:c,ariaHidden:f},{x:r,y1:a,y2:o,...iw(u)})}function iw({color:t="currentColor",opacity:n=.1,stroke:e=t,strokeOpacity:r=n,strokeWidth:i=1,...a}){return{stroke:e,strokeOpacity:r,strokeWidth:i,...a}}function aw({fill:t,fillOpacity:n,fontFamily:e,fontSize:r,fontStyle:i,fontVariant:a,fontWeight:o,monospace:c,pointerEvents:f,shapeRendering:u,clip:l=!1},s){return[,t]=vp(t),[,n]=wp(n),{facet:"super",x:null,y:null,fill:t,fillOpacity:n,fontFamily:e,fontSize:r,fontStyle:i,fontVariant:a,fontWeight:o,monospace:c,pointerEvents:f,shapeRendering:u,clip:l,initializer:s}}function ow(t,n,e,r,i,a){let o;const c=ly(i).initializer,f=t(e,ly({...i,initializer:function(t,e,r,c,f,u){const l=null==t&&("fx"===n||"fy"===n),{[n]:s}=c;if(!s)throw new Error(`missing scale: ${n}`);const h=s.domain();let{interval:g,ticks:b,tickFormat:m,tickSpacing:y=("x"===n?80:35)}=i;if("string"==typeof b&&mw(s)&&(g=b,b=void 0),void 0===b&&(b=Ip(g,s.type)??function(t,n){const[e,r]=d(t.range());return(r-e)/n}(s,y)),null==t){if(Bp(b))t=$p(b);else if(Pp(b))t=uw(b,...d(h));else if(s.interval){let n=s.interval;if(s.ticks){const[e,r]=d(h);n=Hh(n,(r-e)/n[Fh]/b)??n,t=uw(n,e,r)}else{n=Hh(n,(t=h).length/b)??n,n!==s.interval&&(t=uw(n,...d(t)))}if(n===s.interval){const n=Math.round(t.length/b);n>1&&(t=t.filter(((t,e)=>e%n==0)))}}else t=s.ticks?s.ticks(b):h;if(!s.ticks&&t.length&&t!==h){const e=new p(h);(t=t.filter((t=>e.has(t)))).length||xb(`Warning: the ${n}-axis ticks appear to not align with the scale domain, resulting in no ticks. Try different ticks?`)}"y"===n||"x"===n?e=[Op(t)]:o[n]={scale:n,value:fp}}a?.call(this,s,t,b,m,o);const v=Object.fromEntries(Object.entries(o).map((([n,e])=>[n,{...e,value:tp(t,e.value)}])));return l&&(e=u.filterFacets(t,v)),{data:t,facets:e,channels:v}}},c));return null==e?(o=f.channels,f.channels={}):o={},void 0!==r&&Object.assign(f,r),void 0===f.clip&&(f.clip=!1),f}function cw(t,n,e,r,i){return{value:fw(t,n,e,r,i)}}function fw(t,n,e,r,i){return"function"!=typeof r||"log"===t.type&&t.tickFormat?void 0===r&&n&&Yp(n)?Yh(t.type,n,i)??Pm:t.tickFormat?t.tickFormat("number"==typeof e?e:null,r):"string"==typeof r&&t.domain().length>0?(Yp(t.domain())?vu:Rr)(r):void 0===r?Pm:pp(r):r}function uw(t,n,e){return t.range(n,t.offset(t.floor(e)))}const lw={draw(t,n){t.moveTo(0,0),t.lineTo(0,n)}},sw={draw(t,n){t.moveTo(0,0),t.lineTo(0,-n)}},dw={draw(t,n){t.moveTo(0,0),t.lineTo(-n,0)}},hw={draw(t,n){t.moveTo(0,0),t.lineTo(n,0)}};function pw(t){return t.bandwidth&&!t.interval?void 0:"tabular-nums"}function gw(t,n,{anchor:e,label:r=n.label,labelAnchor:i,labelArrow:a}={}){if(!(null==r||r.inferred&&mw(n)&&/^(date|time|year)$/i.test(r))){if(r=String(r),"auto"===a&&(a=(!n.bandwidth||n.interval)&&!/[↑↓→←]/.test(r)),!a)return r;if(!0===a){const e=function(t){return Math.sign(kh(t.domain()))*Math.sign(kh(t.range()))}(n);e&&(a=/x$/.test(t)||"center"===i?/x$/.test(t)===e<0?"left":"right":e<0?"up":"down")}switch(a){case"left":return`← ${r}`;case"right":return`${r} →`;case"up":return"right"===e?`${r} ↑`:`↑ ${r}`;case"down":return"right"===e?`${r} ↓`:`↓ ${r}`}return r}}function bw(t="auto"){return!Kp(t)&&("boolean"==typeof t?t:Mp(t,"labelArrow",["auto","up","right","down","left"]))}function mw(t){return Yp(t.domain())}function yw(t,n){if(null==n)return n;const e=t(n);if(!e)throw new Error(`scale not found: ${n}`);return e}function vw(t,n={},e){let{columns:r,tickFormat:i,fontVariant:a=Dy(t),swatchSize:o=15,swatchWidth:c=o,swatchHeight:f=o,marginLeft:u=0,className:l,style:s,width:d}=n;const h=Lm(n);l=oy(l),i=fw(t.scale,t.domain,void 0,i);const p=Cm("div",h).attr("class",`${l}-swatches ${l}-swatches-${null!=r?"columns":"wrap"}`);let g;return null!=r?(g=`:where(.${l}-swatches-columns .${l}-swatch) {\n  display: flex;\n  align-items: center;\n  break-inside: avoid;\n  padding-bottom: 1px;\n}\n:where(.${l}-swatches-columns .${l}-swatch::before) {\n  flex-shrink: 0;\n}\n:where(.${l}-swatches-columns .${l}-swatch-label) {\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}`,p.style("columns",r).selectAll().data(t.domain).enter().append("div").attr("class",`${l}-swatch`).call(e,t,c,f).call((t=>t.append("div").attr("class",`${l}-swatch-label`).attr("title",i).text(i)))):(g=`:where(.${l}-swatches-wrap) {\n  display: flex;\n  align-items: center;\n  min-height: 33px;\n  flex-wrap: wrap;\n}\n:where(.${l}-swatches-wrap .${l}-swatch) {\n  display: inline-flex;\n  align-items: center;\n  margin-right: 1em;\n}`,p.selectAll().data(t.domain).enter().append("span").attr("class",`${l}-swatch`).call(e,t,c,f).append((function(){return this.ownerDocument.createTextNode(i.apply(this,arguments))}))),p.call((t=>t.insert("style","*").text(`:where(.${l}-swatches) {\n  font-family: system-ui, sans-serif;\n  font-size: 10px;\n  margin-bottom: 0.5em;\n}\n:where(.${l}-swatch > svg) {\n  margin-right: 0.5em;\n  overflow: visible;\n}\n${g}`))).style("margin-left",u?+u+"px":null).style("width",void 0===d?null:+d+"px").style("font-variant",ry(a,"normal")).call(cy,s).node()}const ww=new Map([["symbol",function(t,{fill:n=(void 0!==t.hint?.fill?t.hint.fill:"none"),fillOpacity:e=1,stroke:r=(void 0!==t.hint?.stroke?t.hint.stroke:Kp(n)?"currentColor":"none"),strokeOpacity:i=1,strokeWidth:a=1.5,r:o=4.5,...c}={},f){const[u,l]=vp(n),[s,d]=vp(r),h=yw(f,u),p=yw(f,s),g=o*o*Math.PI;return e=wp(e)[1],i=wp(i)[1],a=wp(a)[1],vw(t,c,((n,r,o,c)=>n.append("svg").attr("viewBox","-8 -8 16 16").attr("width",o).attr("height",c).attr("fill","color"===u?t=>h.scale(t):l).attr("fill-opacity",e).attr("stroke","color"===s?t=>p.scale(t):d).attr("stroke-opacity",i).attr("stroke-width",a).append("path").attr("d",(n=>{const e=Dc();return t.scale(n).draw(e,g),e}))))}],["color",Mw],["opacity",function({type:t,interpolate:n,...e},{legend:r=!0,color:i=Te(0,0,0),...a}){if(!n)throw new Error(`${t} opacity scales are not supported`);!0===r&&(r="ramp");if("ramp"!==`${r}`.toLowerCase())throw new Error(`${r} opacity legends are not supported`);return Mw({type:t,...e,interpolate:kw(i)},{legend:r,...a})}]]);function xw({className:t,...n},{label:e,ticks:r,tickFormat:i}={},a){return function(t={},...n){let e=t;for(const r of n)for(const n in r)if(void 0===e[n]){const i=r[n];e===t?e={...e,[n]:i}:e[n]=i}return e}(a,{className:t,...n},{label:e,ticks:r,tickFormat:i})}function Mw(t,{legend:n=!0,...e}){if(!0===n&&(n="ordinal"===t.type?"swatches":"ramp"),void 0!==t.domain)switch(`${n}`.toLowerCase()){case"swatches":return function(t,{opacity:n,...e}={}){if(!Kb(t)&&!tm(t))throw new Error(`swatches legend requires ordinal or threshold color scale (not ${t.type})`);return vw(t,e,((t,e,r,i)=>t.append("svg").attr("width",r).attr("height",i).attr("fill",e.scale).attr("fill-opacity",wp(n)[1]).append("rect").attr("width","100%").attr("height","100%")))}(t,e);case"ramp":return Oy(t,e);default:throw new Error(`unknown legend type: ${n}`)}}function kw(t){const{r:n,g:e,b:r}=Te(t)||Te(0,0,0);return t=>`rgba(${n},${e},${r},${t})`}const $w={ariaLabel:"rect"};class _w extends vy{constructor(t,n={}){const{x1:e,y1:r,x2:i,y2:a}=n;super(t,{x1:{value:e,scale:"x",type:null!=e&&null==i?"band":void 0,optional:!0},y1:{value:r,scale:"y",type:null!=r&&null==a?"band":void 0,optional:!0},x2:{value:i,scale:"x",optional:!0},y2:{value:a,scale:"y",optional:!0}},n,$w),Aw(this,n),Tw(this,n)}render(t,n,e,r,i){const{x:a,y:o}=n;let{x1:c,y1:f,x2:u,y2:l}=e;const{marginTop:s,marginRight:d,marginBottom:h,marginLeft:p,width:g,height:b}=r,{projection:m}=i,{insetTop:y,insetRight:v,insetBottom:w,insetLeft:x}=this,{rx:M,ry:k,rx1y1:$,rx1y2:_,rx2y1:A,rx2y2:T}=this;(c||u)&&!m&&nm(a)&&(c=u=null),(f||l)&&!m&&nm(o)&&(f=l=null);const S=a?.bandwidth?a.bandwidth():0,E=o?.bandwidth?o.bandwidth():0;return Cm("svg:g",i).call(Jm,this,r,i).call(ey,this,{},0,0).call((n=>n.selectAll().data(t).enter().call($||_||A||T?t=>t.append("path").call(Km,this).call(Sw,c&&u?t=>c[t]+(u[t]<c[t]?-v:x):c?t=>c[t]+x:p+x,f&&l?t=>f[t]+(l[t]<f[t]?-w:y):f?t=>f[t]+y:s+y,c&&u?t=>u[t]-(u[t]<c[t]?-x:v):c?t=>c[t]+S-v:g-d-v,f&&l?t=>l[t]-(l[t]<f[t]?-y:w):f?t=>f[t]+E-w:b-h-w,this).call(Vm,this,e):t=>t.append("rect").call(Km,this).attr("x",c?u?t=>Math.min(c[t],u[t])+x:t=>c[t]+x:p+x).attr("y",f?l?t=>Math.min(f[t],l[t])+y:t=>f[t]+y:s+y).attr("width",c?u?t=>Math.max(0,Math.abs(u[t]-c[t])+S-x-v):S-x-v:g-d-p-v-x).attr("height",f?l?t=>Math.max(0,Math.abs(f[t]-l[t])+E-y-w):E-y-w:b-s-h-y-w).call(ny,"rx",M).call(ny,"ry",k).call(Vm,this,e)))).node()}}function Aw(t,{inset:n=0,insetTop:e=n,insetRight:r=n,insetBottom:i=n,insetLeft:a=n}={}){t.insetTop=sp(e),t.insetRight=sp(r),t.insetBottom=sp(i),t.insetLeft=sp(a)}function Tw(t,{r:n,rx:e,ry:r,rx1:i=n,ry1:a=n,rx2:o=n,ry2:c=n,rx1y1:f=(void 0!==i?+i:void 0!==a?+a:0),rx1y2:u=(void 0!==i?+i:void 0!==c?+c:0),rx2y1:l=(void 0!==o?+o:void 0!==a?+a:0),rx2y2:s=(void 0!==o?+o:void 0!==c?+c:0)}={}){f||u||l||s?(t.rx1y1=f,t.rx1y2=u,t.rx2y1=l,t.rx2y2=s):(t.rx=ry(e,"auto"),t.ry=ry(r,"auto"))}function Sw(t,n,e,r,i,a){const{rx1y1:o,rx1y2:c,rx2y1:f,rx2y2:u}=a;"function"!=typeof n&&(n=pp(n)),"function"!=typeof e&&(e=pp(e)),"function"!=typeof r&&(r=pp(r)),"function"!=typeof i&&(i=pp(i));const l=Math.max(Math.abs(o+f),Math.abs(c+u)),s=Math.max(Math.abs(o+c),Math.abs(f+u));t.attr("d",(t=>{const a=n(t),d=e(t),h=r(t),p=i(t),g=a>h,b=d>p,m=g?h:a,y=g?a:h,v=b?p:d,w=b?d:p,x=Math.min(1,(y-m)/l,(w-v)/s),M=x*(g?b?u:f:b?c:o),k=x*(g?b?c:o:b?u:f),$=x*(g?b?o:c:b?f:u),_=x*(g?b?f:u:b?o:c);return`M${m},${v+Nw(M,_)}A${M},${M} 0 0 ${M<0?0:1} ${m+Ew(M,_)},${v}H${y-Ew(k,$)}A${k},${k} 0 0 ${k<0?0:1} ${y},${v+Nw(k,$)}V${w-Nw($,k)}A${$},${$} 0 0 ${$<0?0:1} ${y-Ew($,k)},${w}H${m+Ew(_,M)}A${_},${_} 0 0 ${_<0?0:1} ${m},${w-Nw(_,M)}Z`}))}function Ew(t,n){return n<0?t:Math.abs(t)}function Nw(t,n){return n<0?Math.abs(t):t}function Lw(t,n){return new _w(t,function(t={}){return Jy("x",Xy,t,!0)}(function(t={}){return Jy("y",Zy,t,!0)}(n)))}const Cw={ariaLabel:"frame",fill:"none",stroke:"currentColor",clip:!1},Dw={ariaLabel:"frame",fill:null,stroke:"currentColor",strokeLinecap:"square",clip:!1};class Ow extends vy{constructor(t={}){const{anchor:n=null}=t;super(ap,void 0,t,null==n?Cw:Dw),this.anchor=xp(n,"anchor",["top","right","bottom","left"]),Aw(this,t),n||Tw(this,t)}render(t,n,e,r,i){const{marginTop:a,marginRight:o,marginBottom:c,marginLeft:f,width:u,height:l}=r,{anchor:s,insetTop:d,insetRight:h,insetBottom:p,insetLeft:g}=this,{rx:b,ry:m,rx1y1:y,rx1y2:v,rx2y1:w,rx2y2:x}=this,M=f+g,k=u-o-h,$=a+d,_=l-c-p;return Cm(s?"svg:line":y||v||w||x?"svg:path":"svg:rect",i).datum(0).call(Jm,this,r,i).call(Km,this).call(Vm,this,e).call(ey,this,{}).call("left"===s?t=>t.attr("x1",M).attr("x2",M).attr("y1",$).attr("y2",_):"right"===s?t=>t.attr("x1",k).attr("x2",k).attr("y1",$).attr("y2",_):"top"===s?t=>t.attr("x1",M).attr("x2",k).attr("y1",$).attr("y2",$):"bottom"===s?t=>t.attr("x1",M).attr("x2",k).attr("y1",_).attr("y2",_):y||v||w||x?t=>t.call(Sw,M,$,k,_,this):t=>t.attr("x",M).attr("y",$).attr("width",k-M).attr("height",_-$).attr("rx",b).attr("ry",m)).node()}}const Fw={ariaLabel:"tip",fill:"var(--plot-background)",stroke:"currentColor"},Rw=new Set(["geometry","href","src","ariaLabel","scales"]);class zw extends vy{constructor(t,n={}){n.tip&&(n={...n,tip:!1}),void 0===n.title&&Bp(t)&&Hp(t)&&(n={...n,title:fp});const{x:e,y:r,x1:i,x2:a,y1:o,y2:c,anchor:f,preferredAnchor:u="bottom",monospace:l,fontFamily:s=(l?"ui-monospace, monospace":void 0),fontSize:d,fontStyle:h,fontVariant:p,fontWeight:g,lineHeight:b=1,lineWidth:m=20,frameAnchor:y,format:v,textAnchor:w="start",textOverflow:x,textPadding:M=8,title:k,pointerSize:$=12,pathFilter:_="drop-shadow(0 3px 4px rgba(0,0,0,0.2))"}=n;super(t,{x:{value:null!=i&&null!=a?null:e,scale:"x",optional:!0},y:{value:null!=o&&null!=c?null:r,scale:"y",optional:!0},x1:{value:i,scale:"x",optional:null==a},y1:{value:o,scale:"y",optional:null==c},x2:{value:a,scale:"x",optional:null==i},y2:{value:c,scale:"y",optional:null==o},title:{value:k,optional:!0}},n,Fw),this.anchor=ng(f,"anchor"),this.preferredAnchor=ng(u,"preferredAnchor"),this.frameAnchor=eg(y),this.textAnchor=ry(w,"middle"),this.textPadding=+M,this.pointerSize=+$,this.pathFilter=lp(_),this.lineHeight=+b,this.lineWidth=+m,this.textOverflow=uv(x),this.monospace=!!l,this.fontFamily=lp(s),this.fontSize=sp(d),this.fontStyle=lp(h),this.fontVariant=lp(p),this.fontWeight=lp(g);for(const A in Fw)A in this.channels&&(this[A]=Fw[A]);this.splitLines=wv(this),this.clipLine=xv(this),this.format="string"==typeof v||"function"==typeof v?{title:v}:{...v}}render(t,n,e,r,i){const a=this,{x:o,y:c,fx:f,fy:u}=n,{ownerSVGElement:l,document:s}=i,{anchor:d,monospace:h,lineHeight:p,lineWidth:g}=this,{textPadding:b,pointerSize:m,pathFilter:y}=this,{marginTop:v,marginLeft:w}=r,{x1:x,y1:M,x2:k,y2:$,x:_=x??k,y:A=M??$}=e,T=f?f(t.fx)-w:0,S=u?u(t.fy)-v:0,[E,N]=fy(this,r),L=Ly(e,E),C=Cy(e,N),D=h?vv:yv,O=D(Mv);let F,R;"title"in e?(F=jw.call(this,{title:e.channels.title},n),R=Pw):(F=jw.call(this,e.channels,n),R=qw);const z=Cm("svg:g",i).call(Jm,this,r,i).call(pv,this).call(ey,this,{x:_&&o,y:A&&c}).call((r=>r.selectAll().data(t).enter().append("g").attr("transform",(t=>`translate(${Math.round(L(t))},${Math.round(C(t))})`)).call(Km,this).call((t=>t.append("path").attr("filter",y))).call((r=>r.append("text").each((function(r){const i=Dd(this);this.setAttribute("fill","currentColor"),this.setAttribute("fill-opacity",1),this.setAttribute("stroke","none");const o=R.call(a,r,t,F,n,e);if("string"==typeof o)for(const t of a.splitLines(o))U(i,{value:a.clipLine(t)});else{const t=new Set;for(const n of o){const{label:e=""}=n;e&&t.has(e)||(t.add(e),U(i,n))}}}))))));function U(t,{label:n,value:e,color:r,opacity:i}){n??="",e??="";const a=null!=r||null!=i;let o,c=100*g;const[f]=kv(n,c,D,O);if(f>=0)n=n.slice(0,f).trimEnd()+Mv,o=e.trim(),e="";else{(n||!e&&!a)&&(e=" "+e);const[t]=kv(e,c-D(n),D,O);t>=0&&(o=e.trim(),e=e.slice(0,t).trimEnd()+Mv)}const u=t.append("tspan").attr("x",0).attr("dy",`${p}em`).text("​");n&&u.append("tspan").attr("font-weight","bold").text(n),e&&u.append((()=>s.createTextNode(e))),a&&u.append("tspan").text(" ■").attr("fill",r).attr("fill-opacity",i).style("user-select","none"),o&&u.append("title").text(o)}function j(){const{width:t,height:n}=r.facet??r;z.selectChildren().each((function(e){let{x:r,width:i,height:o}=this.getBBox();i=Math.round(i),o=Math.round(o);let c=d;if(void 0===c){const r=L(e)+T,f=C(e)+S,u=r+i+m+2*b<t,l=r-i-m-2*b>0,s=f+o+m+2*b<n,d=f-o-m-2*b>0;c=u&&l?s&&d?a.preferredAnchor:d?"bottom":"top":s&&d?u?"left":"right":(u||l)&&(s||d)?`${d?"bottom":"top"}-${u?"left":"right"}`:a.preferredAnchor}const f=this.firstChild,u=this.lastChild;if(f.setAttribute("d",function(t,n,e,r,i){const a=r+2*e,o=i+2*e;switch(t){case"middle":return`M${-a/2},${-o/2}h${a}v${o}h${-a}z`;case"top-left":return`M0,0l${n},${n}h${a-n}v${o}h${-a}z`;case"top":return`M0,0l${n/2},${n/2}h${(a-n)/2}v${o}h${-a}v${-o}h${(a-n)/2}z`;case"top-right":return`M0,0l${-n},${n}h${n-a}v${o}h${a}z`;case"right":return`M0,0l${-n/2},${-n/2}v${n/2-o/2}h${-a}v${o}h${a}v${n/2-o/2}z`;case"bottom-left":return`M0,0l${n},${-n}h${a-n}v${-o}h${-a}z`;case"bottom":return`M0,0l${n/2},${-n/2}h${(a-n)/2}v${-o}h${-a}v${o}h${(a-n)/2}z`;case"bottom-right":return`M0,0l${-n},${-n}h${n-a}v${-o}h${a}z`;case"left":return`M0,0l${n/2},${-n/2}v${n/2-o/2}h${a}v${o}h${-a}v${n/2-o/2}z`}}(c,m,b,i,o)),r)for(const t of u.childNodes)t.setAttribute("x",-r);u.setAttribute("y",+function(t,n,e){return/^top(?:-|$)/.test(t)?.94-e:-.29-n*e}(c,u.childNodes.length,p).toFixed(6)+"em"),u.setAttribute("transform",`translate(${function(t,n,e,r,i){switch(t){case"middle":return[-r/2,i/2];case"top-left":return[e,n+e];case"top":return[-r/2,n/2+e];case"top-right":return[-r-e,n+e];case"right":return[-n/2-r-e,i/2];case"bottom-left":return[e,-n-e];case"bottom":return[-r/2,-n/2-e];case"bottom-right":return[-r-e,-n-e];case"left":return[e+n/2,i/2]}}(c,m,b,i,o)})`)})),z.attr("visibility",null)}return t.length&&(z.attr("visibility","hidden"),l.isConnected?Promise.resolve().then(j):"undefined"!=typeof requestAnimationFrame&&requestAnimationFrame(j)),z.node()}}function Uw(t,{x:n,y:e,...r}={}){return void 0===r.frameAnchor&&([n,e]=Cp(n,e)),new zw(t,{...r,x:n,y:e})}function jw(t,n){const e={};let r=this.format;r=Iw(r,t,"x"),r=Iw(r,t,"y"),this.format=r;for(const i in r){const n=r[i];if(null!==n&&!1!==n)if("fx"===i||"fy"===i)e[i]=!0;else{const n=Pg(t,i);n&&(e[i]=n)}}for(const i in t){if(i in e||i in r||Rw.has(i))continue;if(("x"===i||"y"===i)&&t.geometry)continue;const n=Pg(t,i);if(n){if(null==n.scale&&"color"===n.defaultScale)continue;e[i]=n}}this.facet&&(n.fx&&!("fx"in r)&&(e.fx=!0),n.fy&&!("fy"in r)&&(e.fy=!0));for(const i in e){const t=this.format[i];if("string"==typeof t){const r=e[i]?.value??n[i]?.domain()??[];this.format[i]=(Yp(r)?vu:Rr)(t)}else if(void 0===t||!0===t){const t=n[i];this.format[i]=t?.bandwidth?fw(t,t.domain()):Pm}}return e}function Iw(t,n,e){if(!(e in t))return t;const r=`${e}1`,i=`${e}2`;if(!(!(r in t)&&r in n||!(i in t)&&i in n))return t;const a=Object.entries(t),o=t[e];return a.splice(a.findIndex((([t])=>t===e))+1,0,[r,o],[i,o]),Object.fromEntries(a)}function Pw(t,n,{title:e}){return this.format.title(e.value[t],t)}function*qw(t,n,e,r,i){for(const a in e){if("fx"===a||"fy"===a){yield{label:Ww(r,e,a),value:this.format[a](n[a],t)};continue}if("x1"===a&&"x2"in e)continue;if("y1"===a&&"y2"in e)continue;const o=e[a];if("x2"===a&&"x1"in e)yield{label:Hw(r,e,"x"),value:Bw(this.format.x2,e.x1,o,t)};else if("y2"===a&&"y1"in e)yield{label:Hw(r,e,"y"),value:Bw(this.format.y2,e.y1,o,t)};else{const n=o.value[t],c=o.scale;if(!ph(n)&&null==c)continue;yield{label:Ww(r,e,a),value:this.format[a](n,t),color:"color"===c?i[a][t]:null,opacity:"opacity"===c?i[a][t]:null}}}}function Bw(t,n,e,r){return e.hint?.length?`${t(e.value[r]-n.value[r],r)}`:`${t(n.value[r],r)}–${t(e.value[r],r)}`}function Hw(t,n,e){const r=Ww(t,n,`${e}1`,e),i=Ww(t,n,`${e}2`,e);return r===i?r:`${r}–${i}`}function Ww(t,n,e,r=e){const i=n[e],a=t[i?.scale??e];return String(a?.label??i?.label??r)}function Yw(t={}){const{facet:n,style:e,title:r,subtitle:i,caption:a,ariaLabel:o,ariaDescription:c}=t,f=oy(t.className),u=void 0===t.marks?[]:Xw(t.marks);u.push(...function(t){const n=[];for(const e of t){let t=e.tip;if(t){!0===t?t={}:"string"==typeof t&&(t={pointer:t});let{pointer:r,preferredAnchor:i}=t;r=/^x$/i.test(r)?Ey:/^y$/i.test(r)?Ny:Sy,t=r(rx(e,t)),t.title=null,void 0===i&&(t.preferredAnchor=r===Ny?"left":"bottom");const a=Uw(e.data,t);a.facet=e.facet,a.facetAnchor=e.facetAnchor,n.push(a)}}return n}(u));const l=function(t,n){if(null==t)return;const{x:e,y:r}=t;if(null==e&&null==r)return;const i=kp(t.data);if(null==i)throw new Error("missing facet data");const a={};null!=e&&(a.fx=Cg(i,{value:e,scale:"fx"}));null!=r&&(a.fy=Cg(i,{value:r,scale:"fy"}));Qw(a,n);const o=om(i,a);return{channels:a,groups:o,data:t.data}}(n,t),s=new Map;for(const j of u){const n=ex(j,l,t);n&&s.set(j,n)}const d=new Map;l&&tx(d,[l],t),tx(d,s,t);const h=Xw(function(t,n,e){let{projection:r,x:i={},y:a={},fx:o={},fy:c={},axis:f,grid:u,facet:l={},facet:{axis:s=f,grid:d}=l,x:{axis:h=f,grid:p=(null===h?null:u)}=i,y:{axis:g=f,grid:b=(null===g?null:u)}=a,fx:{axis:m=s,grid:y=(null===m?null:d)}=o,fy:{axis:v=s,grid:w=(null===v?null:d)}=c}=e;(r||!Ep(i)&&!fx("x",t))&&(h=p=null);(r||!Ep(a)&&!fx("y",t))&&(g=b=null);n.has("fx")||(m=y=null);n.has("fy")||(v=w=null);void 0===h&&(h=!cx(t,"x"));void 0===g&&(g=!cx(t,"y"));void 0===m&&(m=!cx(t,"fx"));void 0===v&&(v=!cx(t,"fy"));!0===h&&(h="bottom");!0===g&&(g="left");!0===m&&(m="top"===h||null===h?"bottom":"top");!0===v&&(v="right"===g||null===g?"left":"right");const x=[];return ax(x,w,Kv,c),ix(x,v,Vv,"right","left",l,c),ax(x,y,nw,o),ix(x,m,Zv,"top","bottom",l,o),ax(x,b,Jv,a),ix(x,g,Yv,"left","right",e,a),ax(x,p,tw,i),ix(x,h,Xv,"bottom","top",e,i),x}(u,d,t));for(const j of h){const n=ex(j,l,t);n&&s.set(j,n)}u.unshift(...h);let p=am(d,t);if(void 0!==p){const t=l?ym(p,l):void 0;for(const e of u){if(null===e.facet||"super"===e.facet)continue;const n=s.get(e);void 0!==n&&(n.facetsIndex=null!=e.fx||null!=e.fy?ym(p,n):t)}const n=new Set;for(const{facetsIndex:e}of s.values())e?.forEach(((t,e)=>{t?.length>0&&n.add(e)}));p.forEach(0<n.size&&n.size<p.length?(t,e)=>t.empty=!n.has(e):t=>t.empty=!1);for(const e of u)if("exclude"===e.facet){const t=s.get(e);void 0!==t&&(t.facetsIndex=cm(t.facetsIndex))}}for(const j of pg.keys())Ep(t[j])&&"fx"!==j&&"fy"!==j&&d.set(j,[]);const g=new Map;for(const j of u){if(g.has(j))throw new Error("duplicate mark; each mark must be unique");const{facetsIndex:n,channels:e}=s.get(j)??{},{data:r,facets:i,channels:a}=j.initialize(n,e,t);Qw(a,t),g.set(j,{data:r,facets:i,channels:a})}const b=jb(tx(d,g,t),t),m=function(t,n,e={}){let r=.5-qm,i=.5+qm,a=.5+qm,o=.5-qm;for(const{marginTop:g,marginRight:b,marginBottom:m,marginLeft:y}of n)g>r&&(r=g),b>i&&(i=b),m>a&&(a=m),y>o&&(o=y);let{margin:c,marginTop:f=(void 0!==c?c:r),marginRight:u=(void 0!==c?c:i),marginBottom:l=(void 0!==c?c:a),marginLeft:s=(void 0!==c?c:o)}=e;f=+f,u=+u,l=+l,s=+s;let{width:d=640,height:h=$y(t,e,{width:d,marginTopDefault:r,marginRightDefault:i,marginBottomDefault:a,marginLeftDefault:o})+Math.max(0,f-r+l-a)}=e;d=+d,h=+h;const p={width:d,height:h,marginTop:f,marginRight:u,marginBottom:l,marginLeft:s};if(t.fx||t.fy){let{margin:t,marginTop:n=(void 0!==t?t:f),marginRight:r=(void 0!==t?t:u),marginBottom:i=(void 0!==t?t:l),marginLeft:a=(void 0!==t?t:s)}=e.facet??{};n=+n,r=+r,i=+i,a=+a,p.facet={marginTop:n,marginRight:r,marginBottom:i,marginLeft:a}}return p}(b,u,t);!function(t,n){const{x:e,y:r,fx:i,fy:a}=t,o=i||a?qb(n):n;i&&Hb(i,o),a&&Wb(a,o);const c=i||a?Bb(t,n):n;e&&Hb(e,c),r&&Wb(r,c)}(b,m);const y=Ib(b),{fx:v,fy:w}=y,x=v||w?Bb(b,m):m,M=v||w?function({fx:t,fy:n},e){const{marginTop:r,marginRight:i,marginBottom:a,marginLeft:o,width:c,height:f}=qb(e),u=t&&ux(t),l=n&&ux(n);return{marginTop:n?l[0]:r,marginRight:t?c-u[1]:i,marginBottom:n?f-l[1]:a,marginLeft:t?u[0]:o,inset:{marginTop:e.marginTop,marginRight:e.marginRight,marginBottom:e.marginBottom,marginLeft:e.marginLeft},width:c,height:f}}(y,m):m,k=Lm(t),$=k.document,_=rn("svg").call($.documentElement);let A=_;k.ownerSVGElement=_,k.className=f,k.projection=Mm(t,x),k.path=function(){return La(this.projection??function({x:t,y:n}){if(t||n)return t??=t=>t,n??=t=>t,Ja({point(e,r){this.stream.point(t(e),n(r))}})}(y))},k.filterFacets=(t,n)=>ym(p,{channels:n,groups:om(t,n)}),k.getMarkState=t=>{const n=g.get(t),e=s.get(t);return{...n,channels:{...n.channels,...e?.channels}}},k.dispatchValue=t=>{A.value!==t&&(A.value=t,A.dispatchEvent(new k.document.defaultView.Event("input",{bubbles:!0})))};const T=new Set;for(const[j,I]of g)if(null!=j.initializer){const n="super"===j.facet?M:x,e=j.initializer(I.data,I.facets,I.channels,y,n,k);if(void 0!==e.data&&(I.data=e.data),void 0!==e.facets&&(I.facets=e.facets),void 0!==e.channels){const{fx:n,fy:r,...i}=e.channels;Kw(i),Object.assign(I.channels,i);for(const e of Object.values(i)){const{scale:n}=e;null!=n&&((S=pg.get(n))!==cg&&S!==hg)&&(Jw(e,t),T.add(n))}null==n&&null==r||s.set(j,!0)}}var S;if(T.size){const n=new Map;tx(n,g,t,(t=>T.has(t))),tx(d,g,t,(t=>T.has(t)));const e=function(t,n){for(const e in t){const r=t[e],i=n[e];void 0===r.label&&i&&(r.label=i.label)}return t}(jb(n,t),b),{scales:r,...i}=Ib(e);Object.assign(b,e),Object.assign(y,i),Object.assign(y.scales,r)}let E,N;void 0!==p&&(E={x:v?.domain(),y:w?.domain()},p=function(t,{x:n,y:e}){return n&&=lm(n),e&&=lm(e),t.filter(n&&e?t=>n.has(t.x)&&e.has(t.y):n?t=>n.has(t.x):t=>e.has(t.y)).sort(n&&e?(t,r)=>n.get(t.x)-n.get(r.x)||e.get(t.y)-e.get(r.y):n?(t,e)=>n.get(t.x)-n.get(e.x):(t,n)=>e.get(t.y)-e.get(n.y))}(p,E),N=function(t,n,{marginTop:e,marginLeft:r}){const i=t?({x:n})=>t(n)-r:()=>0,a=n?({y:t})=>n(t)-e:()=>0;return function(t){"svg"===this.tagName?(this.setAttribute("x",i(t)),this.setAttribute("y",a(t))):this.setAttribute("transform",`translate(${i(t)},${a(t)})`)}}(v,w,m));for(const[j,I]of g)I.values=j.scale(I.channels,y,k);const{width:L,height:C}=m;Dd(_).attr("class",f).attr("fill","currentColor").attr("font-family","system-ui, sans-serif").attr("font-size",10).attr("text-anchor","middle").attr("width",L).attr("height",C).attr("viewBox",`0 0 ${L} ${C}`).attr("aria-label",o).attr("aria-description",c).call((t=>t.append("style").text(`:where(.${f}) {\n  --plot-background: white;\n  display: block;\n  height: auto;\n  height: intrinsic;\n  max-width: 100%;\n}\n:where(.${f} text),\n:where(.${f} tspan) {\n  white-space: pre;\n}`))).call(cy,e);for(const j of u){const{channels:t,values:n,facets:e}=g.get(j);if(void 0===p||"super"===j.facet){let r=null;if(e&&(r=e[0],r=j.filter(r,t,n),0===r.length))continue;const i=j.render(r,y,n,M,k);if(null==i)continue;_.appendChild(i)}else{let r;for(const i of p){if(!(j.facetAnchor?.(p,E,i)??!i.empty))continue;let a=null;if(e){const r=s.has(j);if(a=e[r?i.i:0],a=j.filter(a,t,n),0===a.length)continue;r||a!==e[0]||(O=void 0,F=void 0,a=(D=a).subarray?D.subarray(O,F):D.slice(O,F)),a.fx=i.x,a.fy=i.y,a.fi=i.i}const o=j.render(a,y,n,x,k);if(null!=o){(r??=Dd(_).append("g")).append((()=>o)).datum(i);for(const t of["aria-label","aria-description","aria-hidden","transform"])o.hasAttribute(t)&&(r.attr(t,o.getAttribute(t)),o.removeAttribute(t))}}r?.selectChildren().each(N)}}var D,O,F;const R=function(t,n,e){const r=[];for(const[i,a]of ww){const o=e[i];if(o?.legend&&i in t){const e=a(t[i],xw(n,t[i],o),(n=>t[n]));null!=e&&r.push(e)}}return r}(b,k,t),{figure:z=null!=r||null!=i||null!=a||R.length>0}=t;z&&(A=$.createElement("figure"),A.className=`${f}-figure`,A.style.maxWidth="initial",null!=r&&A.append(Vw($,r,"h2")),null!=i&&A.append(Vw($,i,"h3")),A.append(...R,_),null!=a&&A.append(function(t,n){const e=t.createElement("figcaption");return e.append(n),e}($,a)),"value"in _&&(A.value=_.value,delete _.value)),A.scale=function(t){return n=>{if(!pg.has(n=`${n}`))throw new Error(`unknown scale: ${n}`);return t[n]}}(y.scales),A.legend=function(t,n,e={}){return(r,i)=>{if(!ww.has(r))throw new Error(`unknown legend type: ${r}`);if(r in t)return ww.get(r)(t[r],xw(n,e[r],i),(n=>t[n]))}}(b,k,t);const U=function(){const t=wb;return wb=0,vb=void 0,t}();return U>0&&Dd(_).append("text").attr("x",L).attr("y",20).attr("dy","-1em").attr("text-anchor","end").attr("font-family","initial").text("⚠️").append("title").text(`${U.toLocaleString("en-US")} warning${1===U?"":"s"}. Please check the console.`),A}function Vw(t,n,e){if(n.ownerDocument)return n;const r=t.createElement(e);return r.append(n),r}function Xw(t){return t.flat(1/0).filter((t=>null!=t)).map(Zw)}function Zw(t){return"function"==typeof t.render?t:new Gw(t)}class Gw extends vy{constructor(t){if("function"!=typeof t)throw new TypeError("invalid mark; missing render function");super(),this.render=t}render(){}}function Qw(t,n){for(const e in t)Jw(t[e],n);return t}function Jw(t,n){const{scale:e,transform:r=!0}=t;if(null==e||!r)return;const{type:i,percent:a,interval:o,transform:c=(a?t=>null==t?NaN:100*t:Up(o,i))}=n[e]??{};null!=c&&(t.value=Ap(t.value,c),t.transform=!1)}function Kw(t){for(const n in t)Dg(n,t[n])}function tx(t,n,e,r=up){for(const{channels:i}of n.values())for(const n in i){const a=i[n],{scale:o}=a;if(null!=o&&r(o))if("projection"===o){if(!Em(e)){const n=void 0===e.x?.domain,r=void 0===e.y?.domain;if(n||r){const[e,i]=Nm(a);n&&nx(t,"x",e),r&&nx(t,"y",i)}}}else nx(t,o,a)}return t}function nx(t,n,e){const r=t.get(n);void 0!==r?r.push(e):t.set(n,[e])}function ex(t,n,e){if(null===t.facet||"super"===t.facet)return;const{fx:r,fy:i}=t;if(null!=r||null!=i){const n=kp(t.data??r??i);if(void 0===n)throw new Error(`missing facet data in ${t.ariaLabel}`);if(null===n)return;const a={};return null!=r&&(a.fx=Cg(n,{value:r,scale:"fx"})),null!=i&&(a.fy=Cg(n,{value:i,scale:"fy"})),Qw(a,e),{channels:a,groups:om(n,a)}}if(void 0===n)return;const{channels:a,groups:o,data:c}=n;if("auto"!==t.facet||t.data===c)return{channels:a,groups:o};c.length>0&&(o.size>1||1===o.size&&a.fx&&a.fy&&[...o][0][1].size>1)&&Dp(kp(t.data))===Dp(c)&&xb(`Warning: the ${t.ariaLabel} mark appears to use faceted data, but isn’t faceted. The mark data has the same length as the facet data and the mark facet option is "auto", but the mark data and facet data are distinct. If this mark should be faceted, set the mark facet option to true; otherwise, suppress this warning by setting the mark facet option to false.`)}function rx(t,n={}){return ly({...n,x:null,y:null},((n,e,r,i,a,o)=>o.getMarkState(t)))}function ix(t,n,e,r,i,a,o){if(!n)return;const c=function(t){return/^\s*both\s*$/i.test(t)}(n);o=function(t,n,{line:e=n.line,ticks:r,tickSize:i,tickSpacing:a,tickPadding:o,tickFormat:c,tickRotate:f,fontVariant:u,ariaLabel:l,ariaDescription:s,label:d=n.label,labelAnchor:h,labelArrow:p=n.labelArrow,labelOffset:g}){return{anchor:t,line:e,ticks:r,tickSize:i,tickSpacing:a,tickPadding:o,tickFormat:c,tickRotate:f,fontVariant:u,ariaLabel:l,ariaDescription:s,label:d,labelAnchor:h,labelArrow:p,labelOffset:g}}(c?r:n,a,o);const{line:f}=o;e!==Yv&&e!==Xv||!f||tg(f)||t.push(function(t){return new Ow(t)}(function(t){const{anchor:n,line:e}=t;return{anchor:n,facetAnchor:n+"-empty",stroke:!0===e?void 0:e}}(o))),t.push(e(o)),c&&t.push(e({...o,anchor:i,label:null}))}function ax(t,n,e,r){n&&!tg(n)&&t.push(e(function(t,{stroke:n=(Qp(t)?t:void 0),ticks:e=(ox(t)?t:void 0),tickSpacing:r,ariaLabel:i,ariaDescription:a}){return{stroke:n,ticks:e,tickSpacing:r,ariaLabel:i,ariaDescription:a}}(n,r)))}function ox(t){switch(typeof t){case"number":return!0;case"string":return!Qp(t)}return Bp(t)||"function"==typeof t?.range}function cx(t,n){const e=`${n}-axis `;return t.some((t=>t.ariaLabel?.startsWith(e)))}function fx(t,n){for(const e of n)for(const n in e.channels){const{scale:r}=e.channels[n];if(r===t||"projection"===r)return!0}return!1}function ux(t){const n=t.domain();if(0===n.length)return[0,t.bandwidth()];let e=t(n[0]),r=t(n[n.length-1]);return r<e&&([e,r]=[r,e]),[e,r+t.bandwidth()]}const lx={ariaLabel:"dot",fill:"none",stroke:"currentColor",strokeWidth:1.5};function sx(t){return void 0===t.sort&&void 0===t.reverse?function(t,{sort:n,...e}={}){return{...(Np(t)&&void 0!==t.channel?ly:hy)(e,by(t)),sort:Lp(n)?n:null}}({channel:"-r"},t):t}class dx extends vy{constructor(t,n={}){const{x:e,y:r,r:i,rotate:a,symbol:o=qd,frameAnchor:c}=n,[f,u]=wp(a,0),[l,s]=function(t){if(null==t||yg(t))return[void 0,t];if("string"==typeof t){const n=mg.get(`${t}`.toLowerCase());if(n)return[void 0,n]}return[t,void 0]}(o),[d,h]=wp(i,null==l?3:4.5);super(t,{x:{value:e,scale:"x",optional:!0},y:{value:r,scale:"y",optional:!0},r:{value:d,scale:"r",filter:vh,optional:!0},rotate:{value:f,optional:!0},symbol:{value:l,scale:"auto",optional:!0}},sx(n),lx),this.r=h,this.rotate=u,this.symbol=s,this.frameAnchor=eg(c);const{channels:p}=this,{symbol:g}=p;if(g){const{fill:t,stroke:n}=p;g.hint={fill:t?t.value===g.value?"color":"currentColor":this.fill??"currentColor",stroke:n?n.value===g.value?"color":"currentColor":this.stroke??"none"}}}render(t,n,e,r,i){const{x:a,y:o}=n,{x:c,y:f,r:u,rotate:l,symbol:s}=e,{r:d,rotate:h,symbol:p}=this,[g,b]=fy(this,r),m=p===qd,y=u?void 0:d*d*Math.PI;return wh(d)&&(t=[]),Cm("svg:g",i).call(Jm,this,r,i).call(ey,this,{x:c&&a,y:f&&o}).call((n=>n.selectAll().data(t).enter().append(m?"circle":"path").call(Km,this).call(m?t=>{t.attr("cx",c?t=>c[t]:g).attr("cy",f?t=>f[t]:b).attr("r",u?t=>u[t]:d)}:t=>{t.attr("transform",ov`translate(${c?t=>c[t]:g},${f?t=>f[t]:b})${l?t=>` rotate(${l[t]})`:h?` rotate(${h})`:""}`).attr("d",u&&s?t=>{const n=Dc();return s[t].draw(n,u[t]*u[t]*Math.PI),n}:u?t=>{const n=Dc();return p.draw(n,u[t]*u[t]*Math.PI),n}:s?t=>{const n=Dc();return s[t].draw(n,y),n}:(()=>{const t=Dc();return p.draw(t,y),t})())}).call(Vm,this,e))).node()}}function hx(t,{x:n,y:e,...r}={}){return void 0===r.frameAnchor&&([n,e]=Cp(n,e)),new dx(t,{...r,x:n,y:e})}vy.prototype.plot=function({marks:t=[],...n}={}){return Yw({...n,marks:[...t,this]})}}}]);
//# sourceMappingURL=65bcd59f52eddd46465e37da32103128a649d3de-a1b758a5766cabb6d699.js.map