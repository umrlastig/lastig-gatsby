{"version":3,"file":"component---src-templates-member-page-js-4096b663cbc7db7fc890.js","mappings":"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","sources":["webpack://lastig-gastby/./src/templates/member-page.js","webpack://lastig-gastby/./node_modules/react-intl/lib/src/components/message.js","webpack://lastig-gastby/./src/util.js"],"sourcesContent":["import React from \"react\";\nimport { graphql } from \"gatsby\";\nimport Layout from \"../components/Layout\";\n\nimport { FormattedMessage, useIntl } from \"react-intl\";\n\nimport { getPubType } from \"../util\";\nimport { PublicationList } from \"../components/CreateNodes\";\nimport { Icon } from \"@iconify-icon/react\";\n\nimport { StyledMemberPage, Ids } from \"../components/styles/MemberPage.styled\";\nimport { WordCloud } from \"../components/WordCloud\";\nimport { theme } from \"../theme\";\n\nimport { useLocalization } from \"@ericcote/gatsby-theme-i18n\";\n\nconst modifyUrl = (url) => {\n  if (url.startsWith(\"/\")) return \"https://www.umr-lastig.fr\" + url;\n  return url;\n};\nconst modifyPhotoUrl = (url) => {\n  if (!url)\n    return \"https://www.umr-lastig.fr/lastig_data/img/abstract-user-icon.svg\";\n  return modifyUrl(url);\n};\n\nexport default function MemberPage({ data }) {\n  const node = data.peopleCsv;\n  const allNodes = data.allHalCsv.nodes;\n  const filteredNodes = allNodes.filter((pubNode) =>\n    pubNode.authors.includes(node.fid),\n  );\n  const classifiedNodes = filteredNodes.map((node) => ({\n    pubType: getPubType(node),\n    ...node,\n  }));\n  function Pub({ pubType }) {\n    const filteredNodesForType = classifiedNodes.filter(\n      (node) => node.pubType === pubType,\n    );\n    if (filteredNodesForType.length > 0) {\n      return (\n        <div id={`pub${pubType}`}>\n          <h2> {trans(pubType)} </h2>\n          <PublicationList\n            nodes={filteredNodesForType}\n            type={pubType}\n            theme={theme}\n          />\n        </div>\n      );\n    }\n    return null;\n  }\n  const intl = useIntl();\n  const { locale } = useLocalization();\n  function trans(text) {\n    return intl.formatMessage({ id: text });\n  }\n  function first(text) {\n    return text.split(\",\")[0];\n  }\n  return (\n    <Layout>\n      <StyledMemberPage>\n        <h1>\n          {node.firstname} {node.alt_firstname && `(${node.alt_firstname}) `}\n          {node.lastname}\n        </h1>\n        <div>\n          <img\n            src={modifyPhotoUrl(node.photo)}\n            alt={`${node.firstname} ${node.lastname}`}\n          />\n        </div>\n        <h2>{locale === \"en\" ? node.status : node.statut}</h2>\n        {node.teams && (\n          <h3>\n            <FormattedMessage\n              id=\"inteam\"\n              values={{ teams: node.teams.join(\" & \") }}\n            />\n          </h3>\n        )}\n        {node.webpage && (\n          <a href={modifyUrl(node.webpage)}>{trans(\"Personal webpage\")}</a>\n        )}\n        <Ids>\n          {node.HAL && (\n            <a href={`https://cv.hal.science/${node.HAL}`} aria-label=\"HAL\">\n              <Icon icon=\"simple-icons:hal\" width=\"2em\" height=\"2em\" />\n            </a>\n          )}\n          {node.orcidId_s && (\n            <a href={node.orcidId_s} aria-label=\"orcid\">\n              <Icon icon=\"simple-icons:orcid\" width=\"2em\" height=\"2em\" />\n            </a>\n          )}\n          {node.google_scholarId_s && (\n            <a\n              href={\n                node.google_scholarId_s.includes(\"http\")\n                  ? node.google_scholarId_s\n                  : `https://scholar.google.com/citations?user=${node.google_scholarId_s}`\n              }\n              aria-label=\"google_scholarId\"\n            >\n              <Icon\n                icon=\"simple-icons:googlescholar\"\n                width=\"2em\"\n                height=\"2em\"\n              />\n            </a>\n          )}\n          {node.idrefId_s && (\n            <a href={node.idrefId_s} aria-label=\"idref\">\n              <Icon icon=\"token:id\" width=\"2em\" height=\"2em\" />\n            </a>\n          )}\n          {node.researcheridId_s && (\n            <a href={first(node.researcheridId_s)} aria-label=\"researcherId\">\n              <Icon\n                icon=\"academicons:researcherid\"\n                width=\"2em\"\n                height=\"2em\"\n              />{\" \"}\n            </a>\n          )}\n          {node.isniId_s && (\n            <a href={node.isniId_s} aria-label=\"isni\">\n              <Icon icon=\"academicons:isni\" width=\"2em\" height=\"2em\" />\n            </a>\n          )}\n          {node.viafId_s && (\n            <a href={node.viafId_s} aria-label=\"viaf\">\n              <Icon icon=\"academicons:viaf\" width=\"2em\" height=\"2em\" />\n            </a>\n          )}\n          {node.arxivId_s && (\n            <a href={node.arxivId_s} aria-label=\"arxiv\">\n              <Icon icon=\"simple-icons:arxiv\" width=\"2em\" height=\"2em\" />\n            </a>\n          )}\n        </Ids>\n        <WordCloud nodes={filteredNodes} />\n        <h1>Publications</h1>\n        <div>\n          <Pub pubType=\"ACL\"></Pub>\n          <Pub pubType=\"ACLN\"></Pub>\n          <Pub pubType=\"ASCL\"></Pub>\n          <Pub pubType=\"PV\"></Pub>\n          <Pub pubType=\"INV\"></Pub>\n          <Pub pubType=\"COM\"></Pub>\n          <Pub pubType=\"ACTI\"></Pub>\n          <Pub pubType=\"ACTN\"></Pub>\n          <Pub pubType=\"OS\"></Pub>\n          <Pub pubType=\"DO\"></Pub>\n          <Pub pubType=\"AP\"></Pub>\n          <Pub pubType=\"TH\"></Pub>\n          <Pub pubType=\"AFF\"></Pub>\n          <Pub pubType=\"OTHER\"></Pub>\n        </div>\n      </StyledMemberPage>\n    </Layout>\n  );\n}\n\nexport const query = graphql`\n  query ($firstName: String, $lastName: String!) {\n    peopleCsv(firstname: { eq: $firstName }, lastname: { eq: $lastName }) {\n      id\n      firstname\n      alt_firstname\n      lastname\n      photo\n      HAL\n      member\n      start_date\n      end_date\n      status\n      statut\n      teams\n      webpage\n      arxivId_s\n      google_scholarId_s\n      idrefId_s\n      isniId_s\n      orcidId_s\n      researcheridId_s\n      viafId_s\n      fid\n    }\n    allHalCsv {\n      nodes {\n        halId\n        id\n        citationRef\n        docType\n        fileMain\n        files\n        invitedCommunication\n        label_bibtex\n        popularLevel\n        proceedings\n        producedDate\n        title\n        authIdHalFullName {\n          fullName\n          idHal\n        }\n        peerReviewing\n        researchData\n        audience\n        doiId\n        softCodeRepository\n        arxivId\n        anrProjectTitle\n        europeanProjectTitle\n        publicationDate\n        teams\n        authors\n        keywords\n        keywords_lastig\n      }\n    }\n  }\n`;\n","/*\n * Copyright 2015, Yahoo Inc.\n * Copyrights licensed under the New BSD License.\n * See the accompanying LICENSE file for terms.\n */\nimport { __rest } from \"tslib\";\nimport * as React from 'react';\nimport { shallowEqual } from '../utils';\nimport useIntl from './useIntl';\nfunction areEqual(prevProps, nextProps) {\n    var values = prevProps.values, otherProps = __rest(prevProps, [\"values\"]);\n    var nextValues = nextProps.values, nextOtherProps = __rest(nextProps, [\"values\"]);\n    return (shallowEqual(nextValues, values) &&\n        shallowEqual(otherProps, nextOtherProps));\n}\nfunction FormattedMessage(props) {\n    var intl = useIntl();\n    var formatMessage = intl.formatMessage, _a = intl.textComponent, Text = _a === void 0 ? React.Fragment : _a;\n    var id = props.id, description = props.description, defaultMessage = props.defaultMessage, values = props.values, children = props.children, _b = props.tagName, Component = _b === void 0 ? Text : _b, ignoreTag = props.ignoreTag;\n    var descriptor = { id: id, description: description, defaultMessage: defaultMessage };\n    var nodes = formatMessage(descriptor, values, {\n        ignoreTag: ignoreTag,\n    });\n    if (typeof children === 'function') {\n        return children(Array.isArray(nodes) ? nodes : [nodes]);\n    }\n    if (Component) {\n        return React.createElement(Component, null, React.Children.toArray(nodes));\n    }\n    return React.createElement(React.Fragment, null, nodes);\n}\nFormattedMessage.displayName = 'FormattedMessage';\nvar MemoizedFormattedMessage = React.memo(FormattedMessage, areEqual);\nMemoizedFormattedMessage.displayName = 'MemoizedFormattedMessage';\nexport default MemoizedFormattedMessage;\n","export function getPubType(node) {\n  if (node.popularLevel === \"1\") return \"PV\";\n  if (\n    node.popularLevel === \"0\" &&\n    node.docType === \"ART\" &&\n    node.peerReviewing === \"0\"\n  )\n    return \"ASCL\";\n  if (\n    node.popularLevel === \"0\" &&\n    node.docType === \"ART\" &&\n    node.peerReviewing === \"1\" &&\n    node.audience === \"2\"\n  )\n    return \"ACL\";\n  if (\n    node.popularLevel === \"0\" &&\n    node.docType === \"ART\" &&\n    node.peerReviewing === \"1\"\n  )\n    return \"ACLN\";\n  if (\n    node.popularLevel === \"0\" &&\n    node.docType === \"COMM\" &&\n    node.invitedCommunication === \"1\"\n  )\n    return \"INV\";\n  if (\n    node.popularLevel === \"0\" &&\n    node.docType === \"COMM\" &&\n    node.invitedCommunication === \"0\" &&\n    node.proceedings === \"0\"\n  )\n    return \"COM\";\n  if (\n    node.popularLevel === \"0\" &&\n    node.docType === \"COMM\" &&\n    node.invitedCommunication === \"0\" &&\n    node.proceedings === \"1\" &&\n    node.audience === \"2\"\n  )\n    return \"ACTI\";\n  if (\n    node.popularLevel === \"0\" &&\n    node.docType === \"COMM\" &&\n    node.invitedCommunication === \"0\" &&\n    node.proceedings === \"1\"\n  )\n    return \"ACTN\";\n  if (node.docType === \"COUV\") return \"OS\";\n  if (node.docType === \"DOUV\") return \"DO\";\n  if (node.docType === \"REPORT\" || node.docType === \"UNDEFINED\") return \"AP\";\n  if (node.docType === \"THESE\" || node.docType === \"HDR\") return \"TH\";\n  if (node.docType === \"POSTER\") return \"AFF\";\n  return \"OTHER\";\n}\n"],"names":["modifyUrl","url","startsWith","modifyPhotoUrl","MemberPage","_ref","data","node","peopleCsv","filteredNodes","allHalCsv","nodes","filter","pubNode","authors","includes","fid","classifiedNodes","map","pubType","getPubType","Pub","_ref2","filteredNodesForType","length","React","id","trans","PublicationList","type","theme","intl","useIntl","locale","useLocalization","text","formatMessage","Layout","StyledMemberPage","firstname","alt_firstname","lastname","src","photo","alt","status","statut","teams","FormattedMessage","values","join","webpage","href","Ids","HAL","Icon","icon","width","height","orcidId_s","google_scholarId_s","idrefId_s","researcheridId_s","split","isniId_s","viafId_s","arxivId_s","WordCloud","props","_a","textComponent","Text","description","defaultMessage","children","_b","tagName","Component","ignoreTag","Array","isArray","toArray","displayName","MemoizedFormattedMessage","prevProps","nextProps","otherProps","nextValues","nextOtherProps","popularLevel","docType","peerReviewing","audience","invitedCommunication","proceedings"],"sourceRoot":""}