"use strict";(self.webpackChunklastig_gastby=self.webpackChunklastig_gastby||[]).push([[42],{7528:function(t,n,e){var r=e(6540),i=e(4794);n.A=t=>{let{title:n}=t;const e=(0,i.useStaticQuery)("3159585216");return r.createElement("title",null,n," | ",e.site.siteMetadata.title)}},5190:function(t,n,e){function r(t,n){return null==t||null==n?NaN:t<n?-1:t>n?1:t>=n?0:NaN}function i(t,n){return null==t||null==n?NaN:n<t?-1:n>t?1:n>=t?0:NaN}function a(t){let n,e,a;function c(t,r,i=0,a=t.length){if(i<a){if(0!==n(r,r))return a;do{const n=i+a>>>1;e(t[n],r)<0?i=n+1:a=n}while(i<a)}return i}return 2!==t.length?(n=r,e=(n,e)=>r(t(n),e),a=(n,e)=>t(n)-e):(n=t===r||t===i?t:o,e=t,a=t),{left:c,center:function(t,n,e=0,r=t.length){const i=c(t,n,e,r-1);return i>e&&a(t[i-1],n)>-a(t[i],n)?i-1:i},right:function(t,r,i=0,a=t.length){if(i<a){if(0!==n(r,r))return a;do{const n=i+a>>>1;e(t[n],r)<=0?i=n+1:a=n}while(i<a)}return i}}}function o(){return 0}function c(t){return 0|t.length}function f(t){return!(t>0)}function u(t){return"object"!=typeof t||"length"in t?t:Array.from(t)}function l(t,n){let e,r=0,i=0,a=0;if(void 0===n)for(let o of t)null!=o&&(o=+o)>=o&&(e=o-i,i+=e/++r,a+=e*(o-i));else{let o=-1;for(let c of t)null!=(c=n(c,++o,t))&&(c=+c)>=c&&(e=c-i,i+=e/++r,a+=e*(c-i))}if(r>1)return a/(r-1)}function s(t,n){const e=l(t,n);return e?Math.sqrt(e):e}function d(t,n){let e,r;if(void 0===n)for(const i of t)null!=i&&(void 0===e?i>=i&&(e=r=i):(e>i&&(e=i),r<i&&(r=i)));else{let i=-1;for(let a of t)null!=(a=n(a,++i,t))&&(void 0===e?a>=a&&(e=r=a):(e>a&&(e=a),r<a&&(r=a)))}return[e,r]}e.d(n,{l3:function(){return qv},Om:function(){return Kw},QI:function(){return Lw},Pc:function(){return ex},Qq:function(){return av}});class h extends Map{constructor(t,n=y){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),null!=t)for(const[e,r]of t)this.set(e,r)}get(t){return super.get(g(this,t))}has(t){return super.has(g(this,t))}set(t,n){return super.set(m(this,t),n)}delete(t){return super.delete(b(this,t))}}class p extends Set{constructor(t,n=y){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),null!=t)for(const e of t)this.add(e)}has(t){return super.has(g(this,t))}add(t){return super.add(m(this,t))}delete(t){return super.delete(b(this,t))}}function g({_intern:t,_key:n},e){const r=n(e);return t.has(r)?t.get(r):e}function m({_intern:t,_key:n},e){const r=n(e);return t.has(r)?t.get(r):(t.set(r,e),e)}function b({_intern:t,_key:n},e){const r=n(e);return t.has(r)&&(e=t.get(r),t.delete(r)),e}function y(t){return null!==t&&"object"==typeof t?t.valueOf():t}function v(t){return t}function w(t,n,...e){return M(t,v,n,e)}function x(t,n,...e){return M(t,Array.from,n,e)}function M(t,n,e,r){return function t(i,a){if(a>=r.length)return e(i);const o=new h,c=r[a++];let f=-1;for(const n of i){const t=c(n,++f,i),e=o.get(t);e?e.push(n):o.set(t,[n])}for(const[n,e]of o)o.set(n,t(e,a));return n(o)}(t,0)}function k(t,n){let e;if(void 0===n)for(const r of t)null!=r&&(e<r||void 0===e&&r>=r)&&(e=r);else{let r=-1;for(let i of t)null!=(i=n(i,++r,t))&&(e<i||void 0===e&&i>=i)&&(e=i)}return e}function _(t,n){let e,r=-1,i=-1;if(void 0===n)for(const a of t)++i,null!=a&&(e<a||void 0===e&&a>=a)&&(e=a,r=i);else for(let a of t)null!=(a=n(a,++i,t))&&(e<a||void 0===e&&a>=a)&&(e=a,r=i);return r}function $(t,n){let e=0,r=0;if(void 0===n)for(let i of t)null!=i&&(i=+i)>=i&&(++e,r+=i);else{let i=-1;for(let a of t)null!=(a=n(a,++i,t))&&(a=+a)>=a&&(++e,r+=a)}if(e)return r/e}function A(t,n){let e;if(void 0===n)for(const r of t)null!=r&&(e>r||void 0===e&&r>=r)&&(e=r);else{let r=-1;for(let i of t)null!=(i=n(i,++r,t))&&(e>i||void 0===e&&i>=i)&&(e=i)}return e}function T(t,...n){if("function"!=typeof t[Symbol.iterator])throw new TypeError("values is not iterable");t=Array.from(t);let[e]=n;if(e&&2!==e.length||n.length>1){const a=Uint32Array.from(t,((t,n)=>n));return n.length>1?(n=n.map((n=>t.map(n))),a.sort(((t,e)=>{for(const r of n){const n=E(r[t],r[e]);if(n)return n}}))):(e=t.map(e),a.sort(((t,n)=>E(e[t],e[n])))),r=t,i=a,Array.from(i,(t=>r[t]))}var r,i;return t.sort(S(e))}function S(t=r){if(t===r)return E;if("function"!=typeof t)throw new TypeError("compare is not a function");return(n,e)=>{const r=t(n,e);return r||0===r?r:(0===t(e,e))-(0===t(n,n))}}function E(t,n){return(null==t||!(t>=t))-(null==n||!(n>=n))||(t<n?-1:t>n?1:0)}function N(t,n,e=0,r=1/0,i){if(n=Math.floor(n),e=Math.floor(Math.max(0,e)),r=Math.floor(Math.min(t.length-1,r)),!(e<=n&&n<=r))return t;for(i=void 0===i?E:S(i);r>e;){if(r-e>600){const a=r-e+1,o=n-e+1,c=Math.log(a),f=.5*Math.exp(2*c/3),u=.5*Math.sqrt(c*f*(a-f)/a)*(o-a/2<0?-1:1);N(t,n,Math.max(e,Math.floor(n-o*f/a+u)),Math.min(r,Math.floor(n+(a-o)*f/a+u)),i)}const a=t[n];let o=e,c=r;for(C(t,e,n),i(t[r],a)>0&&C(t,e,r);o<c;){for(C(t,o,c),++o,--c;i(t[o],a)<0;)++o;for(;i(t[c],a)>0;)--c}0===i(t[e],a)?C(t,e,c):(++c,C(t,c,r)),c<=n&&(e=c+1),n<=c&&(r=c-1)}return t}function C(t,n,e){const r=t[n];t[n]=t[e],t[e]=r}function L(t){return null===t?NaN:+t}function D(t,n,e){if(t=Float64Array.from(function*(t,n){if(void 0===n)for(let e of t)null!=e&&(e=+e)>=e&&(yield e);else{let e=-1;for(let r of t)null!=(r=n(r,++e,t))&&(r=+r)>=r&&(yield r)}}(t,e)),(r=t.length)&&!isNaN(n=+n)){if(n<=0||r<2)return A(t);if(n>=1)return k(t);var r,i=(r-1)*n,a=Math.floor(i),o=k(N(t,a).subarray(0,a+1));return o+(A(t.subarray(a+1))-o)*(i-a)}}function O(t,n,e=L){if((r=t.length)&&!isNaN(n=+n)){if(n<=0||r<2)return+e(t[0],0,t);if(n>=1)return+e(t[r-1],r-1,t);var r,i=(r-1)*n,a=Math.floor(i),o=+e(t[a],a,t);return o+(+e(t[a+1],a+1,t)-o)*(i-a)}}function R(t,n){return D(t,.5,n)}function F(t,n){let e,r=-1,i=-1;if(void 0===n)for(const a of t)++i,null!=a&&(e>a||void 0===e&&a>=a)&&(e=a,r=i);else for(let a of t)null!=(a=n(a,++i,t))&&(e>a||void 0===e&&a>=a)&&(e=a,r=i);return r}function z(t,n){const e=new h;if(void 0===n)for(let a of t)null!=a&&a>=a&&e.set(a,(e.get(a)||0)+1);else{let r=-1;for(let i of t)null!=(i=n(i,++r,t))&&i>=i&&e.set(i,(e.get(i)||0)+1)}let r,i=0;for(const[a,o]of e)o>i&&(i=o,r=a);return r}function U(t,n){return[t,n]}function j(t,n,e){t=+t,n=+n,e=(i=arguments.length)<2?(n=t,t=0,1):i<3?1:+e;for(var r=-1,i=0|Math.max(0,Math.ceil((n-t)/e)),a=new Array(i);++r<i;)a[r]=t+r*e;return a}function q(t,n){let e=0;if(void 0===n)for(let r of t)(r=+r)&&(e+=r);else{let r=-1;for(let i of t)(i=+n(i,++r,t))&&(e+=i)}return e}const I=Math.sqrt(50),P=Math.sqrt(10),B=Math.sqrt(2);function W(t,n,e){const r=(n-t)/Math.max(0,e),i=Math.floor(Math.log10(r)),a=r/Math.pow(10,i),o=a>=I?10:a>=P?5:a>=B?2:1;let c,f,u;return i<0?(u=Math.pow(10,-i)/o,c=Math.round(t*u),f=Math.round(n*u),c/u<t&&++c,f/u>n&&--f,u=-u):(u=Math.pow(10,i)*o,c=Math.round(t/u),f=Math.round(n/u),c*u<t&&++c,f*u>n&&--f),f<c&&.5<=e&&e<2?W(t,n,2*e):[c,f,u]}function H(t,n,e){if(!((e=+e)>0))return[];if((t=+t)===(n=+n))return[t];const r=n<t,[i,a,o]=r?W(n,t,e):W(t,n,e);if(!(a>=i))return[];const c=a-i+1,f=new Array(c);if(r)if(o<0)for(let u=0;u<c;++u)f[u]=(a-u)/-o;else for(let u=0;u<c;++u)f[u]=(a-u)*o;else if(o<0)for(let u=0;u<c;++u)f[u]=(i+u)/-o;else for(let u=0;u<c;++u)f[u]=(i+u)*o;return f}function Y(t,n,e){return W(t=+t,n=+n,e=+e)[2]}function V(t,n,e){e=+e;const r=(n=+n)<(t=+t),i=r?Y(n,t,e):Y(t,n,e);return(r?-1:1)*(i<0?1/-i:i)}function X(t){if("function"!=typeof t[Symbol.iterator])throw new TypeError("values is not iterable");return Array.from(t).reverse()}function Z(t){return t}var G=1,Q=2,J=3,K=4,tt=1e-6;function nt(t){return"translate("+t+",0)"}function et(t){return"translate(0,"+t+")"}function rt(t){return n=>+t(n)}function at(t,n){return n=Math.max(0,t.bandwidth()-2*n)/2,t.round()&&(n=Math.round(n)),e=>+t(e)+n}function ot(){return!this.__axis}function ct(t,n){var e=[],r=null,i=null,a=6,o=6,c=3,f="undefined"!=typeof window&&window.devicePixelRatio>1?0:.5,u=t===G||t===K?-1:1,l=t===K||t===Q?"x":"y",s=t===G||t===J?nt:et;function d(d){var h=null==r?n.ticks?n.ticks.apply(n,e):n.domain():r,p=null==i?n.tickFormat?n.tickFormat.apply(n,e):Z:i,g=Math.max(a,0)+c,m=n.range(),b=+m[0]+f,y=+m[m.length-1]+f,v=(n.bandwidth?at:rt)(n.copy(),f),w=d.selection?d.selection():d,x=w.selectAll(".domain").data([null]),M=w.selectAll(".tick").data(h,n).order(),k=M.exit(),_=M.enter().append("g").attr("class","tick"),$=M.select("line"),A=M.select("text");x=x.merge(x.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),M=M.merge(_),$=$.merge(_.append("line").attr("stroke","currentColor").attr(l+"2",u*a)),A=A.merge(_.append("text").attr("fill","currentColor").attr(l,u*g).attr("dy",t===G?"0em":t===J?"0.71em":"0.32em")),d!==w&&(x=x.transition(d),M=M.transition(d),$=$.transition(d),A=A.transition(d),k=k.transition(d).attr("opacity",tt).attr("transform",(function(t){return isFinite(t=v(t))?s(t+f):this.getAttribute("transform")})),_.attr("opacity",tt).attr("transform",(function(t){var n=this.parentNode.__axis;return s((n&&isFinite(n=n(t))?n:v(t))+f)}))),k.remove(),x.attr("d",t===K||t===Q?o?"M"+u*o+","+b+"H"+f+"V"+y+"H"+u*o:"M"+f+","+b+"V"+y:o?"M"+b+","+u*o+"V"+f+"H"+y+"V"+u*o:"M"+b+","+f+"H"+y),M.attr("opacity",1).attr("transform",(function(t){return s(v(t)+f)})),$.attr(l+"2",u*a),A.attr(l,u*g).text(p),w.filter(ot).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",t===Q?"start":t===K?"end":"middle"),w.each((function(){this.__axis=v}))}return d.scale=function(t){return arguments.length?(n=t,d):n},d.ticks=function(){return e=Array.from(arguments),d},d.tickArguments=function(t){return arguments.length?(e=null==t?[]:Array.from(t),d):e.slice()},d.tickValues=function(t){return arguments.length?(r=null==t?null:Array.from(t),d):r&&r.slice()},d.tickFormat=function(t){return arguments.length?(i=t,d):i},d.tickSize=function(t){return arguments.length?(a=o=+t,d):a},d.tickSizeInner=function(t){return arguments.length?(a=+t,d):a},d.tickSizeOuter=function(t){return arguments.length?(o=+t,d):o},d.tickPadding=function(t){return arguments.length?(c=+t,d):c},d.offset=function(t){return arguments.length?(f=+t,d):f},d}function ft(){}function ut(t){return null==t?ft:function(){return this.querySelector(t)}}function lt(){return[]}function st(t){return null==t?lt:function(){return this.querySelectorAll(t)}}function dt(t){return function(){return null==(n=t.apply(this,arguments))?[]:Array.isArray(n)?n:Array.from(n);var n}}function ht(t){return function(){return this.matches(t)}}function pt(t){return function(n){return n.matches(t)}}var gt=Array.prototype.find;function mt(){return this.firstElementChild}var bt=Array.prototype.filter;function yt(){return Array.from(this.children)}function vt(t){return new Array(t.length)}function wt(t,n){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=n}function xt(t,n,e,r,i,a){for(var o,c=0,f=n.length,u=a.length;c<u;++c)(o=n[c])?(o.__data__=a[c],r[c]=o):e[c]=new wt(t,a[c]);for(;c<f;++c)(o=n[c])&&(i[c]=o)}function Mt(t,n,e,r,i,a,o){var c,f,u,l=new Map,s=n.length,d=a.length,h=new Array(s);for(c=0;c<s;++c)(f=n[c])&&(h[c]=u=o.call(f,f.__data__,c,n)+"",l.has(u)?i[c]=f:l.set(u,f));for(c=0;c<d;++c)u=o.call(t,a[c],c,a)+"",(f=l.get(u))?(r[c]=f,f.__data__=a[c],l.delete(u)):e[c]=new wt(t,a[c]);for(c=0;c<s;++c)(f=n[c])&&l.get(h[c])===f&&(i[c]=f)}function kt(t){return t.__data__}function _t(t){return"object"==typeof t&&"length"in t?t:Array.from(t)}function $t(t,n){return t<n?-1:t>n?1:t>=n?0:NaN}wt.prototype={constructor:wt,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,n){return this._parent.insertBefore(t,n)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};var At="http://www.w3.org/1999/xhtml",Tt={svg:"http://www.w3.org/2000/svg",xhtml:At,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function St(t){var n=t+="",e=n.indexOf(":");return e>=0&&"xmlns"!==(n=t.slice(0,e))&&(t=t.slice(e+1)),Tt.hasOwnProperty(n)?{space:Tt[n],local:t}:t}function Et(t){return function(){this.removeAttribute(t)}}function Nt(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Ct(t,n){return function(){this.setAttribute(t,n)}}function Lt(t,n){return function(){this.setAttributeNS(t.space,t.local,n)}}function Dt(t,n){return function(){var e=n.apply(this,arguments);null==e?this.removeAttribute(t):this.setAttribute(t,e)}}function Ot(t,n){return function(){var e=n.apply(this,arguments);null==e?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,e)}}function Rt(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function Ft(t){return function(){this.style.removeProperty(t)}}function zt(t,n,e){return function(){this.style.setProperty(t,n,e)}}function Ut(t,n,e){return function(){var r=n.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,e)}}function jt(t,n){return t.style.getPropertyValue(n)||Rt(t).getComputedStyle(t,null).getPropertyValue(n)}function qt(t){return function(){delete this[t]}}function It(t,n){return function(){this[t]=n}}function Pt(t,n){return function(){var e=n.apply(this,arguments);null==e?delete this[t]:this[t]=e}}function Bt(t){return t.trim().split(/^|\s+/)}function Wt(t){return t.classList||new Ht(t)}function Ht(t){this._node=t,this._names=Bt(t.getAttribute("class")||"")}function Yt(t,n){for(var e=Wt(t),r=-1,i=n.length;++r<i;)e.add(n[r])}function Vt(t,n){for(var e=Wt(t),r=-1,i=n.length;++r<i;)e.remove(n[r])}function Xt(t){return function(){Yt(this,t)}}function Zt(t){return function(){Vt(this,t)}}function Gt(t,n){return function(){(n.apply(this,arguments)?Yt:Vt)(this,t)}}function Qt(){this.textContent=""}function Jt(t){return function(){this.textContent=t}}function Kt(t){return function(){var n=t.apply(this,arguments);this.textContent=null==n?"":n}}function tn(){this.innerHTML=""}function nn(t){return function(){this.innerHTML=t}}function en(t){return function(){var n=t.apply(this,arguments);this.innerHTML=null==n?"":n}}function rn(){this.nextSibling&&this.parentNode.appendChild(this)}function an(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function on(t){return function(){var n=this.ownerDocument,e=this.namespaceURI;return e===At&&n.documentElement.namespaceURI===At?n.createElement(t):n.createElementNS(e,t)}}function cn(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function fn(t){var n=St(t);return(n.local?cn:on)(n)}function un(){return null}function ln(){var t=this.parentNode;t&&t.removeChild(this)}function sn(){var t=this.cloneNode(!1),n=this.parentNode;return n?n.insertBefore(t,this.nextSibling):t}function dn(){var t=this.cloneNode(!0),n=this.parentNode;return n?n.insertBefore(t,this.nextSibling):t}function hn(t){return function(){var n=this.__on;if(n){for(var e,r=0,i=-1,a=n.length;r<a;++r)e=n[r],t.type&&e.type!==t.type||e.name!==t.name?n[++i]=e:this.removeEventListener(e.type,e.listener,e.options);++i?n.length=i:delete this.__on}}}function pn(t,n,e){return function(){var r,i=this.__on,a=function(t){return function(n){t.call(this,n,this.__data__)}}(n);if(i)for(var o=0,c=i.length;o<c;++o)if((r=i[o]).type===t.type&&r.name===t.name)return this.removeEventListener(r.type,r.listener,r.options),this.addEventListener(r.type,r.listener=a,r.options=e),void(r.value=n);this.addEventListener(t.type,a,e),r={type:t.type,name:t.name,value:n,listener:a,options:e},i?i.push(r):this.__on=[r]}}function gn(t,n,e){var r=Rt(t),i=r.CustomEvent;"function"==typeof i?i=new i(n,e):(i=r.document.createEvent("Event"),e?(i.initEvent(n,e.bubbles,e.cancelable),i.detail=e.detail):i.initEvent(n,!1,!1)),t.dispatchEvent(i)}function mn(t,n){return function(){return gn(this,t,n)}}function bn(t,n){return function(){return gn(this,t,n.apply(this,arguments))}}Ht.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var n=this._names.indexOf(t);n>=0&&(this._names.splice(n,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};var yn=[null];function vn(t,n){this._groups=t,this._parents=n}function wn(){return new vn([[document.documentElement]],yn)}vn.prototype=wn.prototype={constructor:vn,select:function(t){"function"!=typeof t&&(t=ut(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var a,o,c=n[i],f=c.length,u=r[i]=new Array(f),l=0;l<f;++l)(a=c[l])&&(o=t.call(a,a.__data__,l,c))&&("__data__"in a&&(o.__data__=a.__data__),u[l]=o);return new vn(r,this._parents)},selectAll:function(t){t="function"==typeof t?dt(t):st(t);for(var n=this._groups,e=n.length,r=[],i=[],a=0;a<e;++a)for(var o,c=n[a],f=c.length,u=0;u<f;++u)(o=c[u])&&(r.push(t.call(o,o.__data__,u,c)),i.push(o));return new vn(r,i)},selectChild:function(t){return this.select(null==t?mt:function(t){return function(){return gt.call(this.children,t)}}("function"==typeof t?t:pt(t)))},selectChildren:function(t){return this.selectAll(null==t?yt:function(t){return function(){return bt.call(this.children,t)}}("function"==typeof t?t:pt(t)))},filter:function(t){"function"!=typeof t&&(t=ht(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var a,o=n[i],c=o.length,f=r[i]=[],u=0;u<c;++u)(a=o[u])&&t.call(a,a.__data__,u,o)&&f.push(a);return new vn(r,this._parents)},data:function(t,n){if(!arguments.length)return Array.from(this,kt);var e,r=n?Mt:xt,i=this._parents,a=this._groups;"function"!=typeof t&&(e=t,t=function(){return e});for(var o=a.length,c=new Array(o),f=new Array(o),u=new Array(o),l=0;l<o;++l){var s=i[l],d=a[l],h=d.length,p=_t(t.call(s,s&&s.__data__,l,i)),g=p.length,m=f[l]=new Array(g),b=c[l]=new Array(g);r(s,d,m,b,u[l]=new Array(h),p,n);for(var y,v,w=0,x=0;w<g;++w)if(y=m[w]){for(w>=x&&(x=w+1);!(v=b[x])&&++x<g;);y._next=v||null}}return(c=new vn(c,i))._enter=f,c._exit=u,c},enter:function(){return new vn(this._enter||this._groups.map(vt),this._parents)},exit:function(){return new vn(this._exit||this._groups.map(vt),this._parents)},join:function(t,n,e){var r=this.enter(),i=this,a=this.exit();return"function"==typeof t?(r=t(r))&&(r=r.selection()):r=r.append(t+""),null!=n&&(i=n(i))&&(i=i.selection()),null==e?a.remove():e(a),r&&i?r.merge(i).order():i},merge:function(t){for(var n=t.selection?t.selection():t,e=this._groups,r=n._groups,i=e.length,a=r.length,o=Math.min(i,a),c=new Array(i),f=0;f<o;++f)for(var u,l=e[f],s=r[f],d=l.length,h=c[f]=new Array(d),p=0;p<d;++p)(u=l[p]||s[p])&&(h[p]=u);for(;f<i;++f)c[f]=e[f];return new vn(c,this._parents)},selection:function(){return this},order:function(){for(var t=this._groups,n=-1,e=t.length;++n<e;)for(var r,i=t[n],a=i.length-1,o=i[a];--a>=0;)(r=i[a])&&(o&&4^r.compareDocumentPosition(o)&&o.parentNode.insertBefore(r,o),o=r);return this},sort:function(t){function n(n,e){return n&&e?t(n.__data__,e.__data__):!n-!e}t||(t=$t);for(var e=this._groups,r=e.length,i=new Array(r),a=0;a<r;++a){for(var o,c=e[a],f=c.length,u=i[a]=new Array(f),l=0;l<f;++l)(o=c[l])&&(u[l]=o);u.sort(n)}return new vn(i,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){return Array.from(this)},node:function(){for(var t=this._groups,n=0,e=t.length;n<e;++n)for(var r=t[n],i=0,a=r.length;i<a;++i){var o=r[i];if(o)return o}return null},size:function(){let t=0;for(const n of this)++t;return t},empty:function(){return!this.node()},each:function(t){for(var n=this._groups,e=0,r=n.length;e<r;++e)for(var i,a=n[e],o=0,c=a.length;o<c;++o)(i=a[o])&&t.call(i,i.__data__,o,a);return this},attr:function(t,n){var e=St(t);if(arguments.length<2){var r=this.node();return e.local?r.getAttributeNS(e.space,e.local):r.getAttribute(e)}return this.each((null==n?e.local?Nt:Et:"function"==typeof n?e.local?Ot:Dt:e.local?Lt:Ct)(e,n))},style:function(t,n,e){return arguments.length>1?this.each((null==n?Ft:"function"==typeof n?Ut:zt)(t,n,null==e?"":e)):jt(this.node(),t)},property:function(t,n){return arguments.length>1?this.each((null==n?qt:"function"==typeof n?Pt:It)(t,n)):this.node()[t]},classed:function(t,n){var e=Bt(t+"");if(arguments.length<2){for(var r=Wt(this.node()),i=-1,a=e.length;++i<a;)if(!r.contains(e[i]))return!1;return!0}return this.each(("function"==typeof n?Gt:n?Xt:Zt)(e,n))},text:function(t){return arguments.length?this.each(null==t?Qt:("function"==typeof t?Kt:Jt)(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?tn:("function"==typeof t?en:nn)(t)):this.node().innerHTML},raise:function(){return this.each(rn)},lower:function(){return this.each(an)},append:function(t){var n="function"==typeof t?t:fn(t);return this.select((function(){return this.appendChild(n.apply(this,arguments))}))},insert:function(t,n){var e="function"==typeof t?t:fn(t),r=null==n?un:"function"==typeof n?n:ut(n);return this.select((function(){return this.insertBefore(e.apply(this,arguments),r.apply(this,arguments)||null)}))},remove:function(){return this.each(ln)},clone:function(t){return this.select(t?dn:sn)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,n,e){var r,i,a=function(t){return t.trim().split(/^|\s+/).map((function(t){var n="",e=t.indexOf(".");return e>=0&&(n=t.slice(e+1),t=t.slice(0,e)),{type:t,name:n}}))}(t+""),o=a.length;if(!(arguments.length<2)){for(c=n?pn:hn,r=0;r<o;++r)this.each(c(a[r],n,e));return this}var c=this.node().__on;if(c)for(var f,u=0,l=c.length;u<l;++u)for(r=0,f=c[u];r<o;++r)if((i=a[r]).type===f.type&&i.name===f.name)return f.value},dispatch:function(t,n){return this.each(("function"==typeof n?bn:mn)(t,n))},[Symbol.iterator]:function*(){for(var t=this._groups,n=0,e=t.length;n<e;++n)for(var r,i=t[n],a=0,o=i.length;a<o;++a)(r=i[a])&&(yield r)}};var xn=wn,Mn={value:()=>{}};function kn(){for(var t,n=0,e=arguments.length,r={};n<e;++n){if(!(t=arguments[n]+"")||t in r||/[\s.]/.test(t))throw new Error("illegal type: "+t);r[t]=[]}return new _n(r)}function _n(t){this._=t}function $n(t,n){for(var e,r=0,i=t.length;r<i;++r)if((e=t[r]).name===n)return e.value}function An(t,n,e){for(var r=0,i=t.length;r<i;++r)if(t[r].name===n){t[r]=Mn,t=t.slice(0,r).concat(t.slice(r+1));break}return null!=e&&t.push({name:n,value:e}),t}_n.prototype=kn.prototype={constructor:_n,on:function(t,n){var e,r,i=this._,a=(r=i,(t+"").trim().split(/^|\s+/).map((function(t){var n="",e=t.indexOf(".");if(e>=0&&(n=t.slice(e+1),t=t.slice(0,e)),t&&!r.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:n}}))),o=-1,c=a.length;if(!(arguments.length<2)){if(null!=n&&"function"!=typeof n)throw new Error("invalid callback: "+n);for(;++o<c;)if(e=(t=a[o]).type)i[e]=An(i[e],t.name,n);else if(null==n)for(e in i)i[e]=An(i[e],t.name,null);return this}for(;++o<c;)if((e=(t=a[o]).type)&&(e=$n(i[e],t.name)))return e},copy:function(){var t={},n=this._;for(var e in n)t[e]=n[e].slice();return new _n(t)},call:function(t,n){if((e=arguments.length-2)>0)for(var e,r,i=new Array(e),a=0;a<e;++a)i[a]=arguments[a+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(a=0,e=(r=this._[t]).length;a<e;++a)r[a].value.apply(n,i)},apply:function(t,n,e){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,a=r.length;i<a;++i)r[i].value.apply(n,e)}};var Tn,Sn,En=kn,Nn=0,Cn=0,Ln=0,Dn=1e3,On=0,Rn=0,Fn=0,zn="object"==typeof performance&&performance.now?performance:Date,Un="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function jn(){return Rn||(Un(qn),Rn=zn.now()+Fn)}function qn(){Rn=0}function In(){this._call=this._time=this._next=null}function Pn(t,n,e){var r=new In;return r.restart(t,n,e),r}function Bn(){Rn=(On=zn.now())+Fn,Nn=Cn=0;try{!function(){jn(),++Nn;for(var t,n=Tn;n;)(t=Rn-n._time)>=0&&n._call.call(void 0,t),n=n._next;--Nn}()}finally{Nn=0,function(){var t,n,e=Tn,r=1/0;for(;e;)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:Tn=n);Sn=t,Hn(r)}(),Rn=0}}function Wn(){var t=zn.now(),n=t-On;n>Dn&&(Fn-=n,On=t)}function Hn(t){Nn||(Cn&&(Cn=clearTimeout(Cn)),t-Rn>24?(t<1/0&&(Cn=setTimeout(Bn,t-zn.now()-Fn)),Ln&&(Ln=clearInterval(Ln))):(Ln||(On=zn.now(),Ln=setInterval(Wn,Dn)),Nn=1,Un(Bn)))}function Yn(t,n,e){var r=new In;return n=null==n?0:+n,r.restart((e=>{r.stop(),t(e+n)}),n,e),r}In.prototype=Pn.prototype={constructor:In,restart:function(t,n,e){if("function"!=typeof t)throw new TypeError("callback is not a function");e=(null==e?jn():+e)+(null==n?0:+n),this._next||Sn===this||(Sn?Sn._next=this:Tn=this,Sn=this),this._call=t,this._time=e,Hn()},stop:function(){this._call&&(this._call=null,this._time=1/0,Hn())}};var Vn=En("start","end","cancel","interrupt"),Xn=[],Zn=0,Gn=1,Qn=2,Jn=3,Kn=4,te=5,ne=6;function ee(t,n,e,r,i,a){var o=t.__transition;if(o){if(e in o)return}else t.__transition={};!function(t,n,e){var r,i=t.__transition;function a(t){e.state=Gn,e.timer.restart(o,e.delay,e.time),e.delay<=t&&o(t-e.delay)}function o(a){var u,l,s,d;if(e.state!==Gn)return f();for(u in i)if((d=i[u]).name===e.name){if(d.state===Jn)return Yn(o);d.state===Kn?(d.state=ne,d.timer.stop(),d.on.call("interrupt",t,t.__data__,d.index,d.group),delete i[u]):+u<n&&(d.state=ne,d.timer.stop(),d.on.call("cancel",t,t.__data__,d.index,d.group),delete i[u])}if(Yn((function(){e.state===Jn&&(e.state=Kn,e.timer.restart(c,e.delay,e.time),c(a))})),e.state=Qn,e.on.call("start",t,t.__data__,e.index,e.group),e.state===Qn){for(e.state=Jn,r=new Array(s=e.tween.length),u=0,l=-1;u<s;++u)(d=e.tween[u].value.call(t,t.__data__,e.index,e.group))&&(r[++l]=d);r.length=l+1}}function c(n){for(var i=n<e.duration?e.ease.call(null,n/e.duration):(e.timer.restart(f),e.state=te,1),a=-1,o=r.length;++a<o;)r[a].call(t,i);e.state===te&&(e.on.call("end",t,t.__data__,e.index,e.group),f())}function f(){for(var r in e.state=ne,e.timer.stop(),delete i[n],i)return;delete t.__transition}i[n]=e,e.timer=Pn(a,0,e.time)}(t,e,{name:n,index:r,group:i,on:Vn,tween:Xn,time:a.time,delay:a.delay,duration:a.duration,ease:a.ease,timer:null,state:Zn})}function re(t,n){var e=ae(t,n);if(e.state>Zn)throw new Error("too late; already scheduled");return e}function ie(t,n){var e=ae(t,n);if(e.state>Jn)throw new Error("too late; already running");return e}function ae(t,n){var e=t.__transition;if(!e||!(e=e[n]))throw new Error("transition not found");return e}function oe(t,n){return t=+t,n=+n,function(e){return t*(1-e)+n*e}}var ce,fe=180/Math.PI,ue={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function le(t,n,e,r,i,a){var o,c,f;return(o=Math.sqrt(t*t+n*n))&&(t/=o,n/=o),(f=t*e+n*r)&&(e-=t*f,r-=n*f),(c=Math.sqrt(e*e+r*r))&&(e/=c,r/=c,f/=c),t*r<n*e&&(t=-t,n=-n,f=-f,o=-o),{translateX:i,translateY:a,rotate:Math.atan2(n,t)*fe,skewX:Math.atan(f)*fe,scaleX:o,scaleY:c}}function se(t,n,e,r){function i(t){return t.length?t.pop()+" ":""}return function(a,o){var c=[],f=[];return a=t(a),o=t(o),function(t,r,i,a,o,c){if(t!==i||r!==a){var f=o.push("translate(",null,n,null,e);c.push({i:f-4,x:oe(t,i)},{i:f-2,x:oe(r,a)})}else(i||a)&&o.push("translate("+i+n+a+e)}(a.translateX,a.translateY,o.translateX,o.translateY,c,f),function(t,n,e,a){t!==n?(t-n>180?n+=360:n-t>180&&(t+=360),a.push({i:e.push(i(e)+"rotate(",null,r)-2,x:oe(t,n)})):n&&e.push(i(e)+"rotate("+n+r)}(a.rotate,o.rotate,c,f),function(t,n,e,a){t!==n?a.push({i:e.push(i(e)+"skewX(",null,r)-2,x:oe(t,n)}):n&&e.push(i(e)+"skewX("+n+r)}(a.skewX,o.skewX,c,f),function(t,n,e,r,a,o){if(t!==e||n!==r){var c=a.push(i(a)+"scale(",null,",",null,")");o.push({i:c-4,x:oe(t,e)},{i:c-2,x:oe(n,r)})}else 1===e&&1===r||a.push(i(a)+"scale("+e+","+r+")")}(a.scaleX,a.scaleY,o.scaleX,o.scaleY,c,f),a=o=null,function(t){for(var n,e=-1,r=f.length;++e<r;)c[(n=f[e]).i]=n.x(t);return c.join("")}}}var de=se((function(t){const n=new("function"==typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(t+"");return n.isIdentity?ue:le(n.a,n.b,n.c,n.d,n.e,n.f)}),"px, ","px)","deg)"),he=se((function(t){return null==t?ue:(ce||(ce=document.createElementNS("http://www.w3.org/2000/svg","g")),ce.setAttribute("transform",t),(t=ce.transform.baseVal.consolidate())?le((t=t.matrix).a,t.b,t.c,t.d,t.e,t.f):ue)}),", ",")",")");function pe(t,n){var e,r;return function(){var i=ie(this,t),a=i.tween;if(a!==e)for(var o=0,c=(r=e=a).length;o<c;++o)if(r[o].name===n){(r=r.slice()).splice(o,1);break}i.tween=r}}function ge(t,n,e){var r,i;if("function"!=typeof e)throw new Error;return function(){var a=ie(this,t),o=a.tween;if(o!==r){i=(r=o).slice();for(var c={name:n,value:e},f=0,u=i.length;f<u;++f)if(i[f].name===n){i[f]=c;break}f===u&&i.push(c)}a.tween=i}}function me(t,n,e){var r=t._id;return t.each((function(){var t=ie(this,r);(t.value||(t.value={}))[n]=e.apply(this,arguments)})),function(t){return ae(t,r).value[n]}}function be(t,n,e){t.prototype=n.prototype=e,e.constructor=t}function ye(t,n){var e=Object.create(t.prototype);for(var r in n)e[r]=n[r];return e}function ve(){}var we=.7,xe=1/we,Me="\\s*([+-]?\\d+)\\s*",ke="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",_e="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",$e=/^#([0-9a-f]{3,8})$/,Ae=new RegExp(`^rgb\\(${Me},${Me},${Me}\\)$`),Te=new RegExp(`^rgb\\(${_e},${_e},${_e}\\)$`),Se=new RegExp(`^rgba\\(${Me},${Me},${Me},${ke}\\)$`),Ee=new RegExp(`^rgba\\(${_e},${_e},${_e},${ke}\\)$`),Ne=new RegExp(`^hsl\\(${ke},${_e},${_e}\\)$`),Ce=new RegExp(`^hsla\\(${ke},${_e},${_e},${ke}\\)$`),Le={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function De(){return this.rgb().formatHex()}function Oe(){return this.rgb().formatRgb()}function Re(t){var n,e;return t=(t+"").trim().toLowerCase(),(n=$e.exec(t))?(e=n[1].length,n=parseInt(n[1],16),6===e?Fe(n):3===e?new qe(n>>8&15|n>>4&240,n>>4&15|240&n,(15&n)<<4|15&n,1):8===e?ze(n>>24&255,n>>16&255,n>>8&255,(255&n)/255):4===e?ze(n>>12&15|n>>8&240,n>>8&15|n>>4&240,n>>4&15|240&n,((15&n)<<4|15&n)/255):null):(n=Ae.exec(t))?new qe(n[1],n[2],n[3],1):(n=Te.exec(t))?new qe(255*n[1]/100,255*n[2]/100,255*n[3]/100,1):(n=Se.exec(t))?ze(n[1],n[2],n[3],n[4]):(n=Ee.exec(t))?ze(255*n[1]/100,255*n[2]/100,255*n[3]/100,n[4]):(n=Ne.exec(t))?Ye(n[1],n[2]/100,n[3]/100,1):(n=Ce.exec(t))?Ye(n[1],n[2]/100,n[3]/100,n[4]):Le.hasOwnProperty(t)?Fe(Le[t]):"transparent"===t?new qe(NaN,NaN,NaN,0):null}function Fe(t){return new qe(t>>16&255,t>>8&255,255&t,1)}function ze(t,n,e,r){return r<=0&&(t=n=e=NaN),new qe(t,n,e,r)}function Ue(t){return t instanceof ve||(t=Re(t)),t?new qe((t=t.rgb()).r,t.g,t.b,t.opacity):new qe}function je(t,n,e,r){return 1===arguments.length?Ue(t):new qe(t,n,e,null==r?1:r)}function qe(t,n,e,r){this.r=+t,this.g=+n,this.b=+e,this.opacity=+r}function Ie(){return`#${He(this.r)}${He(this.g)}${He(this.b)}`}function Pe(){const t=Be(this.opacity);return`${1===t?"rgb(":"rgba("}${We(this.r)}, ${We(this.g)}, ${We(this.b)}${1===t?")":`, ${t})`}`}function Be(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function We(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function He(t){return((t=We(t))<16?"0":"")+t.toString(16)}function Ye(t,n,e,r){return r<=0?t=n=e=NaN:e<=0||e>=1?t=n=NaN:n<=0&&(t=NaN),new Ze(t,n,e,r)}function Ve(t){if(t instanceof Ze)return new Ze(t.h,t.s,t.l,t.opacity);if(t instanceof ve||(t=Re(t)),!t)return new Ze;if(t instanceof Ze)return t;var n=(t=t.rgb()).r/255,e=t.g/255,r=t.b/255,i=Math.min(n,e,r),a=Math.max(n,e,r),o=NaN,c=a-i,f=(a+i)/2;return c?(o=n===a?(e-r)/c+6*(e<r):e===a?(r-n)/c+2:(n-e)/c+4,c/=f<.5?a+i:2-a-i,o*=60):c=f>0&&f<1?0:o,new Ze(o,c,f,t.opacity)}function Xe(t,n,e,r){return 1===arguments.length?Ve(t):new Ze(t,n,e,null==r?1:r)}function Ze(t,n,e,r){this.h=+t,this.s=+n,this.l=+e,this.opacity=+r}function Ge(t){return(t=(t||0)%360)<0?t+360:t}function Qe(t){return Math.max(0,Math.min(1,t||0))}function Je(t,n,e){return 255*(t<60?n+(e-n)*t/60:t<180?e:t<240?n+(e-n)*(240-t)/60:n)}function Ke(t,n,e,r,i){var a=t*t,o=a*t;return((1-3*t+3*a-o)*n+(4-6*a+3*o)*e+(1+3*t+3*a-3*o)*r+o*i)/6}be(ve,Re,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:De,formatHex:De,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return Ve(this).formatHsl()},formatRgb:Oe,toString:Oe}),be(qe,je,ye(ve,{brighter(t){return t=null==t?xe:Math.pow(xe,t),new qe(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=null==t?we:Math.pow(we,t),new qe(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new qe(We(this.r),We(this.g),We(this.b),Be(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Ie,formatHex:Ie,formatHex8:function(){return`#${He(this.r)}${He(this.g)}${He(this.b)}${He(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:Pe,toString:Pe})),be(Ze,Xe,ye(ve,{brighter(t){return t=null==t?xe:Math.pow(xe,t),new Ze(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=null==t?we:Math.pow(we,t),new Ze(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+360*(this.h<0),n=isNaN(t)||isNaN(this.s)?0:this.s,e=this.l,r=e+(e<.5?e:1-e)*n,i=2*e-r;return new qe(Je(t>=240?t-240:t+120,i,r),Je(t,i,r),Je(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new Ze(Ge(this.h),Qe(this.s),Qe(this.l),Be(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Be(this.opacity);return`${1===t?"hsl(":"hsla("}${Ge(this.h)}, ${100*Qe(this.s)}%, ${100*Qe(this.l)}%${1===t?")":`, ${t})`}`}}));var tr=t=>()=>t;function nr(t,n){return function(e){return t+e*n}}function er(t,n){var e=n-t;return e?nr(t,e>180||e<-180?e-360*Math.round(e/360):e):tr(isNaN(t)?n:t)}function rr(t){return 1==(t=+t)?ir:function(n,e){return e-n?function(t,n,e){return t=Math.pow(t,e),n=Math.pow(n,e)-t,e=1/e,function(r){return Math.pow(t+r*n,e)}}(n,e,t):tr(isNaN(n)?e:n)}}function ir(t,n){var e=n-t;return e?nr(t,e):tr(isNaN(t)?n:t)}var ar=function t(n){var e=rr(n);function r(t,n){var r=e((t=je(t)).r,(n=je(n)).r),i=e(t.g,n.g),a=e(t.b,n.b),o=ir(t.opacity,n.opacity);return function(n){return t.r=r(n),t.g=i(n),t.b=a(n),t.opacity=o(n),t+""}}return r.gamma=t,r}(1);function or(t){return function(n){var e,r,i=n.length,a=new Array(i),o=new Array(i),c=new Array(i);for(e=0;e<i;++e)r=je(n[e]),a[e]=r.r||0,o[e]=r.g||0,c[e]=r.b||0;return a=t(a),o=t(o),c=t(c),r.opacity=1,function(t){return r.r=a(t),r.g=o(t),r.b=c(t),r+""}}}var cr=or((function(t){var n=t.length-1;return function(e){var r=e<=0?e=0:e>=1?(e=1,n-1):Math.floor(e*n),i=t[r],a=t[r+1],o=r>0?t[r-1]:2*i-a,c=r<n-1?t[r+2]:2*a-i;return Ke((e-r/n)*n,o,i,a,c)}})),fr=(or((function(t){var n=t.length;return function(e){var r=Math.floor(((e%=1)<0?++e:e)*n),i=t[(r+n-1)%n],a=t[r%n],o=t[(r+1)%n],c=t[(r+2)%n];return Ke((e-r/n)*n,i,a,o,c)}})),/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g),ur=new RegExp(fr.source,"g");function lr(t,n){var e,r,i,a=fr.lastIndex=ur.lastIndex=0,o=-1,c=[],f=[];for(t+="",n+="";(e=fr.exec(t))&&(r=ur.exec(n));)(i=r.index)>a&&(i=n.slice(a,i),c[o]?c[o]+=i:c[++o]=i),(e=e[0])===(r=r[0])?c[o]?c[o]+=r:c[++o]=r:(c[++o]=null,f.push({i:o,x:oe(e,r)})),a=ur.lastIndex;return a<n.length&&(i=n.slice(a),c[o]?c[o]+=i:c[++o]=i),c.length<2?f[0]?function(t){return function(n){return t(n)+""}}(f[0].x):function(t){return function(){return t}}(n):(n=f.length,function(t){for(var e,r=0;r<n;++r)c[(e=f[r]).i]=e.x(t);return c.join("")})}function sr(t,n){var e;return("number"==typeof n?oe:n instanceof Re?ar:(e=Re(n))?(n=e,ar):lr)(t,n)}function dr(t){return function(){this.removeAttribute(t)}}function hr(t){return function(){this.removeAttributeNS(t.space,t.local)}}function pr(t,n,e){var r,i,a=e+"";return function(){var o=this.getAttribute(t);return o===a?null:o===r?i:i=n(r=o,e)}}function gr(t,n,e){var r,i,a=e+"";return function(){var o=this.getAttributeNS(t.space,t.local);return o===a?null:o===r?i:i=n(r=o,e)}}function mr(t,n,e){var r,i,a;return function(){var o,c,f=e(this);if(null!=f)return(o=this.getAttribute(t))===(c=f+"")?null:o===r&&c===i?a:(i=c,a=n(r=o,f));this.removeAttribute(t)}}function br(t,n,e){var r,i,a;return function(){var o,c,f=e(this);if(null!=f)return(o=this.getAttributeNS(t.space,t.local))===(c=f+"")?null:o===r&&c===i?a:(i=c,a=n(r=o,f));this.removeAttributeNS(t.space,t.local)}}function yr(t,n){var e,r;function i(){var i=n.apply(this,arguments);return i!==r&&(e=(r=i)&&function(t,n){return function(e){this.setAttributeNS(t.space,t.local,n.call(this,e))}}(t,i)),e}return i._value=n,i}function vr(t,n){var e,r;function i(){var i=n.apply(this,arguments);return i!==r&&(e=(r=i)&&function(t,n){return function(e){this.setAttribute(t,n.call(this,e))}}(t,i)),e}return i._value=n,i}function wr(t,n){return function(){re(this,t).delay=+n.apply(this,arguments)}}function xr(t,n){return n=+n,function(){re(this,t).delay=n}}function Mr(t,n){return function(){ie(this,t).duration=+n.apply(this,arguments)}}function kr(t,n){return n=+n,function(){ie(this,t).duration=n}}var _r=xn.prototype.constructor;function $r(t){return function(){this.style.removeProperty(t)}}var Ar=0;function Tr(t,n,e,r){this._groups=t,this._parents=n,this._name=e,this._id=r}function Sr(){return++Ar}var Er=xn.prototype;Tr.prototype=function(t){return xn().transition(t)}.prototype={constructor:Tr,select:function(t){var n=this._name,e=this._id;"function"!=typeof t&&(t=ut(t));for(var r=this._groups,i=r.length,a=new Array(i),o=0;o<i;++o)for(var c,f,u=r[o],l=u.length,s=a[o]=new Array(l),d=0;d<l;++d)(c=u[d])&&(f=t.call(c,c.__data__,d,u))&&("__data__"in c&&(f.__data__=c.__data__),s[d]=f,ee(s[d],n,e,d,s,ae(c,e)));return new Tr(a,this._parents,n,e)},selectAll:function(t){var n=this._name,e=this._id;"function"!=typeof t&&(t=st(t));for(var r=this._groups,i=r.length,a=[],o=[],c=0;c<i;++c)for(var f,u=r[c],l=u.length,s=0;s<l;++s)if(f=u[s]){for(var d,h=t.call(f,f.__data__,s,u),p=ae(f,e),g=0,m=h.length;g<m;++g)(d=h[g])&&ee(d,n,e,g,h,p);a.push(h),o.push(f)}return new Tr(a,o,n,e)},selectChild:Er.selectChild,selectChildren:Er.selectChildren,filter:function(t){"function"!=typeof t&&(t=ht(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var a,o=n[i],c=o.length,f=r[i]=[],u=0;u<c;++u)(a=o[u])&&t.call(a,a.__data__,u,o)&&f.push(a);return new Tr(r,this._parents,this._name,this._id)},merge:function(t){if(t._id!==this._id)throw new Error;for(var n=this._groups,e=t._groups,r=n.length,i=e.length,a=Math.min(r,i),o=new Array(r),c=0;c<a;++c)for(var f,u=n[c],l=e[c],s=u.length,d=o[c]=new Array(s),h=0;h<s;++h)(f=u[h]||l[h])&&(d[h]=f);for(;c<r;++c)o[c]=n[c];return new Tr(o,this._parents,this._name,this._id)},selection:function(){return new _r(this._groups,this._parents)},transition:function(){for(var t=this._name,n=this._id,e=Sr(),r=this._groups,i=r.length,a=0;a<i;++a)for(var o,c=r[a],f=c.length,u=0;u<f;++u)if(o=c[u]){var l=ae(o,n);ee(o,t,e,u,c,{time:l.time+l.delay+l.duration,delay:0,duration:l.duration,ease:l.ease})}return new Tr(r,this._parents,t,e)},call:Er.call,nodes:Er.nodes,node:Er.node,size:Er.size,empty:Er.empty,each:Er.each,on:function(t,n){var e=this._id;return arguments.length<2?ae(this.node(),e).on.on(t):this.each(function(t,n,e){var r,i,a=function(t){return(t+"").trim().split(/^|\s+/).every((function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||"start"===t}))}(n)?re:ie;return function(){var o=a(this,t),c=o.on;c!==r&&(i=(r=c).copy()).on(n,e),o.on=i}}(e,t,n))},attr:function(t,n){var e=St(t),r="transform"===e?he:sr;return this.attrTween(t,"function"==typeof n?(e.local?br:mr)(e,r,me(this,"attr."+t,n)):null==n?(e.local?hr:dr)(e):(e.local?gr:pr)(e,r,n))},attrTween:function(t,n){var e="attr."+t;if(arguments.length<2)return(e=this.tween(e))&&e._value;if(null==n)return this.tween(e,null);if("function"!=typeof n)throw new Error;var r=St(t);return this.tween(e,(r.local?yr:vr)(r,n))},style:function(t,n,e){var r="transform"==(t+="")?de:sr;return null==n?this.styleTween(t,function(t,n){var e,r,i;return function(){var a=jt(this,t),o=(this.style.removeProperty(t),jt(this,t));return a===o?null:a===e&&o===r?i:i=n(e=a,r=o)}}(t,r)).on("end.style."+t,$r(t)):"function"==typeof n?this.styleTween(t,function(t,n,e){var r,i,a;return function(){var o=jt(this,t),c=e(this),f=c+"";return null==c&&(this.style.removeProperty(t),f=c=jt(this,t)),o===f?null:o===r&&f===i?a:(i=f,a=n(r=o,c))}}(t,r,me(this,"style."+t,n))).each(function(t,n){var e,r,i,a,o="style."+n,c="end."+o;return function(){var f=ie(this,t),u=f.on,l=null==f.value[o]?a||(a=$r(n)):void 0;u===e&&i===l||(r=(e=u).copy()).on(c,i=l),f.on=r}}(this._id,t)):this.styleTween(t,function(t,n,e){var r,i,a=e+"";return function(){var o=jt(this,t);return o===a?null:o===r?i:i=n(r=o,e)}}(t,r,n),e).on("end.style."+t,null)},styleTween:function(t,n,e){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==n)return this.tween(r,null);if("function"!=typeof n)throw new Error;return this.tween(r,function(t,n,e){var r,i;function a(){var a=n.apply(this,arguments);return a!==i&&(r=(i=a)&&function(t,n,e){return function(r){this.style.setProperty(t,n.call(this,r),e)}}(t,a,e)),r}return a._value=n,a}(t,n,null==e?"":e))},text:function(t){return this.tween("text","function"==typeof t?function(t){return function(){var n=t(this);this.textContent=null==n?"":n}}(me(this,"text",t)):function(t){return function(){this.textContent=t}}(null==t?"":t+""))},textTween:function(t){var n="text";if(arguments.length<1)return(n=this.tween(n))&&n._value;if(null==t)return this.tween(n,null);if("function"!=typeof t)throw new Error;return this.tween(n,function(t){var n,e;function r(){var r=t.apply(this,arguments);return r!==e&&(n=(e=r)&&function(t){return function(n){this.textContent=t.call(this,n)}}(r)),n}return r._value=t,r}(t))},remove:function(){return this.on("end.remove",function(t){return function(){var n=this.parentNode;for(var e in this.__transition)if(+e!==t)return;n&&n.removeChild(this)}}(this._id))},tween:function(t,n){var e=this._id;if(t+="",arguments.length<2){for(var r,i=ae(this.node(),e).tween,a=0,o=i.length;a<o;++a)if((r=i[a]).name===t)return r.value;return null}return this.each((null==n?pe:ge)(e,t,n))},delay:function(t){var n=this._id;return arguments.length?this.each(("function"==typeof t?wr:xr)(n,t)):ae(this.node(),n).delay},duration:function(t){var n=this._id;return arguments.length?this.each(("function"==typeof t?Mr:kr)(n,t)):ae(this.node(),n).duration},ease:function(t){var n=this._id;return arguments.length?this.each(function(t,n){if("function"!=typeof n)throw new Error;return function(){ie(this,t).ease=n}}(n,t)):ae(this.node(),n).ease},easeVarying:function(t){if("function"!=typeof t)throw new Error;return this.each(function(t,n){return function(){var e=n.apply(this,arguments);if("function"!=typeof e)throw new Error;ie(this,t).ease=e}}(this._id,t))},end:function(){var t,n,e=this,r=e._id,i=e.size();return new Promise((function(a,o){var c={value:o},f={value:function(){0==--i&&a()}};e.each((function(){var e=ie(this,r),i=e.on;i!==t&&((n=(t=i).copy())._.cancel.push(c),n._.interrupt.push(c),n._.end.push(f)),e.on=n})),0===i&&a()}))},[Symbol.iterator]:Er[Symbol.iterator]};var Nr={time:null,delay:0,duration:250,ease:function(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}};function Cr(t,n){for(var e;!(e=t.__transition)||!(e=e[n]);)if(!(t=t.parentNode))throw new Error(`transition ${n} not found`);return e}xn.prototype.interrupt=function(t){return this.each((function(){!function(t,n){var e,r,i,a=t.__transition,o=!0;if(a){for(i in n=null==n?null:n+"",a)(e=a[i]).name===n?(r=e.state>Qn&&e.state<te,e.state=ne,e.timer.stop(),e.on.call(r?"interrupt":"cancel",t,t.__data__,e.index,e.group),delete a[i]):o=!1;o&&delete t.__transition}}(this,t)}))},xn.prototype.transition=function(t){var n,e;t instanceof Tr?(n=t._id,t=t._name):(n=Sr(),(e=Nr).time=jn(),t=null==t?null:t+"");for(var r=this._groups,i=r.length,a=0;a<i;++a)for(var o,c=r[a],f=c.length,u=0;u<f;++u)(o=c[u])&&ee(o,t,n,u,c,e||Cr(o,n));return new Tr(r,this._parents,t,n)};const{abs:Lr,max:Dr,min:Or}=Math;function Rr(t){return[+t[0],+t[1]]}function Fr(t){return[Rr(t[0]),Rr(t[1])]}["w","e"].map(zr),["n","s"].map(zr),["n","w","e","s","nw","ne","sw","se"].map(zr);function zr(t){return{type:t}}function Ur(t,n){if((e=(t=n?t.toExponential(n-1):t.toExponential()).indexOf("e"))<0)return null;var e,r=t.slice(0,e);return[r.length>1?r[0]+r.slice(2):r,+t.slice(e+1)]}function jr(t){return(t=Ur(Math.abs(t)))?t[1]:NaN}var qr,Ir=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Pr(t){if(!(n=Ir.exec(t)))throw new Error("invalid format: "+t);var n;return new Br({fill:n[1],align:n[2],sign:n[3],symbol:n[4],zero:n[5],width:n[6],comma:n[7],precision:n[8]&&n[8].slice(1),trim:n[9],type:n[10]})}function Br(t){this.fill=void 0===t.fill?" ":t.fill+"",this.align=void 0===t.align?">":t.align+"",this.sign=void 0===t.sign?"-":t.sign+"",this.symbol=void 0===t.symbol?"":t.symbol+"",this.zero=!!t.zero,this.width=void 0===t.width?void 0:+t.width,this.comma=!!t.comma,this.precision=void 0===t.precision?void 0:+t.precision,this.trim=!!t.trim,this.type=void 0===t.type?"":t.type+""}function Wr(t,n){var e=Ur(t,n);if(!e)return t+"";var r=e[0],i=e[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}Pr.prototype=Br.prototype,Br.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var Hr={"%":(t,n)=>(100*t).toFixed(n),b:t=>Math.round(t).toString(2),c:t=>t+"",d:function(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)},e:(t,n)=>t.toExponential(n),f:(t,n)=>t.toFixed(n),g:(t,n)=>t.toPrecision(n),o:t=>Math.round(t).toString(8),p:(t,n)=>Wr(100*t,n),r:Wr,s:function(t,n){var e=Ur(t,n);if(!e)return t+"";var r=e[0],i=e[1],a=i-(qr=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,o=r.length;return a===o?r:a>o?r+new Array(a-o+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+Ur(t,Math.max(0,n+a-1))[0]},X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function Yr(t){return t}var Vr,Xr,Zr,Gr=Array.prototype.map,Qr=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function Jr(t){var n,e,r=void 0===t.grouping||void 0===t.thousands?Yr:(n=Gr.call(t.grouping,Number),e=t.thousands+"",function(t,r){for(var i=t.length,a=[],o=0,c=n[0],f=0;i>0&&c>0&&(f+c+1>r&&(c=Math.max(1,r-f)),a.push(t.substring(i-=c,i+c)),!((f+=c+1)>r));)c=n[o=(o+1)%n.length];return a.reverse().join(e)}),i=void 0===t.currency?"":t.currency[0]+"",a=void 0===t.currency?"":t.currency[1]+"",o=void 0===t.decimal?".":t.decimal+"",c=void 0===t.numerals?Yr:function(t){return function(n){return n.replace(/[0-9]/g,(function(n){return t[+n]}))}}(Gr.call(t.numerals,String)),f=void 0===t.percent?"%":t.percent+"",u=void 0===t.minus?"−":t.minus+"",l=void 0===t.nan?"NaN":t.nan+"";function s(t){var n=(t=Pr(t)).fill,e=t.align,s=t.sign,d=t.symbol,h=t.zero,p=t.width,g=t.comma,m=t.precision,b=t.trim,y=t.type;"n"===y?(g=!0,y="g"):Hr[y]||(void 0===m&&(m=12),b=!0,y="g"),(h||"0"===n&&"="===e)&&(h=!0,n="0",e="=");var v="$"===d?i:"#"===d&&/[boxX]/.test(y)?"0"+y.toLowerCase():"",w="$"===d?a:/[%p]/.test(y)?f:"",x=Hr[y],M=/[defgprs%]/.test(y);function k(t){var i,a,f,d=v,k=w;if("c"===y)k=x(t)+k,t="";else{var _=(t=+t)<0||1/t<0;if(t=isNaN(t)?l:x(Math.abs(t),m),b&&(t=function(t){t:for(var n,e=t.length,r=1,i=-1;r<e;++r)switch(t[r]){case".":i=n=r;break;case"0":0===i&&(i=r),n=r;break;default:if(!+t[r])break t;i>0&&(i=0)}return i>0?t.slice(0,i)+t.slice(n+1):t}(t)),_&&0==+t&&"+"!==s&&(_=!1),d=(_?"("===s?s:u:"-"===s||"("===s?"":s)+d,k=("s"===y?Qr[8+qr/3]:"")+k+(_&&"("===s?")":""),M)for(i=-1,a=t.length;++i<a;)if(48>(f=t.charCodeAt(i))||f>57){k=(46===f?o+t.slice(i+1):t.slice(i))+k,t=t.slice(0,i);break}}g&&!h&&(t=r(t,1/0));var $=d.length+t.length+k.length,A=$<p?new Array(p-$+1).join(n):"";switch(g&&h&&(t=r(A+t,A.length?p-k.length:1/0),A=""),e){case"<":t=d+t+k+A;break;case"=":t=d+A+t+k;break;case"^":t=A.slice(0,$=A.length>>1)+d+t+k+A.slice($);break;default:t=A+d+t+k}return c(t)}return m=void 0===m?6:/[gprs]/.test(y)?Math.max(1,Math.min(21,m)):Math.max(0,Math.min(20,m)),k.toString=function(){return t+""},k}return{format:s,formatPrefix:function(t,n){var e=s(((t=Pr(t)).type="f",t)),r=3*Math.max(-8,Math.min(8,Math.floor(jr(n)/3))),i=Math.pow(10,-r),a=Qr[8+r/3];return function(t){return e(i*t)+a}}}}Vr=Jr({thousands:",",grouping:[3],currency:["$",""]}),Xr=Vr.format,Zr=Vr.formatPrefix;var Kr=1e-6,ti=1e-12,ni=Math.PI,ei=ni/2,ri=ni/4,ii=2*ni,ai=180/ni,oi=ni/180,ci=Math.abs,fi=Math.atan,ui=Math.atan2,li=Math.cos,si=(Math.ceil,Math.exp),di=(Math.floor,Math.hypot,Math.log),hi=Math.pow,pi=Math.sin,gi=Math.sign||function(t){return t>0?1:t<0?-1:0},mi=Math.sqrt,bi=Math.tan;function yi(t){return t>1?0:t<-1?ni:Math.acos(t)}function vi(t){return t>1?ei:t<-1?-ei:Math.asin(t)}function wi(){}function xi(){var t,n=[];return{point:function(n,e,r){t.push([n,e,r])},lineStart:function(){n.push(t=[])},lineEnd:wi,rejoin:function(){n.length>1&&n.push(n.pop().concat(n.shift()))},result:function(){var e=n;return n=[],t=null,e}}}function Mi(t,n){return ci(t[0]-n[0])<Kr&&ci(t[1]-n[1])<Kr}function ki(t,n,e,r){this.x=t,this.z=n,this.o=e,this.e=r,this.v=!1,this.n=this.p=null}function _i(t,n,e,r,i){var a,o,c=[],f=[];if(t.forEach((function(t){if(!((n=t.length-1)<=0)){var n,e,r=t[0],o=t[n];if(Mi(r,o)){if(!r[2]&&!o[2]){for(i.lineStart(),a=0;a<n;++a)i.point((r=t[a])[0],r[1]);return void i.lineEnd()}o[0]+=2*Kr}c.push(e=new ki(r,t,null,!0)),f.push(e.o=new ki(r,null,e,!1)),c.push(e=new ki(o,t,null,!1)),f.push(e.o=new ki(o,null,e,!0))}})),c.length){for(f.sort(n),$i(c),$i(f),a=0,o=f.length;a<o;++a)f[a].e=e=!e;for(var u,l,s=c[0];;){for(var d=s,h=!0;d.v;)if((d=d.n)===s)return;u=d.z,i.lineStart();do{if(d.v=d.o.v=!0,d.e){if(h)for(a=0,o=u.length;a<o;++a)i.point((l=u[a])[0],l[1]);else r(d.x,d.n.x,1,i);d=d.n}else{if(h)for(u=d.p.z,a=u.length-1;a>=0;--a)i.point((l=u[a])[0],l[1]);else r(d.x,d.p.x,-1,i);d=d.p}u=(d=d.o).z,h=!h}while(!d.v);i.lineEnd()}}}function $i(t){if(n=t.length){for(var n,e,r=0,i=t[0];++r<n;)i.n=e=t[r],e.p=i,i=e;i.n=e=t[0],e.p=i}}function Ai(t){return Array.from(function*(t){for(const n of t)yield*n}(t))}var Ti=1e9,Si=-Ti;function Ei(t,n,e,r){function i(i,a){return t<=i&&i<=e&&n<=a&&a<=r}function a(i,a,c,u){var l=0,s=0;if(null==i||(l=o(i,c))!==(s=o(a,c))||f(i,a)<0^c>0)do{u.point(0===l||3===l?t:e,l>1?r:n)}while((l=(l+c+4)%4)!==s);else u.point(a[0],a[1])}function o(r,i){return ci(r[0]-t)<Kr?i>0?0:3:ci(r[0]-e)<Kr?i>0?2:1:ci(r[1]-n)<Kr?i>0?1:0:i>0?3:2}function c(t,n){return f(t.x,n.x)}function f(t,n){var e=o(t,1),r=o(n,1);return e!==r?e-r:0===e?n[1]-t[1]:1===e?t[0]-n[0]:2===e?t[1]-n[1]:n[0]-t[0]}return function(o){var f,u,l,s,d,h,p,g,m,b,y,v=o,w=xi(),x={point:M,lineStart:function(){x.point=k,u&&u.push(l=[]);b=!0,m=!1,p=g=NaN},lineEnd:function(){f&&(k(s,d),h&&m&&w.rejoin(),f.push(w.result()));x.point=M,m&&v.lineEnd()},polygonStart:function(){v=w,f=[],u=[],y=!0},polygonEnd:function(){var n=function(){for(var n=0,e=0,i=u.length;e<i;++e)for(var a,o,c=u[e],f=1,l=c.length,s=c[0],d=s[0],h=s[1];f<l;++f)a=d,o=h,d=(s=c[f])[0],h=s[1],o<=r?h>r&&(d-a)*(r-o)>(h-o)*(t-a)&&++n:h<=r&&(d-a)*(r-o)<(h-o)*(t-a)&&--n;return n}(),e=y&&n,i=(f=Ai(f)).length;(e||i)&&(o.polygonStart(),e&&(o.lineStart(),a(null,null,1,o),o.lineEnd()),i&&_i(f,c,n,a,o),o.polygonEnd());v=o,f=u=l=null}};function M(t,n){i(t,n)&&v.point(t,n)}function k(a,o){var c=i(a,o);if(u&&l.push([a,o]),b)s=a,d=o,h=c,b=!1,c&&(v.lineStart(),v.point(a,o));else if(c&&m)v.point(a,o);else{var f=[p=Math.max(Si,Math.min(Ti,p)),g=Math.max(Si,Math.min(Ti,g))],w=[a=Math.max(Si,Math.min(Ti,a)),o=Math.max(Si,Math.min(Ti,o))];!function(t,n,e,r,i,a){var o,c=t[0],f=t[1],u=0,l=1,s=n[0]-c,d=n[1]-f;if(o=e-c,s||!(o>0)){if(o/=s,s<0){if(o<u)return;o<l&&(l=o)}else if(s>0){if(o>l)return;o>u&&(u=o)}if(o=i-c,s||!(o<0)){if(o/=s,s<0){if(o>l)return;o>u&&(u=o)}else if(s>0){if(o<u)return;o<l&&(l=o)}if(o=r-f,d||!(o>0)){if(o/=d,d<0){if(o<u)return;o<l&&(l=o)}else if(d>0){if(o>l)return;o>u&&(u=o)}if(o=a-f,d||!(o<0)){if(o/=d,d<0){if(o>l)return;o>u&&(u=o)}else if(d>0){if(o<u)return;o<l&&(l=o)}return u>0&&(t[0]=c+u*s,t[1]=f+u*d),l<1&&(n[0]=c+l*s,n[1]=f+l*d),!0}}}}}(f,w,t,n,e,r)?c&&(v.lineStart(),v.point(a,o),y=!1):(m||(v.lineStart(),v.point(f[0],f[1])),v.point(w[0],w[1]),c||v.lineEnd(),y=!1)}p=a,g=o,m=c}return x}}var Ni=t=>t;function Ci(t,n){t&&Di.hasOwnProperty(t.type)&&Di[t.type](t,n)}var Li={Feature:function(t,n){Ci(t.geometry,n)},FeatureCollection:function(t,n){for(var e=t.features,r=-1,i=e.length;++r<i;)Ci(e[r].geometry,n)}},Di={Sphere:function(t,n){n.sphere()},Point:function(t,n){t=t.coordinates,n.point(t[0],t[1],t[2])},MultiPoint:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)t=e[r],n.point(t[0],t[1],t[2])},LineString:function(t,n){Oi(t.coordinates,n,0)},MultiLineString:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)Oi(e[r],n,0)},Polygon:function(t,n){Ri(t.coordinates,n)},MultiPolygon:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)Ri(e[r],n)},GeometryCollection:function(t,n){for(var e=t.geometries,r=-1,i=e.length;++r<i;)Ci(e[r],n)}};function Oi(t,n,e){var r,i=-1,a=t.length-e;for(n.lineStart();++i<a;)r=t[i],n.point(r[0],r[1],r[2]);n.lineEnd()}function Ri(t,n){var e=-1,r=t.length;for(n.polygonStart();++e<r;)Oi(t[e],n,1);n.polygonEnd()}function Fi(t,n){t&&Li.hasOwnProperty(t.type)?Li[t.type](t,n):Ci(t,n)}class zi{constructor(){this._partials=new Float64Array(32),this._n=0}add(t){const n=this._partials;let e=0;for(let r=0;r<this._n&&r<32;r++){const i=n[r],a=t+i,o=Math.abs(t)<Math.abs(i)?t-(a-i):i-(a-t);o&&(n[e++]=o),t=a}return n[e]=t,this._n=e+1,this}valueOf(){const t=this._partials;let n,e,r,i=this._n,a=0;if(i>0){for(a=t[--i];i>0&&(n=a,e=t[--i],a=n+e,r=e-(a-n),!r););i>0&&(r<0&&t[i-1]<0||r>0&&t[i-1]>0)&&(e=2*r,n=a+e,e==n-a&&(a=n))}return a}}var Ui,ji,qi,Ii,Pi=new zi,Bi=new zi,Wi={point:wi,lineStart:wi,lineEnd:wi,polygonStart:function(){Wi.lineStart=Hi,Wi.lineEnd=Xi},polygonEnd:function(){Wi.lineStart=Wi.lineEnd=Wi.point=wi,Pi.add(ci(Bi)),Bi=new zi},result:function(){var t=Pi/2;return Pi=new zi,t}};function Hi(){Wi.point=Yi}function Yi(t,n){Wi.point=Vi,Ui=qi=t,ji=Ii=n}function Vi(t,n){Bi.add(Ii*t-qi*n),qi=t,Ii=n}function Xi(){Vi(Ui,ji)}var Zi=Wi,Gi=1/0,Qi=Gi,Ji=-Gi,Ki=Ji,ta={point:function(t,n){t<Gi&&(Gi=t);t>Ji&&(Ji=t);n<Qi&&(Qi=n);n>Ki&&(Ki=n)},lineStart:wi,lineEnd:wi,polygonStart:wi,polygonEnd:wi,result:function(){var t=[[Gi,Qi],[Ji,Ki]];return Ji=Ki=-(Qi=Gi=1/0),t}};var na,ea,ra,ia,aa=ta,oa=0,ca=0,fa=0,ua=0,la=0,sa=0,da=0,ha=0,pa=0,ga={point:ma,lineStart:ba,lineEnd:wa,polygonStart:function(){ga.lineStart=xa,ga.lineEnd=Ma},polygonEnd:function(){ga.point=ma,ga.lineStart=ba,ga.lineEnd=wa},result:function(){var t=pa?[da/pa,ha/pa]:sa?[ua/sa,la/sa]:fa?[oa/fa,ca/fa]:[NaN,NaN];return oa=ca=fa=ua=la=sa=da=ha=pa=0,t}};function ma(t,n){oa+=t,ca+=n,++fa}function ba(){ga.point=ya}function ya(t,n){ga.point=va,ma(ra=t,ia=n)}function va(t,n){var e=t-ra,r=n-ia,i=mi(e*e+r*r);ua+=i*(ra+t)/2,la+=i*(ia+n)/2,sa+=i,ma(ra=t,ia=n)}function wa(){ga.point=ma}function xa(){ga.point=ka}function Ma(){_a(na,ea)}function ka(t,n){ga.point=_a,ma(na=ra=t,ea=ia=n)}function _a(t,n){var e=t-ra,r=n-ia,i=mi(e*e+r*r);ua+=i*(ra+t)/2,la+=i*(ia+n)/2,sa+=i,da+=(i=ia*t-ra*n)*(ra+t),ha+=i*(ia+n),pa+=3*i,ma(ra=t,ia=n)}var $a=ga;function Aa(t){this._context=t}Aa.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath(),this._point=NaN},point:function(t,n){switch(this._point){case 0:this._context.moveTo(t,n),this._point=1;break;case 1:this._context.lineTo(t,n);break;default:this._context.moveTo(t+this._radius,n),this._context.arc(t,n,this._radius,0,ii)}},result:wi};var Ta,Sa,Ea,Na,Ca,La=new zi,Da={point:wi,lineStart:function(){Da.point=Oa},lineEnd:function(){Ta&&Ra(Sa,Ea),Da.point=wi},polygonStart:function(){Ta=!0},polygonEnd:function(){Ta=null},result:function(){var t=+La;return La=new zi,t}};function Oa(t,n){Da.point=Ra,Sa=Na=t,Ea=Ca=n}function Ra(t,n){Na-=t,Ca-=n,La.add(mi(Na*Na+Ca*Ca)),Na=t,Ca=n}var Fa=Da;let za,Ua,ja,qa;class Ia{constructor(t){this._append=null==t?Pa:function(t){const n=Math.floor(t);if(!(n>=0))throw new RangeError(`invalid digits: ${t}`);if(n>15)return Pa;if(n!==za){const t=10**n;za=n,Ua=function(n){let e=1;this._+=n[0];for(const r=n.length;e<r;++e)this._+=Math.round(arguments[e]*t)/t+n[e]}}return Ua}(t),this._radius=4.5,this._=""}pointRadius(t){return this._radius=+t,this}polygonStart(){this._line=0}polygonEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){0===this._line&&(this._+="Z"),this._point=NaN}point(t,n){switch(this._point){case 0:this._append`M${t},${n}`,this._point=1;break;case 1:this._append`L${t},${n}`;break;default:if(this._append`M${t},${n}`,this._radius!==ja||this._append!==Ua){const t=this._radius,n=this._;this._="",this._append`m0,${t}a${t},${t} 0 1,1 0,${-2*t}a${t},${t} 0 1,1 0,${2*t}z`,ja=t,Ua=this._append,qa=this._,this._=n}this._+=qa}}result(){const t=this._;return this._="",t.length?t:null}}function Pa(t){let n=1;this._+=t[0];for(const e=t.length;n<e;++n)this._+=arguments[n]+t[n]}function Ba(t,n){let e,r,i=3,a=4.5;function o(t){return t&&("function"==typeof a&&r.pointRadius(+a.apply(this,arguments)),Fi(t,e(r))),r.result()}return o.area=function(t){return Fi(t,e(Zi)),Zi.result()},o.measure=function(t){return Fi(t,e(Fa)),Fa.result()},o.bounds=function(t){return Fi(t,e(aa)),aa.result()},o.centroid=function(t){return Fi(t,e($a)),$a.result()},o.projection=function(n){return arguments.length?(e=null==n?(t=null,Ni):(t=n).stream,o):t},o.context=function(t){return arguments.length?(r=null==t?(n=null,new Ia(i)):new Aa(n=t),"function"!=typeof a&&r.pointRadius(a),o):n},o.pointRadius=function(t){return arguments.length?(a="function"==typeof t?t:(r.pointRadius(+t),+t),o):a},o.digits=function(t){if(!arguments.length)return i;if(null==t)i=null;else{const n=Math.floor(t);if(!(n>=0))throw new RangeError(`invalid digits: ${t}`);i=n}return null===n&&(r=new Ia(i)),o},o.projection(t).digits(i).context(n)}function Wa(t){return[ui(t[1],t[0]),vi(t[2])]}function Ha(t){var n=t[0],e=t[1],r=li(e);return[r*li(n),r*pi(n),pi(e)]}function Ya(t,n){return t[0]*n[0]+t[1]*n[1]+t[2]*n[2]}function Va(t,n){return[t[1]*n[2]-t[2]*n[1],t[2]*n[0]-t[0]*n[2],t[0]*n[1]-t[1]*n[0]]}function Xa(t,n){t[0]+=n[0],t[1]+=n[1],t[2]+=n[2]}function Za(t,n){return[t[0]*n,t[1]*n,t[2]*n]}function Ga(t){var n=mi(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=n,t[1]/=n,t[2]/=n}function Qa(t){return ci(t[0])<=ni?t[0]:gi(t[0])*((ci(t[0])+ni)%ii-ni)}function Ja(t,n,e,r){return function(i){var a,o,c,f=n(i),u=xi(),l=n(u),s=!1,d={point:h,lineStart:g,lineEnd:m,polygonStart:function(){d.point=b,d.lineStart=y,d.lineEnd=v,o=[],a=[]},polygonEnd:function(){d.point=h,d.lineStart=g,d.lineEnd=m,o=Ai(o);var t=function(t,n){var e=Qa(n),r=n[1],i=pi(r),a=[pi(e),-li(e),0],o=0,c=0,f=new zi;1===i?r=ei+Kr:-1===i&&(r=-ei-Kr);for(var u=0,l=t.length;u<l;++u)if(d=(s=t[u]).length)for(var s,d,h=s[d-1],p=Qa(h),g=h[1]/2+ri,m=pi(g),b=li(g),y=0;y<d;++y,p=w,m=M,b=k,h=v){var v=s[y],w=Qa(v),x=v[1]/2+ri,M=pi(x),k=li(x),_=w-p,$=_>=0?1:-1,A=$*_,T=A>ni,S=m*M;if(f.add(ui(S*$*pi(A),b*k+S*li(A))),o+=T?_+$*ii:_,T^p>=e^w>=e){var E=Va(Ha(h),Ha(v));Ga(E);var N=Va(a,E);Ga(N);var C=(T^_>=0?-1:1)*vi(N[2]);(r>C||r===C&&(E[0]||E[1]))&&(c+=T^_>=0?1:-1)}}return(o<-Kr||o<Kr&&f<-ti)^1&c}(a,r);o.length?(s||(i.polygonStart(),s=!0),_i(o,to,t,e,i)):t&&(s||(i.polygonStart(),s=!0),i.lineStart(),e(null,null,1,i),i.lineEnd()),s&&(i.polygonEnd(),s=!1),o=a=null},sphere:function(){i.polygonStart(),i.lineStart(),e(null,null,1,i),i.lineEnd(),i.polygonEnd()}};function h(n,e){t(n,e)&&i.point(n,e)}function p(t,n){f.point(t,n)}function g(){d.point=p,f.lineStart()}function m(){d.point=h,f.lineEnd()}function b(t,n){c.push([t,n]),l.point(t,n)}function y(){l.lineStart(),c=[]}function v(){b(c[0][0],c[0][1]),l.lineEnd();var t,n,e,r,f=l.clean(),d=u.result(),h=d.length;if(c.pop(),a.push(c),c=null,h)if(1&f){if((n=(e=d[0]).length-1)>0){for(s||(i.polygonStart(),s=!0),i.lineStart(),t=0;t<n;++t)i.point((r=e[t])[0],r[1]);i.lineEnd()}}else h>1&&2&f&&d.push(d.pop().concat(d.shift())),o.push(d.filter(Ka))}return d}}function Ka(t){return t.length>1}function to(t,n){return((t=t.x)[0]<0?t[1]-ei-Kr:ei-t[1])-((n=n.x)[0]<0?n[1]-ei-Kr:ei-n[1])}var no=Ja((function(){return!0}),(function(t){var n,e=NaN,r=NaN,i=NaN;return{lineStart:function(){t.lineStart(),n=1},point:function(a,o){var c=a>0?ni:-ni,f=ci(a-e);ci(f-ni)<Kr?(t.point(e,r=(r+o)/2>0?ei:-ei),t.point(i,r),t.lineEnd(),t.lineStart(),t.point(c,r),t.point(a,r),n=0):i!==c&&f>=ni&&(ci(e-i)<Kr&&(e-=i*Kr),ci(a-c)<Kr&&(a-=c*Kr),r=function(t,n,e,r){var i,a,o=pi(t-e);return ci(o)>Kr?fi((pi(n)*(a=li(r))*pi(e)-pi(r)*(i=li(n))*pi(t))/(i*a*o)):(n+r)/2}(e,r,a,o),t.point(i,r),t.lineEnd(),t.lineStart(),t.point(c,r),n=0),t.point(e=a,r=o),i=c},lineEnd:function(){t.lineEnd(),e=r=NaN},clean:function(){return 2-n}}}),(function(t,n,e,r){var i;if(null==t)i=e*ei,r.point(-ni,i),r.point(0,i),r.point(ni,i),r.point(ni,0),r.point(ni,-i),r.point(0,-i),r.point(-ni,-i),r.point(-ni,0),r.point(-ni,i);else if(ci(t[0]-n[0])>Kr){var a=t[0]<n[0]?ni:-ni;i=e*a/2,r.point(-a,i),r.point(0,i),r.point(a,i)}else r.point(n[0],n[1])}),[-ni,-ei]);function eo(t,n,e,r,i,a){if(e){var o=li(n),c=pi(n),f=r*e;null==i?(i=n+r*ii,a=n-f/2):(i=ro(o,i),a=ro(o,a),(r>0?i<a:i>a)&&(i+=r*ii));for(var u,l=i;r>0?l>a:l<a;l-=f)u=Wa([o,-c*li(l),-c*pi(l)]),t.point(u[0],u[1])}}function ro(t,n){(n=Ha(n))[0]-=t,Ga(n);var e=yi(-n[1]);return((-n[2]<0?-e:e)+ii-Kr)%ii}function io(t,n){function e(e,r){return e=t(e,r),n(e[0],e[1])}return t.invert&&n.invert&&(e.invert=function(e,r){return(e=n.invert(e,r))&&t.invert(e[0],e[1])}),e}function ao(t,n){return ci(t)>ni&&(t-=Math.round(t/ii)*ii),[t,n]}function oo(t,n,e){return(t%=ii)?n||e?io(fo(t),uo(n,e)):fo(t):n||e?uo(n,e):ao}function co(t){return function(n,e){return ci(n+=t)>ni&&(n-=Math.round(n/ii)*ii),[n,e]}}function fo(t){var n=co(t);return n.invert=co(-t),n}function uo(t,n){var e=li(t),r=pi(t),i=li(n),a=pi(n);function o(t,n){var o=li(n),c=li(t)*o,f=pi(t)*o,u=pi(n),l=u*e+c*r;return[ui(f*i-l*a,c*e-u*r),vi(l*i+f*a)]}return o.invert=function(t,n){var o=li(n),c=li(t)*o,f=pi(t)*o,u=pi(n),l=u*i-f*a;return[ui(f*i+u*a,c*e+l*r),vi(l*e-c*r)]},o}function lo(t){return{stream:so(t)}}function so(t){return function(n){var e=new ho;for(var r in t)e[r]=t[r];return e.stream=n,e}}function ho(){}function po(t,n,e){var r=t.clipExtent&&t.clipExtent();return t.scale(150).translate([0,0]),null!=r&&t.clipExtent(null),Fi(e,t.stream(aa)),n(aa.result()),null!=r&&t.clipExtent(r),t}function go(t,n,e){return po(t,(function(e){var r=n[1][0]-n[0][0],i=n[1][1]-n[0][1],a=Math.min(r/(e[1][0]-e[0][0]),i/(e[1][1]-e[0][1])),o=+n[0][0]+(r-a*(e[1][0]+e[0][0]))/2,c=+n[0][1]+(i-a*(e[1][1]+e[0][1]))/2;t.scale(150*a).translate([o,c])}),e)}function mo(t,n,e){return go(t,[[0,0],n],e)}function bo(t,n,e){return po(t,(function(e){var r=+n,i=r/(e[1][0]-e[0][0]),a=(r-i*(e[1][0]+e[0][0]))/2,o=-i*e[0][1];t.scale(150*i).translate([a,o])}),e)}function yo(t,n,e){return po(t,(function(e){var r=+n,i=r/(e[1][1]-e[0][1]),a=-i*e[0][0],o=(r-i*(e[1][1]+e[0][1]))/2;t.scale(150*i).translate([a,o])}),e)}ao.invert=ao,ho.prototype={constructor:ho,point:function(t,n){this.stream.point(t,n)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var vo=16,wo=li(30*oi);function xo(t,n){return+n?function(t,n){function e(r,i,a,o,c,f,u,l,s,d,h,p,g,m){var b=u-r,y=l-i,v=b*b+y*y;if(v>4*n&&g--){var w=o+d,x=c+h,M=f+p,k=mi(w*w+x*x+M*M),_=vi(M/=k),$=ci(ci(M)-1)<Kr||ci(a-s)<Kr?(a+s)/2:ui(x,w),A=t($,_),T=A[0],S=A[1],E=T-r,N=S-i,C=y*E-b*N;(C*C/v>n||ci((b*E+y*N)/v-.5)>.3||o*d+c*h+f*p<wo)&&(e(r,i,a,o,c,f,T,S,$,w/=k,x/=k,M,g,m),m.point(T,S),e(T,S,$,w,x,M,u,l,s,d,h,p,g,m))}}return function(n){var r,i,a,o,c,f,u,l,s,d,h,p,g={point:m,lineStart:b,lineEnd:v,polygonStart:function(){n.polygonStart(),g.lineStart=w},polygonEnd:function(){n.polygonEnd(),g.lineStart=b}};function m(e,r){e=t(e,r),n.point(e[0],e[1])}function b(){l=NaN,g.point=y,n.lineStart()}function y(r,i){var a=Ha([r,i]),o=t(r,i);e(l,s,u,d,h,p,l=o[0],s=o[1],u=r,d=a[0],h=a[1],p=a[2],vo,n),n.point(l,s)}function v(){g.point=m,n.lineEnd()}function w(){b(),g.point=x,g.lineEnd=M}function x(t,n){y(r=t,n),i=l,a=s,o=d,c=h,f=p,g.point=y}function M(){e(l,s,u,d,h,p,i,a,r,o,c,f,vo,n),g.lineEnd=v,v()}return g}}(t,n):function(t){return so({point:function(n,e){n=t(n,e),this.stream.point(n[0],n[1])}})}(t)}var Mo=so({point:function(t,n){this.stream.point(t*oi,n*oi)}});function ko(t,n,e,r,i,a){if(!a)return function(t,n,e,r,i){function a(a,o){return[n+t*(a*=r),e-t*(o*=i)]}return a.invert=function(a,o){return[(a-n)/t*r,(e-o)/t*i]},a}(t,n,e,r,i);var o=li(a),c=pi(a),f=o*t,u=c*t,l=o/t,s=c/t,d=(c*e-o*n)/t,h=(c*n+o*e)/t;function p(t,a){return[f*(t*=r)-u*(a*=i)+n,e-u*t-f*a]}return p.invert=function(t,n){return[r*(l*t-s*n+d),i*(h-s*t-l*n)]},p}function _o(t){return $o((function(){return t}))()}function $o(t){var n,e,r,i,a,o,c,f,u,l,s=150,d=480,h=250,p=0,g=0,m=0,b=0,y=0,v=0,w=1,x=1,M=null,k=no,_=null,$=Ni,A=.5;function T(t){return f(t[0]*oi,t[1]*oi)}function S(t){return(t=f.invert(t[0],t[1]))&&[t[0]*ai,t[1]*ai]}function E(){var t=ko(s,0,0,w,x,v).apply(null,n(p,g)),r=ko(s,d-t[0],h-t[1],w,x,v);return e=oo(m,b,y),c=io(n,r),f=io(e,c),o=xo(c,A),N()}function N(){return u=l=null,T}return T.stream=function(t){return u&&l===t?u:u=Mo(function(t){return so({point:function(n,e){var r=t(n,e);return this.stream.point(r[0],r[1])}})}(e)(k(o($(l=t)))))},T.preclip=function(t){return arguments.length?(k=t,M=void 0,N()):k},T.postclip=function(t){return arguments.length?($=t,_=r=i=a=null,N()):$},T.clipAngle=function(t){return arguments.length?(k=+t?function(t){var n=li(t),e=2*oi,r=n>0,i=ci(n)>Kr;function a(t,e){return li(t)*li(e)>n}function o(t,e,r){var i=[1,0,0],a=Va(Ha(t),Ha(e)),o=Ya(a,a),c=a[0],f=o-c*c;if(!f)return!r&&t;var u=n*o/f,l=-n*c/f,s=Va(i,a),d=Za(i,u);Xa(d,Za(a,l));var h=s,p=Ya(d,h),g=Ya(h,h),m=p*p-g*(Ya(d,d)-1);if(!(m<0)){var b=mi(m),y=Za(h,(-p-b)/g);if(Xa(y,d),y=Wa(y),!r)return y;var v,w=t[0],x=e[0],M=t[1],k=e[1];x<w&&(v=w,w=x,x=v);var _=x-w,$=ci(_-ni)<Kr;if(!$&&k<M&&(v=M,M=k,k=v),$||_<Kr?$?M+k>0^y[1]<(ci(y[0]-w)<Kr?M:k):M<=y[1]&&y[1]<=k:_>ni^(w<=y[0]&&y[0]<=x)){var A=Za(h,(-p+b)/g);return Xa(A,d),[y,Wa(A)]}}}function c(n,e){var i=r?t:ni-t,a=0;return n<-i?a|=1:n>i&&(a|=2),e<-i?a|=4:e>i&&(a|=8),a}return Ja(a,(function(t){var n,e,f,u,l;return{lineStart:function(){u=f=!1,l=1},point:function(s,d){var h,p=[s,d],g=a(s,d),m=r?g?0:c(s,d):g?c(s+(s<0?ni:-ni),d):0;if(!n&&(u=f=g)&&t.lineStart(),g!==f&&(!(h=o(n,p))||Mi(n,h)||Mi(p,h))&&(p[2]=1),g!==f)l=0,g?(t.lineStart(),h=o(p,n),t.point(h[0],h[1])):(h=o(n,p),t.point(h[0],h[1],2),t.lineEnd()),n=h;else if(i&&n&&r^g){var b;m&e||!(b=o(p,n,!0))||(l=0,r?(t.lineStart(),t.point(b[0][0],b[0][1]),t.point(b[1][0],b[1][1]),t.lineEnd()):(t.point(b[1][0],b[1][1]),t.lineEnd(),t.lineStart(),t.point(b[0][0],b[0][1],3)))}!g||n&&Mi(n,p)||t.point(p[0],p[1]),n=p,f=g,e=m},lineEnd:function(){f&&t.lineEnd(),n=null},clean:function(){return l|(u&&f)<<1}}}),(function(n,r,i,a){eo(a,t,e,i,n,r)}),r?[0,-t]:[-ni,t-ni])}(M=t*oi):(M=null,no),N()):M*ai},T.clipExtent=function(t){return arguments.length?($=null==t?(_=r=i=a=null,Ni):Ei(_=+t[0][0],r=+t[0][1],i=+t[1][0],a=+t[1][1]),N()):null==_?null:[[_,r],[i,a]]},T.scale=function(t){return arguments.length?(s=+t,E()):s},T.translate=function(t){return arguments.length?(d=+t[0],h=+t[1],E()):[d,h]},T.center=function(t){return arguments.length?(p=t[0]%360*oi,g=t[1]%360*oi,E()):[p*ai,g*ai]},T.rotate=function(t){return arguments.length?(m=t[0]%360*oi,b=t[1]%360*oi,y=t.length>2?t[2]%360*oi:0,E()):[m*ai,b*ai,y*ai]},T.angle=function(t){return arguments.length?(v=t%360*oi,E()):v*ai},T.reflectX=function(t){return arguments.length?(w=t?-1:1,E()):w<0},T.reflectY=function(t){return arguments.length?(x=t?-1:1,E()):x<0},T.precision=function(t){return arguments.length?(o=xo(c,A=t*t),N()):mi(A)},T.fitExtent=function(t,n){return go(T,t,n)},T.fitSize=function(t,n){return mo(T,t,n)},T.fitWidth=function(t,n){return bo(T,t,n)},T.fitHeight=function(t,n){return yo(T,t,n)},function(){return n=t.apply(this,arguments),T.invert=n.invert&&S,E()}}function Ao(t){var n=0,e=ni/3,r=$o(t),i=r(n,e);return i.parallels=function(t){return arguments.length?r(n=t[0]*oi,e=t[1]*oi):[n*ai,e*ai]},i}function To(t,n){var e=pi(t),r=(e+pi(n))/2;if(ci(r)<Kr)return function(t){var n=li(t);function e(t,e){return[t*n,pi(e)/n]}return e.invert=function(t,e){return[t/n,vi(e*n)]},e}(t);var i=1+e*(2*r-e),a=mi(i)/r;function o(t,n){var e=mi(i-2*r*pi(n))/r;return[e*pi(t*=r),a-e*li(t)]}return o.invert=function(t,n){var e=a-n,o=ui(t,ci(e))*gi(e);return e*r<0&&(o-=ni*gi(t)*gi(e)),[o/r,vi((i-(t*t+e*e)*r*r)/(2*r))]},o}function So(){return Ao(To).scale(155.424).center([0,33.6442])}function Eo(){return So().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function No(){var t,n,e,r,i,a,o=Eo(),c=So().rotate([154,0]).center([-2,58.5]).parallels([55,65]),f=So().rotate([157,0]).center([-3,19.9]).parallels([8,18]),u={point:function(t,n){a=[t,n]}};function l(t){var n=t[0],o=t[1];return a=null,e.point(n,o),a||(r.point(n,o),a)||(i.point(n,o),a)}function s(){return t=n=null,l}return l.invert=function(t){var n=o.scale(),e=o.translate(),r=(t[0]-e[0])/n,i=(t[1]-e[1])/n;return(i>=.12&&i<.234&&r>=-.425&&r<-.214?c:i>=.166&&i<.234&&r>=-.214&&r<-.115?f:o).invert(t)},l.stream=function(e){return t&&n===e?t:(r=[o.stream(n=e),c.stream(e),f.stream(e)],i=r.length,t={point:function(t,n){for(var e=-1;++e<i;)r[e].point(t,n)},sphere:function(){for(var t=-1;++t<i;)r[t].sphere()},lineStart:function(){for(var t=-1;++t<i;)r[t].lineStart()},lineEnd:function(){for(var t=-1;++t<i;)r[t].lineEnd()},polygonStart:function(){for(var t=-1;++t<i;)r[t].polygonStart()},polygonEnd:function(){for(var t=-1;++t<i;)r[t].polygonEnd()}});var r,i},l.precision=function(t){return arguments.length?(o.precision(t),c.precision(t),f.precision(t),s()):o.precision()},l.scale=function(t){return arguments.length?(o.scale(t),c.scale(.35*t),f.scale(t),l.translate(o.translate())):o.scale()},l.translate=function(t){if(!arguments.length)return o.translate();var n=o.scale(),a=+t[0],l=+t[1];return e=o.translate(t).clipExtent([[a-.455*n,l-.238*n],[a+.455*n,l+.238*n]]).stream(u),r=c.translate([a-.307*n,l+.201*n]).clipExtent([[a-.425*n+Kr,l+.12*n+Kr],[a-.214*n-Kr,l+.234*n-Kr]]).stream(u),i=f.translate([a-.205*n,l+.212*n]).clipExtent([[a-.214*n+Kr,l+.166*n+Kr],[a-.115*n-Kr,l+.234*n-Kr]]).stream(u),s()},l.fitExtent=function(t,n){return go(l,t,n)},l.fitSize=function(t,n){return mo(l,t,n)},l.fitWidth=function(t,n){return bo(l,t,n)},l.fitHeight=function(t,n){return yo(l,t,n)},l.scale(1070)}function Co(t){return function(n,e){var r=li(n),i=li(e),a=t(r*i);return a===1/0?[2,0]:[a*i*pi(n),a*pi(e)]}}function Lo(t){return function(n,e){var r=mi(n*n+e*e),i=t(r),a=pi(i),o=li(i);return[ui(n*a,r*o),vi(r&&e*a/r)]}}var Do=Co((function(t){return mi(2/(1+t))}));function Oo(){return _o(Do).scale(124.75).clipAngle(179.999)}Do.invert=Lo((function(t){return 2*vi(t/2)}));var Ro=Co((function(t){return(t=yi(t))&&t/pi(t)}));function Fo(){return _o(Ro).scale(79.4188).clipAngle(179.999)}function zo(t,n){return[t,di(bi((ei+n)/2))]}function Uo(){return jo(zo).scale(961/ii)}function jo(t){var n,e,r,i=_o(t),a=i.center,o=i.scale,c=i.translate,f=i.clipExtent,u=null;function l(){var a=ni*o(),c=i(function(t){function n(n){return(n=t(n[0]*oi,n[1]*oi))[0]*=ai,n[1]*=ai,n}return t=oo(t[0]*oi,t[1]*oi,t.length>2?t[2]*oi:0),n.invert=function(n){return(n=t.invert(n[0]*oi,n[1]*oi))[0]*=ai,n[1]*=ai,n},n}(i.rotate()).invert([0,0]));return f(null==u?[[c[0]-a,c[1]-a],[c[0]+a,c[1]+a]]:t===zo?[[Math.max(c[0]-a,u),n],[Math.min(c[0]+a,e),r]]:[[u,Math.max(c[1]-a,n)],[e,Math.min(c[1]+a,r)]])}return i.scale=function(t){return arguments.length?(o(t),l()):o()},i.translate=function(t){return arguments.length?(c(t),l()):c()},i.center=function(t){return arguments.length?(a(t),l()):a()},i.clipExtent=function(t){return arguments.length?(null==t?u=n=e=r=null:(u=+t[0][0],n=+t[0][1],e=+t[1][0],r=+t[1][1]),l()):null==u?null:[[u,n],[e,r]]},l()}function qo(t){return bi((ei+t)/2)}function Io(t,n){var e=li(t),r=t===n?pi(t):di(e/li(n))/di(qo(n)/qo(t)),i=e*hi(qo(t),r)/r;if(!r)return zo;function a(t,n){i>0?n<-ei+Kr&&(n=-ei+Kr):n>ei-Kr&&(n=ei-Kr);var e=i/hi(qo(n),r);return[e*pi(r*t),i-e*li(r*t)]}return a.invert=function(t,n){var e=i-n,a=gi(r)*mi(t*t+e*e),o=ui(t,ci(e))*gi(e);return e*r<0&&(o-=ni*gi(t)*gi(e)),[o/r,2*fi(hi(i/a,1/r))-ei]},a}function Po(){return Ao(Io).scale(109.5).parallels([30,30])}function Bo(t,n){return[t,n]}function Wo(){return _o(Bo).scale(152.63)}function Ho(t,n){var e=li(t),r=t===n?pi(t):(e-li(n))/(n-t),i=e/r+t;if(ci(r)<Kr)return Bo;function a(t,n){var e=i-n,a=r*t;return[e*pi(a),i-e*li(a)]}return a.invert=function(t,n){var e=i-n,a=ui(t,ci(e))*gi(e);return e*r<0&&(a-=ni*gi(t)*gi(e)),[a/r,i-gi(r)*mi(t*t+e*e)]},a}function Yo(){return Ao(Ho).scale(131.154).center([0,13.9389])}Ro.invert=Lo((function(t){return t})),zo.invert=function(t,n){return[t,2*fi(si(n))-ei]},Bo.invert=Bo;var Vo=1.340264,Xo=-.081106,Zo=893e-6,Go=.003796,Qo=mi(3)/2;function Jo(t,n){var e=vi(Qo*pi(n)),r=e*e,i=r*r*r;return[t*li(e)/(Qo*(Vo+3*Xo*r+i*(7*Zo+9*Go*r))),e*(Vo+Xo*r+i*(Zo+Go*r))]}function Ko(){return _o(Jo).scale(177.158)}function tc(t,n){var e=li(n),r=li(t)*e;return[e*pi(t)/r,pi(n)/r]}function nc(){return _o(tc).scale(144.049).clipAngle(60)}function ec(t,n){return[li(n)*pi(t),pi(n)]}function rc(){return _o(ec).scale(249.5).clipAngle(90+Kr)}function ic(t,n){var e=li(n),r=1+li(t)*e;return[e*pi(t)/r,pi(n)/r]}function ac(){return _o(ic).scale(250).clipAngle(142)}function oc(t,n){return[di(bi((ei+n)/2)),-t]}function cc(){var t=jo(oc),n=t.center,e=t.rotate;return t.center=function(t){return arguments.length?n([-t[1],t[0]]):[(t=n())[1],-t[0]]},t.rotate=function(t){return arguments.length?e([t[0],t[1],t.length>2?t[2]+90:90]):[(t=e())[0],t[1],t[2]-90]},e([0,0,90]).scale(159.155)}function fc(t,n){return t=+t,n=+n,function(e){return Math.round(t*(1-e)+n*e)}}function uc(t){return function(n,e){var r=t((n=Xe(n)).h,(e=Xe(e)).h),i=ir(n.s,e.s),a=ir(n.l,e.l),o=ir(n.opacity,e.opacity);return function(t){return n.h=r(t),n.s=i(t),n.l=a(t),n.opacity=o(t),n+""}}}Jo.invert=function(t,n){for(var e,r=n,i=r*r,a=i*i*i,o=0;o<12&&(a=(i=(r-=e=(r*(Vo+Xo*i+a*(Zo+Go*i))-n)/(Vo+3*Xo*i+a*(7*Zo+9*Go*i)))*r)*i*i,!(ci(e)<ti));++o);return[Qo*t*(Vo+3*Xo*i+a*(7*Zo+9*Go*i))/li(r),vi(pi(r)/Qo)]},tc.invert=Lo(fi),ec.invert=Lo(vi),ic.invert=Lo((function(t){return 2*fi(t)})),oc.invert=function(t,n){return[-n,2*fi(si(t))-ei]};var lc=uc(er);uc(ir);const sc=Math.PI/180,dc=180/Math.PI,hc=.96422,pc=1,gc=.82521,mc=4/29,bc=6/29,yc=3*bc*bc,vc=bc*bc*bc;function wc(t){if(t instanceof Mc)return new Mc(t.l,t.a,t.b,t.opacity);if(t instanceof Ec)return Nc(t);t instanceof qe||(t=Ue(t));var n,e,r=Ac(t.r),i=Ac(t.g),a=Ac(t.b),o=kc((.2225045*r+.7168786*i+.0606169*a)/pc);return r===i&&i===a?n=e=o:(n=kc((.4360747*r+.3850649*i+.1430804*a)/hc),e=kc((.0139322*r+.0971045*i+.7141733*a)/gc)),new Mc(116*o-16,500*(n-o),200*(o-e),t.opacity)}function xc(t,n,e,r){return 1===arguments.length?wc(t):new Mc(t,n,e,null==r?1:r)}function Mc(t,n,e,r){this.l=+t,this.a=+n,this.b=+e,this.opacity=+r}function kc(t){return t>vc?Math.pow(t,1/3):t/yc+mc}function _c(t){return t>bc?t*t*t:yc*(t-mc)}function $c(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function Ac(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function Tc(t){if(t instanceof Ec)return new Ec(t.h,t.c,t.l,t.opacity);if(t instanceof Mc||(t=wc(t)),0===t.a&&0===t.b)return new Ec(NaN,0<t.l&&t.l<100?0:NaN,t.l,t.opacity);var n=Math.atan2(t.b,t.a)*dc;return new Ec(n<0?n+360:n,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}function Sc(t,n,e,r){return 1===arguments.length?Tc(t):new Ec(t,n,e,null==r?1:r)}function Ec(t,n,e,r){this.h=+t,this.c=+n,this.l=+e,this.opacity=+r}function Nc(t){if(isNaN(t.h))return new Mc(t.l,0,0,t.opacity);var n=t.h*sc;return new Mc(t.l,Math.cos(n)*t.c,Math.sin(n)*t.c,t.opacity)}function Cc(t){return function(n,e){var r=t((n=Sc(n)).h,(e=Sc(e)).h),i=ir(n.c,e.c),a=ir(n.l,e.l),o=ir(n.opacity,e.opacity);return function(t){return n.h=r(t),n.c=i(t),n.l=a(t),n.opacity=o(t),n+""}}}be(Mc,xc,ye(ve,{brighter(t){return new Mc(this.l+18*(null==t?1:t),this.a,this.b,this.opacity)},darker(t){return new Mc(this.l-18*(null==t?1:t),this.a,this.b,this.opacity)},rgb(){var t=(this.l+16)/116,n=isNaN(this.a)?t:t+this.a/500,e=isNaN(this.b)?t:t-this.b/200;return new qe($c(3.1338561*(n=hc*_c(n))-1.6168667*(t=pc*_c(t))-.4906146*(e=gc*_c(e))),$c(-.9787684*n+1.9161415*t+.033454*e),$c(.0719453*n-.2289914*t+1.4052427*e),this.opacity)}})),be(Ec,Sc,ye(ve,{brighter(t){return new Ec(this.h,this.c,this.l+18*(null==t?1:t),this.opacity)},darker(t){return new Ec(this.h,this.c,this.l-18*(null==t?1:t),this.opacity)},rgb(){return Nc(this).rgb()}}));var Lc=Cc(er);Cc(ir);function Dc(t,n){var e,r=n?n.length:0,i=t?Math.min(r,t.length):0,a=new Array(i),o=new Array(r);for(e=0;e<i;++e)a[e]=zc(t[e],n[e]);for(;e<r;++e)o[e]=n[e];return function(t){for(e=0;e<i;++e)o[e]=a[e](t);return o}}function Oc(t,n){var e=new Date;return t=+t,n=+n,function(r){return e.setTime(t*(1-r)+n*r),e}}function Rc(t,n){var e,r={},i={};for(e in null!==t&&"object"==typeof t||(t={}),null!==n&&"object"==typeof n||(n={}),n)e in t?r[e]=zc(t[e],n[e]):i[e]=n[e];return function(t){for(e in r)i[e]=r[e](t);return i}}function Fc(t,n){n||(n=[]);var e,r=t?Math.min(n.length,t.length):0,i=n.slice();return function(a){for(e=0;e<r;++e)i[e]=t[e]*(1-a)+n[e]*a;return i}}function zc(t,n){var e,r,i=typeof n;return null==n||"boolean"===i?tr(n):("number"===i?oe:"string"===i?(e=Re(n))?(n=e,ar):lr:n instanceof Re?ar:n instanceof Date?Oc:(r=n,!ArrayBuffer.isView(r)||r instanceof DataView?Array.isArray(n)?Dc:"function"!=typeof n.valueOf&&"function"!=typeof n.toString||isNaN(n)?Rc:oe:Fc))(t,n)}function Uc(t,n){void 0===n&&(n=t,t=zc);for(var e=0,r=n.length-1,i=n[0],a=new Array(r<0?0:r);e<r;)a[e]=t(i,i=n[++e]);return function(t){var n=Math.max(0,Math.min(r-1,Math.floor(t*=r)));return a[n](t-n)}}function jc(t,n){for(var e=new Array(n),r=0;r<n;++r)e[r]=t(r/(n-1));return e}const qc=Math.PI,Ic=2*qc,Pc=1e-6,Bc=Ic-Pc;function Wc(t){this._+=t[0];for(let n=1,e=t.length;n<e;++n)this._+=arguments[n]+t[n]}class Hc{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=null==t?Wc:function(t){let n=Math.floor(t);if(!(n>=0))throw new Error(`invalid digits: ${t}`);if(n>15)return Wc;const e=10**n;return function(t){this._+=t[0];for(let n=1,r=t.length;n<r;++n)this._+=Math.round(arguments[n]*e)/e+t[n]}}(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,e,r){this._append`Q${+t},${+n},${this._x1=+e},${this._y1=+r}`}bezierCurveTo(t,n,e,r,i,a){this._append`C${+t},${+n},${+e},${+r},${this._x1=+i},${this._y1=+a}`}arcTo(t,n,e,r,i){if(t=+t,n=+n,e=+e,r=+r,(i=+i)<0)throw new Error(`negative radius: ${i}`);let a=this._x1,o=this._y1,c=e-t,f=r-n,u=a-t,l=o-n,s=u*u+l*l;if(null===this._x1)this._append`M${this._x1=t},${this._y1=n}`;else if(s>Pc)if(Math.abs(l*c-f*u)>Pc&&i){let d=e-a,h=r-o,p=c*c+f*f,g=d*d+h*h,m=Math.sqrt(p),b=Math.sqrt(s),y=i*Math.tan((qc-Math.acos((p+s-g)/(2*m*b)))/2),v=y/b,w=y/m;Math.abs(v-1)>Pc&&this._append`L${t+v*u},${n+v*l}`,this._append`A${i},${i},0,0,${+(l*d>u*h)},${this._x1=t+w*c},${this._y1=n+w*f}`}else this._append`L${this._x1=t},${this._y1=n}`;else;}arc(t,n,e,r,i,a){if(t=+t,n=+n,a=!!a,(e=+e)<0)throw new Error(`negative radius: ${e}`);let o=e*Math.cos(r),c=e*Math.sin(r),f=t+o,u=n+c,l=1^a,s=a?r-i:i-r;null===this._x1?this._append`M${f},${u}`:(Math.abs(this._x1-f)>Pc||Math.abs(this._y1-u)>Pc)&&this._append`L${f},${u}`,e&&(s<0&&(s=s%Ic+Ic),s>Bc?this._append`A${e},${e},0,1,${l},${t-o},${n-c}A${e},${e},0,1,${l},${this._x1=f},${this._y1=u}`:s>Pc&&this._append`A${e},${e},0,${+(s>=qc)},${l},${this._x1=t+e*Math.cos(i)},${this._y1=n+e*Math.sin(i)}`)}rect(t,n,e,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${e=+e}v${+r}h${-e}Z`}toString(){return this._}}function Yc(t=3){return new Hc(+t)}function Vc(t,n){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(n).domain(t)}return this}function Xc(t,n){switch(arguments.length){case 0:break;case 1:"function"==typeof t?this.interpolator(t):this.range(t);break;default:this.domain(t),"function"==typeof n?this.interpolator(n):this.range(n)}return this}Hc.prototype;const Zc=Symbol("implicit");function Gc(){var t=new h,n=[],e=[],r=Zc;function i(i){let a=t.get(i);if(void 0===a){if(r!==Zc)return r;t.set(i,a=n.push(i)-1)}return e[a%e.length]}return i.domain=function(e){if(!arguments.length)return n.slice();n=[],t=new h;for(const r of e)t.has(r)||t.set(r,n.push(r)-1);return i},i.range=function(t){return arguments.length?(e=Array.from(t),i):e.slice()},i.unknown=function(t){return arguments.length?(r=t,i):r},i.copy=function(){return Gc(n,e).unknown(r)},Vc.apply(i,arguments),i}function Qc(){var t,n,e=Gc().unknown(void 0),r=e.domain,i=e.range,a=0,o=1,c=!1,f=0,u=0,l=.5;function s(){var e=r().length,s=o<a,d=s?o:a,h=s?a:o;t=(h-d)/Math.max(1,e-f+2*u),c&&(t=Math.floor(t)),d+=(h-d-t*(e-f))*l,n=t*(1-f),c&&(d=Math.round(d),n=Math.round(n));var p=j(e).map((function(n){return d+t*n}));return i(s?p.reverse():p)}return delete e.unknown,e.domain=function(t){return arguments.length?(r(t),s()):r()},e.range=function(t){return arguments.length?([a,o]=t,a=+a,o=+o,s()):[a,o]},e.rangeRound=function(t){return[a,o]=t,a=+a,o=+o,c=!0,s()},e.bandwidth=function(){return n},e.step=function(){return t},e.round=function(t){return arguments.length?(c=!!t,s()):c},e.padding=function(t){return arguments.length?(f=Math.min(1,u=+t),s()):f},e.paddingInner=function(t){return arguments.length?(f=Math.min(1,t),s()):f},e.paddingOuter=function(t){return arguments.length?(u=+t,s()):u},e.align=function(t){return arguments.length?(l=Math.max(0,Math.min(1,t)),s()):l},e.copy=function(){return Qc(r(),[a,o]).round(c).paddingInner(f).paddingOuter(u).align(l)},Vc.apply(s(),arguments)}function Jc(t){var n=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return Jc(n())},t}function Kc(){return Jc(Qc.apply(null,arguments).paddingInner(1))}const tf=a(r),nf=tf.right;tf.left,a(L).center;var ef=nf;function rf(t){return+t}var af=[0,1];function of(t){return t}function cf(t,n){return(n-=t=+t)?function(e){return(e-t)/n}:(e=isNaN(n)?NaN:.5,function(){return e});var e}function ff(t,n,e){var r=t[0],i=t[1],a=n[0],o=n[1];return i<r?(r=cf(i,r),a=e(o,a)):(r=cf(r,i),a=e(a,o)),function(t){return a(r(t))}}function uf(t,n,e){var r=Math.min(t.length,n.length)-1,i=new Array(r),a=new Array(r),o=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),n=n.slice().reverse());++o<r;)i[o]=cf(t[o],t[o+1]),a[o]=e(n[o],n[o+1]);return function(n){var e=ef(t,n,1,r)-1;return a[e](i[e](n))}}function lf(t,n){return n.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function sf(){var t,n,e,r,i,a,o=af,c=af,f=zc,u=of;function l(){var t=Math.min(o.length,c.length);return u!==of&&(u=function(t,n){var e;return t>n&&(e=t,t=n,n=e),function(e){return Math.max(t,Math.min(n,e))}}(o[0],o[t-1])),r=t>2?uf:ff,i=a=null,s}function s(n){return null==n||isNaN(n=+n)?e:(i||(i=r(o.map(t),c,f)))(t(u(n)))}return s.invert=function(e){return u(n((a||(a=r(c,o.map(t),oe)))(e)))},s.domain=function(t){return arguments.length?(o=Array.from(t,rf),l()):o.slice()},s.range=function(t){return arguments.length?(c=Array.from(t),l()):c.slice()},s.rangeRound=function(t){return c=Array.from(t),f=fc,l()},s.clamp=function(t){return arguments.length?(u=!!t||of,l()):u!==of},s.interpolate=function(t){return arguments.length?(f=t,l()):f},s.unknown=function(t){return arguments.length?(e=t,s):e},function(e,r){return t=e,n=r,l()}}function df(){return sf()(of,of)}function hf(t,n,e,r){var i,a=V(t,n,e);switch((r=Pr(null==r?",f":r)).type){case"s":var o=Math.max(Math.abs(t),Math.abs(n));return null!=r.precision||isNaN(i=function(t,n){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(jr(n)/3)))-jr(Math.abs(t)))}(a,o))||(r.precision=i),Zr(r,o);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(i=function(t,n){return t=Math.abs(t),n=Math.abs(n)-t,Math.max(0,jr(n)-jr(t))+1}(a,Math.max(Math.abs(t),Math.abs(n))))||(r.precision=i-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(i=function(t){return Math.max(0,-jr(Math.abs(t)))}(a))||(r.precision=i-2*("%"===r.type))}return Xr(r)}function pf(t){var n=t.domain;return t.ticks=function(t){var e=n();return H(e[0],e[e.length-1],null==t?10:t)},t.tickFormat=function(t,e){var r=n();return hf(r[0],r[r.length-1],null==t?10:t,e)},t.nice=function(e){null==e&&(e=10);var r,i,a=n(),o=0,c=a.length-1,f=a[o],u=a[c],l=10;for(u<f&&(i=f,f=u,u=i,i=o,o=c,c=i);l-- >0;){if((i=Y(f,u,e))===r)return a[o]=f,a[c]=u,n(a);if(i>0)f=Math.floor(f/i)*i,u=Math.ceil(u/i)*i;else{if(!(i<0))break;f=Math.ceil(f*i)/i,u=Math.floor(u*i)/i}r=i}return t},t}function gf(){var t=df();return t.copy=function(){return lf(t,gf())},Vc.apply(t,arguments),pf(t)}function mf(t){var n;function e(t){return null==t||isNaN(t=+t)?n:t}return e.invert=e,e.domain=e.range=function(n){return arguments.length?(t=Array.from(n,rf),e):t.slice()},e.unknown=function(t){return arguments.length?(n=t,e):n},e.copy=function(){return mf(t).unknown(n)},t=arguments.length?Array.from(t,rf):[0,1],pf(e)}function bf(t,n){var e,r=0,i=(t=t.slice()).length-1,a=t[r],o=t[i];return o<a&&(e=r,r=i,i=e,e=a,a=o,o=e),t[r]=n.floor(a),t[i]=n.ceil(o),t}function yf(t){return Math.log(t)}function vf(t){return Math.exp(t)}function wf(t){return-Math.log(-t)}function xf(t){return-Math.exp(-t)}function Mf(t){return isFinite(t)?+("1e"+t):t<0?0:t}function kf(t){return(n,e)=>-t(-n,e)}function _f(t){const n=t(yf,vf),e=n.domain;let r,i,a=10;function o(){return r=function(t){return t===Math.E?Math.log:10===t&&Math.log10||2===t&&Math.log2||(t=Math.log(t),n=>Math.log(n)/t)}(a),i=function(t){return 10===t?Mf:t===Math.E?Math.exp:n=>Math.pow(t,n)}(a),e()[0]<0?(r=kf(r),i=kf(i),t(wf,xf)):t(yf,vf),n}return n.base=function(t){return arguments.length?(a=+t,o()):a},n.domain=function(t){return arguments.length?(e(t),o()):e()},n.ticks=t=>{const n=e();let o=n[0],c=n[n.length-1];const f=c<o;f&&([o,c]=[c,o]);let u,l,s=r(o),d=r(c);const h=null==t?10:+t;let p=[];if(!(a%1)&&d-s<h){if(s=Math.floor(s),d=Math.ceil(d),o>0){for(;s<=d;++s)for(u=1;u<a;++u)if(l=s<0?u/i(-s):u*i(s),!(l<o)){if(l>c)break;p.push(l)}}else for(;s<=d;++s)for(u=a-1;u>=1;--u)if(l=s>0?u/i(-s):u*i(s),!(l<o)){if(l>c)break;p.push(l)}2*p.length<h&&(p=H(o,c,h))}else p=H(s,d,Math.min(d-s,h)).map(i);return f?p.reverse():p},n.tickFormat=(t,e)=>{if(null==t&&(t=10),null==e&&(e=10===a?"s":","),"function"!=typeof e&&(a%1||null!=(e=Pr(e)).precision||(e.trim=!0),e=Xr(e)),t===1/0)return e;const o=Math.max(1,a*t/n.ticks().length);return t=>{let n=t/i(Math.round(r(t)));return n*a<a-.5&&(n*=a),n<=o?e(t):""}},n.nice=()=>e(bf(e(),{floor:t=>i(Math.floor(r(t))),ceil:t=>i(Math.ceil(r(t)))})),n}function $f(){const t=_f(sf()).domain([1,10]);return t.copy=()=>lf(t,$f()).base(t.base()),Vc.apply(t,arguments),t}function Af(t){return function(n){return Math.sign(n)*Math.log1p(Math.abs(n/t))}}function Tf(t){return function(n){return Math.sign(n)*Math.expm1(Math.abs(n))*t}}function Sf(t){var n=1,e=t(Af(n),Tf(n));return e.constant=function(e){return arguments.length?t(Af(n=+e),Tf(n)):n},pf(e)}function Ef(){var t=Sf(sf());return t.copy=function(){return lf(t,Ef()).constant(t.constant())},Vc.apply(t,arguments)}function Nf(t){return function(n){return n<0?-Math.pow(-n,t):Math.pow(n,t)}}function Cf(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function Lf(t){return t<0?-t*t:t*t}function Df(t){var n=t(of,of),e=1;return n.exponent=function(n){return arguments.length?1===(e=+n)?t(of,of):.5===e?t(Cf,Lf):t(Nf(e),Nf(1/e)):e},pf(n)}function Of(){var t=Df(sf());return t.copy=function(){return lf(t,Of()).exponent(t.exponent())},Vc.apply(t,arguments),t}function Rf(){var t,n=[],e=[],i=[];function a(){var t=0,r=Math.max(1,e.length);for(i=new Array(r-1);++t<r;)i[t-1]=O(n,t/r);return o}function o(n){return null==n||isNaN(n=+n)?t:e[ef(i,n)]}return o.invertExtent=function(t){var r=e.indexOf(t);return r<0?[NaN,NaN]:[r>0?i[r-1]:n[0],r<i.length?i[r]:n[n.length-1]]},o.domain=function(t){if(!arguments.length)return n.slice();n=[];for(let e of t)null==e||isNaN(e=+e)||n.push(e);return n.sort(r),a()},o.range=function(t){return arguments.length?(e=Array.from(t),a()):e.slice()},o.unknown=function(n){return arguments.length?(t=n,o):t},o.quantiles=function(){return i.slice()},o.copy=function(){return Rf().domain(n).range(e).unknown(t)},Vc.apply(o,arguments)}function Ff(){var t,n=[.5],e=[0,1],r=1;function i(i){return null!=i&&i<=i?e[ef(n,i,0,r)]:t}return i.domain=function(t){return arguments.length?(n=Array.from(t),r=Math.min(n.length,e.length-1),i):n.slice()},i.range=function(t){return arguments.length?(e=Array.from(t),r=Math.min(n.length,e.length-1),i):e.slice()},i.invertExtent=function(t){var r=e.indexOf(t);return[n[r-1],n[r]]},i.unknown=function(n){return arguments.length?(t=n,i):t},i.copy=function(){return Ff().domain(n).range(e).unknown(t)},Vc.apply(i,arguments)}const zf=1e3,Uf=6e4,jf=36e5,qf=864e5,If=6048e5,Pf=2592e6,Bf=31536e6,Wf=new Date,Hf=new Date;function Yf(t,n,e,r){function i(n){return t(n=0===arguments.length?new Date:new Date(+n)),n}return i.floor=n=>(t(n=new Date(+n)),n),i.ceil=e=>(t(e=new Date(e-1)),n(e,1),t(e),e),i.round=t=>{const n=i(t),e=i.ceil(t);return t-n<e-t?n:e},i.offset=(t,e)=>(n(t=new Date(+t),null==e?1:Math.floor(e)),t),i.range=(e,r,a)=>{const o=[];if(e=i.ceil(e),a=null==a?1:Math.floor(a),!(e<r&&a>0))return o;let c;do{o.push(c=new Date(+e)),n(e,a),t(e)}while(c<e&&e<r);return o},i.filter=e=>Yf((n=>{if(n>=n)for(;t(n),!e(n);)n.setTime(n-1)}),((t,r)=>{if(t>=t)if(r<0)for(;++r<=0;)for(;n(t,-1),!e(t););else for(;--r>=0;)for(;n(t,1),!e(t););})),e&&(i.count=(n,r)=>(Wf.setTime(+n),Hf.setTime(+r),t(Wf),t(Hf),Math.floor(e(Wf,Hf))),i.every=t=>(t=Math.floor(t),isFinite(t)&&t>0?t>1?i.filter(r?n=>r(n)%t==0:n=>i.count(0,n)%t==0):i:null)),i}const Vf=Yf((()=>{}),((t,n)=>{t.setTime(+t+n)}),((t,n)=>n-t));Vf.every=t=>(t=Math.floor(t),isFinite(t)&&t>0?t>1?Yf((n=>{n.setTime(Math.floor(n/t)*t)}),((n,e)=>{n.setTime(+n+e*t)}),((n,e)=>(e-n)/t)):Vf:null);Vf.range;const Xf=Yf((t=>{t.setTime(t-t.getMilliseconds())}),((t,n)=>{t.setTime(+t+n*zf)}),((t,n)=>(n-t)/zf),(t=>t.getUTCSeconds())),Zf=(Xf.range,Yf((t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*zf)}),((t,n)=>{t.setTime(+t+n*Uf)}),((t,n)=>(n-t)/Uf),(t=>t.getMinutes()))),Gf=(Zf.range,Yf((t=>{t.setUTCSeconds(0,0)}),((t,n)=>{t.setTime(+t+n*Uf)}),((t,n)=>(n-t)/Uf),(t=>t.getUTCMinutes()))),Qf=(Gf.range,Yf((t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*zf-t.getMinutes()*Uf)}),((t,n)=>{t.setTime(+t+n*jf)}),((t,n)=>(n-t)/jf),(t=>t.getHours()))),Jf=(Qf.range,Yf((t=>{t.setUTCMinutes(0,0,0)}),((t,n)=>{t.setTime(+t+n*jf)}),((t,n)=>(n-t)/jf),(t=>t.getUTCHours()))),Kf=(Jf.range,Yf((t=>t.setHours(0,0,0,0)),((t,n)=>t.setDate(t.getDate()+n)),((t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*Uf)/qf),(t=>t.getDate()-1))),tu=(Kf.range,Yf((t=>{t.setUTCHours(0,0,0,0)}),((t,n)=>{t.setUTCDate(t.getUTCDate()+n)}),((t,n)=>(n-t)/qf),(t=>t.getUTCDate()-1))),nu=(tu.range,Yf((t=>{t.setUTCHours(0,0,0,0)}),((t,n)=>{t.setUTCDate(t.getUTCDate()+n)}),((t,n)=>(n-t)/qf),(t=>Math.floor(t/qf))));nu.range;function eu(t){return Yf((n=>{n.setDate(n.getDate()-(n.getDay()+7-t)%7),n.setHours(0,0,0,0)}),((t,n)=>{t.setDate(t.getDate()+7*n)}),((t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*Uf)/If))}const ru=eu(0),iu=eu(1),au=eu(2),ou=eu(3),cu=eu(4),fu=eu(5),uu=eu(6);ru.range,iu.range,au.range,ou.range,cu.range,fu.range,uu.range;function lu(t){return Yf((n=>{n.setUTCDate(n.getUTCDate()-(n.getUTCDay()+7-t)%7),n.setUTCHours(0,0,0,0)}),((t,n)=>{t.setUTCDate(t.getUTCDate()+7*n)}),((t,n)=>(n-t)/If))}const su=lu(0),du=lu(1),hu=lu(2),pu=lu(3),gu=lu(4),mu=lu(5),bu=lu(6),yu=(su.range,du.range,hu.range,pu.range,gu.range,mu.range,bu.range,Yf((t=>{t.setDate(1),t.setHours(0,0,0,0)}),((t,n)=>{t.setMonth(t.getMonth()+n)}),((t,n)=>n.getMonth()-t.getMonth()+12*(n.getFullYear()-t.getFullYear())),(t=>t.getMonth()))),vu=(yu.range,Yf((t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)}),((t,n)=>{t.setUTCMonth(t.getUTCMonth()+n)}),((t,n)=>n.getUTCMonth()-t.getUTCMonth()+12*(n.getUTCFullYear()-t.getUTCFullYear())),(t=>t.getUTCMonth()))),wu=(vu.range,Yf((t=>{t.setMonth(0,1),t.setHours(0,0,0,0)}),((t,n)=>{t.setFullYear(t.getFullYear()+n)}),((t,n)=>n.getFullYear()-t.getFullYear()),(t=>t.getFullYear())));wu.every=t=>isFinite(t=Math.floor(t))&&t>0?Yf((n=>{n.setFullYear(Math.floor(n.getFullYear()/t)*t),n.setMonth(0,1),n.setHours(0,0,0,0)}),((n,e)=>{n.setFullYear(n.getFullYear()+e*t)})):null;wu.range;const xu=Yf((t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)}),((t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n)}),((t,n)=>n.getUTCFullYear()-t.getUTCFullYear()),(t=>t.getUTCFullYear()));xu.every=t=>isFinite(t=Math.floor(t))&&t>0?Yf((n=>{n.setUTCFullYear(Math.floor(n.getUTCFullYear()/t)*t),n.setUTCMonth(0,1),n.setUTCHours(0,0,0,0)}),((n,e)=>{n.setUTCFullYear(n.getUTCFullYear()+e*t)})):null;xu.range;function Mu(t,n,e,r,i,o){const c=[[Xf,1,zf],[Xf,5,5e3],[Xf,15,15e3],[Xf,30,3e4],[o,1,Uf],[o,5,3e5],[o,15,9e5],[o,30,18e5],[i,1,jf],[i,3,108e5],[i,6,216e5],[i,12,432e5],[r,1,qf],[r,2,1728e5],[e,1,If],[n,1,Pf],[n,3,7776e6],[t,1,Bf]];function f(n,e,r){const i=Math.abs(e-n)/r,o=a((([,,t])=>t)).right(c,i);if(o===c.length)return t.every(V(n/Bf,e/Bf,r));if(0===o)return Vf.every(Math.max(V(n,e,r),1));const[f,u]=c[i/c[o-1][2]<c[o][2]/i?o-1:o];return f.every(u)}return[function(t,n,e){const r=n<t;r&&([t,n]=[n,t]);const i=e&&"function"==typeof e.range?e:f(t,n,e),a=i?i.range(t,+n+1):[];return r?a.reverse():a},f]}const[ku,_u]=Mu(xu,vu,su,nu,Jf,Gf),[$u,Au]=Mu(wu,yu,ru,Kf,Qf,Zf);function Tu(t){if(0<=t.y&&t.y<100){var n=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return n.setFullYear(t.y),n}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Su(t){if(0<=t.y&&t.y<100){var n=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return n.setUTCFullYear(t.y),n}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Eu(t,n,e){return{y:t,m:n,d:e,H:0,M:0,S:0,L:0}}var Nu,Cu,Lu,Du={"-":"",_:" ",0:"0"},Ou=/^\s*\d+/,Ru=/^%/,Fu=/[\\^$*+?|[\]().{}]/g;function zu(t,n,e){var r=t<0?"-":"",i=(r?-t:t)+"",a=i.length;return r+(a<e?new Array(e-a+1).join(n)+i:i)}function Uu(t){return t.replace(Fu,"\\$&")}function ju(t){return new RegExp("^(?:"+t.map(Uu).join("|")+")","i")}function qu(t){return new Map(t.map(((t,n)=>[t.toLowerCase(),n])))}function Iu(t,n,e){var r=Ou.exec(n.slice(e,e+1));return r?(t.w=+r[0],e+r[0].length):-1}function Pu(t,n,e){var r=Ou.exec(n.slice(e,e+1));return r?(t.u=+r[0],e+r[0].length):-1}function Bu(t,n,e){var r=Ou.exec(n.slice(e,e+2));return r?(t.U=+r[0],e+r[0].length):-1}function Wu(t,n,e){var r=Ou.exec(n.slice(e,e+2));return r?(t.V=+r[0],e+r[0].length):-1}function Hu(t,n,e){var r=Ou.exec(n.slice(e,e+2));return r?(t.W=+r[0],e+r[0].length):-1}function Yu(t,n,e){var r=Ou.exec(n.slice(e,e+4));return r?(t.y=+r[0],e+r[0].length):-1}function Vu(t,n,e){var r=Ou.exec(n.slice(e,e+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),e+r[0].length):-1}function Xu(t,n,e){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(n.slice(e,e+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),e+r[0].length):-1}function Zu(t,n,e){var r=Ou.exec(n.slice(e,e+1));return r?(t.q=3*r[0]-3,e+r[0].length):-1}function Gu(t,n,e){var r=Ou.exec(n.slice(e,e+2));return r?(t.m=r[0]-1,e+r[0].length):-1}function Qu(t,n,e){var r=Ou.exec(n.slice(e,e+2));return r?(t.d=+r[0],e+r[0].length):-1}function Ju(t,n,e){var r=Ou.exec(n.slice(e,e+3));return r?(t.m=0,t.d=+r[0],e+r[0].length):-1}function Ku(t,n,e){var r=Ou.exec(n.slice(e,e+2));return r?(t.H=+r[0],e+r[0].length):-1}function tl(t,n,e){var r=Ou.exec(n.slice(e,e+2));return r?(t.M=+r[0],e+r[0].length):-1}function nl(t,n,e){var r=Ou.exec(n.slice(e,e+2));return r?(t.S=+r[0],e+r[0].length):-1}function el(t,n,e){var r=Ou.exec(n.slice(e,e+3));return r?(t.L=+r[0],e+r[0].length):-1}function rl(t,n,e){var r=Ou.exec(n.slice(e,e+6));return r?(t.L=Math.floor(r[0]/1e3),e+r[0].length):-1}function il(t,n,e){var r=Ru.exec(n.slice(e,e+1));return r?e+r[0].length:-1}function al(t,n,e){var r=Ou.exec(n.slice(e));return r?(t.Q=+r[0],e+r[0].length):-1}function ol(t,n,e){var r=Ou.exec(n.slice(e));return r?(t.s=+r[0],e+r[0].length):-1}function cl(t,n){return zu(t.getDate(),n,2)}function fl(t,n){return zu(t.getHours(),n,2)}function ul(t,n){return zu(t.getHours()%12||12,n,2)}function ll(t,n){return zu(1+Kf.count(wu(t),t),n,3)}function sl(t,n){return zu(t.getMilliseconds(),n,3)}function dl(t,n){return sl(t,n)+"000"}function hl(t,n){return zu(t.getMonth()+1,n,2)}function pl(t,n){return zu(t.getMinutes(),n,2)}function gl(t,n){return zu(t.getSeconds(),n,2)}function ml(t){var n=t.getDay();return 0===n?7:n}function bl(t,n){return zu(ru.count(wu(t)-1,t),n,2)}function yl(t){var n=t.getDay();return n>=4||0===n?cu(t):cu.ceil(t)}function vl(t,n){return t=yl(t),zu(cu.count(wu(t),t)+(4===wu(t).getDay()),n,2)}function wl(t){return t.getDay()}function xl(t,n){return zu(iu.count(wu(t)-1,t),n,2)}function Ml(t,n){return zu(t.getFullYear()%100,n,2)}function kl(t,n){return zu((t=yl(t)).getFullYear()%100,n,2)}function _l(t,n){return zu(t.getFullYear()%1e4,n,4)}function $l(t,n){var e=t.getDay();return zu((t=e>=4||0===e?cu(t):cu.ceil(t)).getFullYear()%1e4,n,4)}function Al(t){var n=t.getTimezoneOffset();return(n>0?"-":(n*=-1,"+"))+zu(n/60|0,"0",2)+zu(n%60,"0",2)}function Tl(t,n){return zu(t.getUTCDate(),n,2)}function Sl(t,n){return zu(t.getUTCHours(),n,2)}function El(t,n){return zu(t.getUTCHours()%12||12,n,2)}function Nl(t,n){return zu(1+tu.count(xu(t),t),n,3)}function Cl(t,n){return zu(t.getUTCMilliseconds(),n,3)}function Ll(t,n){return Cl(t,n)+"000"}function Dl(t,n){return zu(t.getUTCMonth()+1,n,2)}function Ol(t,n){return zu(t.getUTCMinutes(),n,2)}function Rl(t,n){return zu(t.getUTCSeconds(),n,2)}function Fl(t){var n=t.getUTCDay();return 0===n?7:n}function zl(t,n){return zu(su.count(xu(t)-1,t),n,2)}function Ul(t){var n=t.getUTCDay();return n>=4||0===n?gu(t):gu.ceil(t)}function jl(t,n){return t=Ul(t),zu(gu.count(xu(t),t)+(4===xu(t).getUTCDay()),n,2)}function ql(t){return t.getUTCDay()}function Il(t,n){return zu(du.count(xu(t)-1,t),n,2)}function Pl(t,n){return zu(t.getUTCFullYear()%100,n,2)}function Bl(t,n){return zu((t=Ul(t)).getUTCFullYear()%100,n,2)}function Wl(t,n){return zu(t.getUTCFullYear()%1e4,n,4)}function Hl(t,n){var e=t.getUTCDay();return zu((t=e>=4||0===e?gu(t):gu.ceil(t)).getUTCFullYear()%1e4,n,4)}function Yl(){return"+0000"}function Vl(){return"%"}function Xl(t){return+t}function Zl(t){return Math.floor(+t/1e3)}function Gl(t){return new Date(t)}function Ql(t){return t instanceof Date?+t:+new Date(+t)}function Jl(t,n,e,r,i,a,o,c,f,u){var l=df(),s=l.invert,d=l.domain,h=u(".%L"),p=u(":%S"),g=u("%I:%M"),m=u("%I %p"),b=u("%a %d"),y=u("%b %d"),v=u("%B"),w=u("%Y");function x(t){return(f(t)<t?h:c(t)<t?p:o(t)<t?g:a(t)<t?m:r(t)<t?i(t)<t?b:y:e(t)<t?v:w)(t)}return l.invert=function(t){return new Date(s(t))},l.domain=function(t){return arguments.length?d(Array.from(t,Ql)):d().map(Gl)},l.ticks=function(n){var e=d();return t(e[0],e[e.length-1],null==n?10:n)},l.tickFormat=function(t,n){return null==n?x:u(n)},l.nice=function(t){var e=d();return t&&"function"==typeof t.range||(t=n(e[0],e[e.length-1],null==t?10:t)),t?d(bf(e,t)):l},l.copy=function(){return lf(l,Jl(t,n,e,r,i,a,o,c,f,u))},l}function Kl(t,n){return n.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function ts(){var t,n,e,r,i,a,o,c=0,f=.5,u=1,l=1,s=of,d=!1;function h(t){return isNaN(t=+t)?o:(t=.5+((t=+a(t))-n)*(l*t<l*n?r:i),s(d?Math.max(0,Math.min(1,t)):t))}function p(t){return function(n){var e,r,i;return arguments.length?([e,r,i]=n,s=Uc(t,[e,r,i]),h):[s(0),s(.5),s(1)]}}return h.domain=function(o){return arguments.length?([c,f,u]=o,t=a(c=+c),n=a(f=+f),e=a(u=+u),r=t===n?0:.5/(n-t),i=n===e?0:.5/(e-n),l=n<t?-1:1,h):[c,f,u]},h.clamp=function(t){return arguments.length?(d=!!t,h):d},h.interpolator=function(t){return arguments.length?(s=t,h):s},h.range=p(zc),h.rangeRound=p(fc),h.unknown=function(t){return arguments.length?(o=t,h):o},function(o){return a=o,t=o(c),n=o(f),e=o(u),r=t===n?0:.5/(n-t),i=n===e?0:.5/(e-n),l=n<t?-1:1,h}}function ns(){var t=pf(ts()(of));return t.copy=function(){return Kl(t,ns())},Xc.apply(t,arguments)}function es(){var t=_f(ts()).domain([.1,1,10]);return t.copy=function(){return Kl(t,es()).base(t.base())},Xc.apply(t,arguments)}function rs(){var t=Sf(ts());return t.copy=function(){return Kl(t,rs()).constant(t.constant())},Xc.apply(t,arguments)}function is(){var t=Df(ts());return t.copy=function(){return Kl(t,is()).exponent(t.exponent())},Xc.apply(t,arguments)}function as(t){for(var n=t.length/6|0,e=new Array(n),r=0;r<n;)e[r]="#"+t.slice(6*r,6*++r);return e}!function(t){Nu=function(t){var n=t.dateTime,e=t.date,r=t.time,i=t.periods,a=t.days,o=t.shortDays,c=t.months,f=t.shortMonths,u=ju(i),l=qu(i),s=ju(a),d=qu(a),h=ju(o),p=qu(o),g=ju(c),m=qu(c),b=ju(f),y=qu(f),v={a:function(t){return o[t.getDay()]},A:function(t){return a[t.getDay()]},b:function(t){return f[t.getMonth()]},B:function(t){return c[t.getMonth()]},c:null,d:cl,e:cl,f:dl,g:kl,G:$l,H:fl,I:ul,j:ll,L:sl,m:hl,M:pl,p:function(t){return i[+(t.getHours()>=12)]},q:function(t){return 1+~~(t.getMonth()/3)},Q:Xl,s:Zl,S:gl,u:ml,U:bl,V:vl,w:wl,W:xl,x:null,X:null,y:Ml,Y:_l,Z:Al,"%":Vl},w={a:function(t){return o[t.getUTCDay()]},A:function(t){return a[t.getUTCDay()]},b:function(t){return f[t.getUTCMonth()]},B:function(t){return c[t.getUTCMonth()]},c:null,d:Tl,e:Tl,f:Ll,g:Bl,G:Hl,H:Sl,I:El,j:Nl,L:Cl,m:Dl,M:Ol,p:function(t){return i[+(t.getUTCHours()>=12)]},q:function(t){return 1+~~(t.getUTCMonth()/3)},Q:Xl,s:Zl,S:Rl,u:Fl,U:zl,V:jl,w:ql,W:Il,x:null,X:null,y:Pl,Y:Wl,Z:Yl,"%":Vl},x={a:function(t,n,e){var r=h.exec(n.slice(e));return r?(t.w=p.get(r[0].toLowerCase()),e+r[0].length):-1},A:function(t,n,e){var r=s.exec(n.slice(e));return r?(t.w=d.get(r[0].toLowerCase()),e+r[0].length):-1},b:function(t,n,e){var r=b.exec(n.slice(e));return r?(t.m=y.get(r[0].toLowerCase()),e+r[0].length):-1},B:function(t,n,e){var r=g.exec(n.slice(e));return r?(t.m=m.get(r[0].toLowerCase()),e+r[0].length):-1},c:function(t,e,r){return _(t,n,e,r)},d:Qu,e:Qu,f:rl,g:Vu,G:Yu,H:Ku,I:Ku,j:Ju,L:el,m:Gu,M:tl,p:function(t,n,e){var r=u.exec(n.slice(e));return r?(t.p=l.get(r[0].toLowerCase()),e+r[0].length):-1},q:Zu,Q:al,s:ol,S:nl,u:Pu,U:Bu,V:Wu,w:Iu,W:Hu,x:function(t,n,r){return _(t,e,n,r)},X:function(t,n,e){return _(t,r,n,e)},y:Vu,Y:Yu,Z:Xu,"%":il};function M(t,n){return function(e){var r,i,a,o=[],c=-1,f=0,u=t.length;for(e instanceof Date||(e=new Date(+e));++c<u;)37===t.charCodeAt(c)&&(o.push(t.slice(f,c)),null!=(i=Du[r=t.charAt(++c)])?r=t.charAt(++c):i="e"===r?" ":"0",(a=n[r])&&(r=a(e,i)),o.push(r),f=c+1);return o.push(t.slice(f,c)),o.join("")}}function k(t,n){return function(e){var r,i,a=Eu(1900,void 0,1);if(_(a,t,e+="",0)!=e.length)return null;if("Q"in a)return new Date(a.Q);if("s"in a)return new Date(1e3*a.s+("L"in a?a.L:0));if(n&&!("Z"in a)&&(a.Z=0),"p"in a&&(a.H=a.H%12+12*a.p),void 0===a.m&&(a.m="q"in a?a.q:0),"V"in a){if(a.V<1||a.V>53)return null;"w"in a||(a.w=1),"Z"in a?(i=(r=Su(Eu(a.y,0,1))).getUTCDay(),r=i>4||0===i?du.ceil(r):du(r),r=tu.offset(r,7*(a.V-1)),a.y=r.getUTCFullYear(),a.m=r.getUTCMonth(),a.d=r.getUTCDate()+(a.w+6)%7):(i=(r=Tu(Eu(a.y,0,1))).getDay(),r=i>4||0===i?iu.ceil(r):iu(r),r=Kf.offset(r,7*(a.V-1)),a.y=r.getFullYear(),a.m=r.getMonth(),a.d=r.getDate()+(a.w+6)%7)}else("W"in a||"U"in a)&&("w"in a||(a.w="u"in a?a.u%7:"W"in a?1:0),i="Z"in a?Su(Eu(a.y,0,1)).getUTCDay():Tu(Eu(a.y,0,1)).getDay(),a.m=0,a.d="W"in a?(a.w+6)%7+7*a.W-(i+5)%7:a.w+7*a.U-(i+6)%7);return"Z"in a?(a.H+=a.Z/100|0,a.M+=a.Z%100,Su(a)):Tu(a)}}function _(t,n,e,r){for(var i,a,o=0,c=n.length,f=e.length;o<c;){if(r>=f)return-1;if(37===(i=n.charCodeAt(o++))){if(i=n.charAt(o++),!(a=x[i in Du?n.charAt(o++):i])||(r=a(t,e,r))<0)return-1}else if(i!=e.charCodeAt(r++))return-1}return r}return v.x=M(e,v),v.X=M(r,v),v.c=M(n,v),w.x=M(e,w),w.X=M(r,w),w.c=M(n,w),{format:function(t){var n=M(t+="",v);return n.toString=function(){return t},n},parse:function(t){var n=k(t+="",!1);return n.toString=function(){return t},n},utcFormat:function(t){var n=M(t+="",w);return n.toString=function(){return t},n},utcParse:function(t){var n=k(t+="",!0);return n.toString=function(){return t},n}}}(t),Cu=Nu.format,Nu.parse,Lu=Nu.utcFormat,Nu.utcParse}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});var os=as("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),cs=as("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),fs=as("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),us=as("4269d0efb118ff725c6cc5b03ca951ff8ab7a463f297bbf59c6b4e9498a0"),ls=as("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),ss=as("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),ds=as("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),hs=as("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),ps=as("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),gs=as("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"),ms=as("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab"),bs=t=>cr(t[t.length-1]),ys=new Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(as),vs=bs(ys),ws=new Array(3).concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(as),xs=bs(ws),Ms=new Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(as),ks=bs(Ms),_s=new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(as),$s=bs(_s),As=new Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(as),Ts=bs(As),Ss=new Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(as),Es=bs(Ss),Ns=new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(as),Cs=bs(Ns),Ls=new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(as),Ds=bs(Ls),Os=new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(as),Rs=bs(Os),Fs=new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(as),zs=bs(Fs),Us=new Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(as),js=bs(Us),qs=new Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(as),Is=bs(qs),Ps=new Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(as),Bs=bs(Ps),Ws=new Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(as),Hs=bs(Ws),Ys=new Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(as),Vs=bs(Ys),Xs=new Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(as),Zs=bs(Xs),Gs=new Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(as),Qs=bs(Gs),Js=new Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(as),Ks=bs(Js),td=new Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(as),nd=bs(td),ed=new Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(as),rd=bs(ed),id=new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(as),ad=bs(id),od=new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(as),cd=bs(od),fd=new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(as),ud=bs(fd),ld=new Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(as),sd=bs(ld),dd=new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(as),hd=bs(dd),pd=new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(as),gd=bs(pd),md=new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(as),bd=bs(md);function yd(t){return t=Math.max(0,Math.min(1,t)),"rgb("+Math.max(0,Math.min(255,Math.round(-4.54-t*(35.34-t*(2381.73-t*(6402.7-t*(7024.72-2710.57*t)))))))+", "+Math.max(0,Math.min(255,Math.round(32.49+t*(170.73+t*(52.82-t*(131.46-t*(176.58-67.37*t)))))))+", "+Math.max(0,Math.min(255,Math.round(81.24+t*(442.36-t*(2482.43-t*(6167.24-t*(6614.94-2475.67*t)))))))+")"}var vd=-.14861,wd=1.78277,xd=-.29227,Md=-.90649,kd=1.97294,_d=kd*Md,$d=kd*wd,Ad=wd*xd-Md*vd;function Td(t,n,e,r){return 1===arguments.length?function(t){if(t instanceof Sd)return new Sd(t.h,t.s,t.l,t.opacity);t instanceof qe||(t=Ue(t));var n=t.r/255,e=t.g/255,r=t.b/255,i=(Ad*r+_d*n-$d*e)/(Ad+_d-$d),a=r-i,o=(kd*(e-i)-xd*a)/Md,c=Math.sqrt(o*o+a*a)/(kd*i*(1-i)),f=c?Math.atan2(o,a)*dc-120:NaN;return new Sd(f<0?f+360:f,c,i,t.opacity)}(t):new Sd(t,n,e,null==r?1:r)}function Sd(t,n,e,r){this.h=+t,this.s=+n,this.l=+e,this.opacity=+r}function Ed(t){return function n(e){function r(n,r){var i=t((n=Td(n)).h,(r=Td(r)).h),a=ir(n.s,r.s),o=ir(n.l,r.l),c=ir(n.opacity,r.opacity);return function(t){return n.h=i(t),n.s=a(t),n.l=o(Math.pow(t,e)),n.opacity=c(t),n+""}}return e=+e,r.gamma=n,r}(1)}be(Sd,Td,ye(ve,{brighter(t){return t=null==t?xe:Math.pow(xe,t),new Sd(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=null==t?we:Math.pow(we,t),new Sd(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=isNaN(this.h)?0:(this.h+120)*sc,n=+this.l,e=isNaN(this.s)?0:this.s*n*(1-n),r=Math.cos(t),i=Math.sin(t);return new qe(255*(n+e*(vd*r+wd*i)),255*(n+e*(xd*r+Md*i)),255*(n+e*(kd*r)),this.opacity)}}));Ed(er);var Nd=Ed(ir),Cd=Nd(Td(300,.5,0),Td(-240,.5,1)),Ld=Nd(Td(-100,.75,.35),Td(80,1.5,.8)),Dd=Nd(Td(260,.75,.35),Td(80,1.5,.8)),Od=Td();function Rd(t){(t<0||t>1)&&(t-=Math.floor(t));var n=Math.abs(t-.5);return Od.h=360*t-100,Od.s=1.5-1.5*n,Od.l=.8-.9*n,Od+""}var Fd=je(),zd=Math.PI/3,Ud=2*Math.PI/3;function jd(t){var n;return t=(.5-t)*Math.PI,Fd.r=255*(n=Math.sin(t))*n,Fd.g=255*(n=Math.sin(t+zd))*n,Fd.b=255*(n=Math.sin(t+Ud))*n,Fd+""}function qd(t){return t=Math.max(0,Math.min(1,t)),"rgb("+Math.max(0,Math.min(255,Math.round(34.61+t*(1172.33-t*(10793.56-t*(33300.12-t*(38394.49-14825.05*t)))))))+", "+Math.max(0,Math.min(255,Math.round(23.31+t*(557.33+t*(1225.33-t*(3574.96-t*(1073.77+707.56*t)))))))+", "+Math.max(0,Math.min(255,Math.round(27.2+t*(3211.1-t*(15327.97-t*(27814-t*(22569.18-6838.66*t)))))))+")"}function Id(t){var n=t.length;return function(e){return t[Math.max(0,Math.min(n-1,Math.floor(e*n)))]}}var Pd=Id(as("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725")),Bd=Id(as("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),Wd=Id(as("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),Hd=Id(as("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));function Yd(t){return"string"==typeof t?new vn([[document.querySelector(t)]],[document.documentElement]):new vn([[t]],yn)}Math.abs,Math.atan2;const Vd=Math.cos,Xd=(Math.max,Math.min),Zd=Math.sin,Gd=Math.sqrt,Qd=Math.PI,Jd=2*Qd;const Kd=Gd(3);var th={draw(t,n){const e=.59436*Gd(n+Xd(n/28,.75)),r=e/2,i=r*Kd;t.moveTo(0,e),t.lineTo(0,-e),t.moveTo(-i,-r),t.lineTo(i,r),t.moveTo(-i,r),t.lineTo(i,-r)}},nh={draw(t,n){const e=Gd(n/Qd);t.moveTo(e,0),t.arc(0,0,e,0,Jd)}},eh={draw(t,n){const e=Gd(n/5)/2;t.moveTo(-3*e,-e),t.lineTo(-e,-e),t.lineTo(-e,-3*e),t.lineTo(e,-3*e),t.lineTo(e,-e),t.lineTo(3*e,-e),t.lineTo(3*e,e),t.lineTo(e,e),t.lineTo(e,3*e),t.lineTo(-e,3*e),t.lineTo(-e,e),t.lineTo(-3*e,e),t.closePath()}};const rh=Gd(1/3),ih=2*rh;var ah={draw(t,n){const e=Gd(n/ih),r=e*rh;t.moveTo(0,-e),t.lineTo(r,0),t.lineTo(0,e),t.lineTo(-r,0),t.closePath()}},oh={draw(t,n){const e=.62625*Gd(n);t.moveTo(0,-e),t.lineTo(e,0),t.lineTo(0,e),t.lineTo(-e,0),t.closePath()}},ch={draw(t,n){const e=.87559*Gd(n-Xd(n/7,2));t.moveTo(-e,0),t.lineTo(e,0),t.moveTo(0,e),t.lineTo(0,-e)}},fh={draw(t,n){const e=Gd(n),r=-e/2;t.rect(r,r,e,e)}},uh={draw(t,n){const e=.4431*Gd(n);t.moveTo(e,e),t.lineTo(e,-e),t.lineTo(-e,-e),t.lineTo(-e,e),t.closePath()}};const lh=Zd(Qd/10)/Zd(7*Qd/10),sh=Zd(Jd/10)*lh,dh=-Vd(Jd/10)*lh;var hh={draw(t,n){const e=Gd(.8908130915292852*n),r=sh*e,i=dh*e;t.moveTo(0,-e),t.lineTo(r,i);for(let a=1;a<5;++a){const n=Jd*a/5,o=Vd(n),c=Zd(n);t.lineTo(c*e,-o*e),t.lineTo(o*r-c*i,c*r+o*i)}t.closePath()}};const ph=Gd(3);var gh={draw(t,n){const e=-Gd(n/(3*ph));t.moveTo(0,2*e),t.lineTo(-ph*e,-e),t.lineTo(ph*e,-e),t.closePath()}};const mh=Gd(3);var bh={draw(t,n){const e=.6824*Gd(n),r=e/2,i=e*mh/2;t.moveTo(0,-e),t.lineTo(i,r),t.lineTo(-i,r),t.closePath()}};const yh=-.5,vh=Gd(3)/2,wh=1/Gd(12),xh=3*(wh/2+1);var Mh={draw(t,n){const e=Gd(n/xh),r=e/2,i=e*wh,a=r,o=e*wh+e,c=-a,f=o;t.moveTo(r,i),t.lineTo(a,o),t.lineTo(c,f),t.lineTo(yh*r-vh*i,vh*r+yh*i),t.lineTo(yh*a-vh*o,vh*a+yh*o),t.lineTo(yh*c-vh*f,vh*c+yh*f),t.lineTo(yh*r+vh*i,yh*i-vh*r),t.lineTo(yh*a+vh*o,yh*o-vh*a),t.lineTo(yh*c+vh*f,yh*f-vh*c),t.closePath()}},kh={draw(t,n){const e=.6189*Gd(n-Xd(n/6,1.7));t.moveTo(-e,-e),t.lineTo(e,e),t.moveTo(-e,e),t.lineTo(e,-e)}};const _h=[nh,eh,ah,fh,hh,gh,Mh],$h=[nh,ch,kh,bh,th,uh,oh];function Ah(t,n,e){this.k=t,this.x=n,this.y=e}Ah.prototype={constructor:Ah,scale:function(t){return 1===t?this:new Ah(this.k*t,this.x,this.y)},translate:function(t,n){return 0===t&0===n?this:new Ah(this.k,this.x+this.k*t,this.y+this.k*n)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};new Ah(1,0,0);function Th(t){return null!=t&&!Number.isNaN(t)}function Sh(t,n){return+Th(n)-+Th(t)||r(t,n)}function Eh(t,n){return+Th(n)-+Th(t)||i(t,n)}function Nh(t){return null!=t&&""!=`${t}`}function Ch(t){return isFinite(t)?t:NaN}function Lh(t){return t>0&&isFinite(t)?t:NaN}function Dh(t){return t<0&&isFinite(t)?t:NaN}Ah.prototype;const Oh=/^(?:[-+]\d{2})?\d{4}(?:-\d{2}(?:-\d{2})?)?(?:T\d{2}:\d{2}(?::\d{2}(?:\.\d{3})?)?(?:Z|[-+]\d{2}:?\d{2})?)?$/;function Rh(t,n){return Oh.test(t+="")?new Date(t):"function"==typeof n?n(t):n}function Fh(t){if(null==t)return;return i(t[0],t[t.length-1])}const zh=1e3,Uh=6e4,jh=36e5,qh=864e5,Ih=7*qh,Ph=30*qh,Bh=365*qh,Wh=[["millisecond",1],["2 milliseconds",2],["5 milliseconds",5],["10 milliseconds",10],["20 milliseconds",20],["50 milliseconds",50],["100 milliseconds",100],["200 milliseconds",200],["500 milliseconds",500],["second",zh],["5 seconds",5e3],["15 seconds",15e3],["30 seconds",3e4],["minute",Uh],["5 minutes",3e5],["15 minutes",9e5],["30 minutes",18e5],["hour",jh],["3 hours",108e5],["6 hours",216e5],["12 hours",432e5],["day",qh],["2 days",2*qh],["week",Ih],["2 weeks",2*Ih],["month",Ph],["3 months",3*Ph],["6 months",6*Ph],["year",Bh],["2 years",2*Bh],["5 years",5*Bh],["10 years",10*Bh],["20 years",20*Bh],["50 years",50*Bh],["100 years",100*Bh]],Hh=new Map([["second",zh],["minute",Uh],["hour",jh],["day",qh],["monday",Ih],["tuesday",Ih],["wednesday",Ih],["thursday",Ih],["friday",Ih],["saturday",Ih],["sunday",Ih],["week",Ih],["month",Ph],["year",Bh]]),Yh=new Map([["second",Xf],["minute",Zf],["hour",Qf],["day",Kf],["monday",iu],["tuesday",au],["wednesday",ou],["thursday",cu],["friday",fu],["saturday",uu],["sunday",ru],["week",ru],["month",yu],["year",wu]]),Vh=new Map([["second",Xf],["minute",Gf],["hour",Jf],["day",nu],["monday",du],["tuesday",hu],["wednesday",pu],["thursday",gu],["friday",mu],["saturday",bu],["sunday",su],["week",su],["month",vu],["year",xu]]),Xh=Symbol("intervalDuration"),Zh=Symbol("intervalType");for(const[it,rx]of Yh)rx[Xh]=Hh.get(it),rx[Zh]="time";for(const[it,rx]of Vh)rx[Xh]=Hh.get(it),rx[Zh]="utc";const Gh=[["year",xu,"utc"],["month",vu,"utc"],["day",nu,"utc",6*Ph],["hour",Jf,"utc",3*qh],["minute",Gf,"utc",216e5],["second",Xf,"utc",18e5]],Qh=[["year",wu,"time"],["month",yu,"time"],["day",Kf,"time",6*Ph],["hour",Qf,"time",3*qh],["minute",Zf,"time",216e5],["second",Xf,"time",18e5]],Jh=[Gh[0],Qh[0],Gh[1],Qh[1],Gh[2],Qh[2],...Gh.slice(3)];function Kh(t){let n=`${t}`.toLowerCase();n.endsWith("s")&&(n=n.slice(0,-1));let e=1;const r=/^(?:(\d+)\s+)/.exec(n);switch(r&&(n=n.slice(r[0].length),e=+r[1]),n){case"quarter":n="month",e*=3;break;case"half":n="month",e*=6}let i=Vh.get(n);if(!i)throw new Error(`unknown interval: ${t}`);if(e>1&&!i.every)throw new Error(`non-periodic interval: ${n}`);return[n,e]}function tp(t){return ep(Kh(t),"time")}function np(t){return ep(Kh(t),"utc")}function ep([t,n],e){let r=("time"===e?Yh:Vh).get(t);return n>1&&(r=r.every(n),r[Xh]=Hh.get(t)*n,r[Zh]=e),r}function rp(t,n){if(!(n>1))return;const e=t[Xh];if(!Wh.some((([,t])=>t===e)))return;if(e%qh==0&&qh<e&&e<Ph)return;const[r]=Wh[a((([,t])=>Math.log(t))).center(Wh,Math.log(e*n))];return("time"===t[Zh]?tp:np)(r)}function ip(t,n,e){const r="time"===n?Cu:Lu;if(null==e)return r("year"===t?"%Y":"month"===t?"%Y-%m":"day"===t?"%Y-%m-%d":"hour"===t||"minute"===t?"%Y-%m-%dT%H:%M":"second"===t?"%Y-%m-%dT%H:%M:%S":"%Y-%m-%dT%H:%M:%S.%L");const i=function(t){return"left"===t||"right"===t?(t,n)=>`\n${t}\n${n}`:"top"===t?(t,n)=>`${n}\n${t}`:(t,n)=>`${t}\n${n}`}(e);switch(t){case"millisecond":return op(r(".%L"),r(":%M:%S"),i);case"second":return op(r(":%S"),r("%-I:%M"),i);case"minute":return op(r("%-I:%M"),r("%p"),i);case"hour":return op(r("%-I %p"),r("%b %-d"),i);case"day":return op(r("%-d"),r("%b"),i);case"month":return op(r("%b"),r("%Y"),i);case"year":return r("%Y")}throw new Error("unable to format time ticks")}function ap(t,n,e){const r=k(function(t,n=U){const e=[];let r,i=!1;for(const a of t)i&&e.push(n(r,a)),r=a,i=!0;return e}(n,((t,n)=>Math.abs(n-t))));if(r<1e3)return ip("millisecond","utc",e);for(const[i,a,o,c]of function(t){return"time"===t?Qh:"utc"===t?Gh:Jh}(t)){if(r>c)break;if("hour"===i&&!r)break;if(n.every((t=>a.floor(t)>=t)))return ip(i,o,e)}}function op(t,n,e){return(r,i,a)=>{const o=t(r,i),c=n(r,i),f=i-Fh(a);return i!==f&&void 0!==a[f]&&c===n(a[f],f)?o:e(o,c)}}const cp=Object.getPrototypeOf(Uint8Array),fp=Object.prototype.toString,up=Symbol("reindex");function lp(t,n,e){const r=typeof n;return"string"===r?sp(t,pp(n),e):"function"===r?sp(t,n,e):"number"===r||n instanceof Date||"boolean"===r?Lp(t,Mp(n),e):"function"==typeof n?.transform?dp(n.transform(t),e):function(t,n){return null!=t&&n?qp(t,n):t}(dp(n,e),t?.[up])}function sp(t,n,e){return Lp(t,e?.prototype instanceof cp?function(t){return(n,e)=>_p(t(n,e))}(n):n,e)}function dp(t,n){return void 0===n?Cp(t):t instanceof n?t:n.prototype instanceof cp&&!(t instanceof cp)?n.from(t,_p):n.from(t)}const hp=[null],pp=t=>n=>n[t],gp={transform:jp},mp={transform:t=>t},bp=()=>!0,yp=t=>null==t?t:`${t}`,vp=t=>null==t?t:+t,wp=t=>t?t[0]:void 0,xp=t=>t?t[1]:void 0,Mp=t=>()=>t;function kp(t){return t instanceof cp?t:Lp(t,_p,Float64Array)}function _p(t){return null==t?NaN:Number(t)}function $p(t){return Lp(t,Ap)}function Ap(t){return t instanceof Date&&!isNaN(t)?t:"string"==typeof t?Rh(t):null==t||isNaN(t=+t)?void 0:new Date(t)}function Tp(t,n){return void 0===t&&(t=n),null===t?[void 0,"none"]:eg(t)?[void 0,t]:[t,void 0]}function Sp(t,n){return void 0===t&&(t=n),null===t||"number"==typeof t?[void 0,t]:[t,void 0]}function Ep(t,n,e){if(null!=t)return Np(t,n,e)}function Np(t,n,e){const r=`${t}`.toLowerCase();if(!e.includes(r))throw new Error(`invalid ${n}: ${t}`);return r}function Cp(t){return null==t||t instanceof Array||t instanceof cp?t:Array.from(t)}function Lp(t,n,e=Array){return null==t?t:t instanceof e?t.map(n):e.from(t,n)}function Dp(t,n=Array){return t instanceof n?t.slice():n.from(t)}function Op(t){return t?.toString===fp}function Rp(t){return Op(t)&&(void 0!==t.type||void 0!==t.domain)}function Fp(t){return Op(t)&&"function"!=typeof t.transform}function zp(t){return Fp(t)&&void 0===t.value&&void 0===t.channel}function Up(t,n){return void 0===t&&void 0===n?[wp,xp]:[t,n]}function jp(t){const n=t.length,e=new Uint32Array(n);for(let r=0;r<n;++r)e[r]=r;return e}function qp(t,n){return Lp(n,(n=>t[n]),t.constructor)}function Ip(t){return null!==t&&"object"==typeof t?t.valueOf():t}function Pp(t,n){return"string"==typeof t?t:t&&void 0!==t.label?t.label:n}function Bp(t,n){const e=Wp(t,n);return e&&(t=>Th(t)?e.floor(t):t)}function Wp(t,n){if(null!=t){if("number"==typeof t)return function(t){t=+t,0<t&&t<1&&Number.isInteger(1/t)&&(t=-1/t);const n=Math.abs(t);return t<0?{floor:t=>Math.floor(t*n)/n,offset:(t,e=1)=>(t*n+Math.floor(e))/n,range:(t,e)=>j(Math.ceil(t*n),e*n).map((t=>t/n))}:{floor:t=>Math.floor(t/n)*n,offset:(t,e=1)=>t+n*Math.floor(e),range:(t,e)=>j(Math.ceil(t/n),e/n).map((t=>t*n))}}(t);if("string"==typeof t)return("time"===n?tp:np)(t);if("function"!=typeof t.floor)throw new Error("invalid interval; missing floor method");if("function"!=typeof t.offset)throw new Error("invalid interval; missing offset method");return t}}function Hp(t,n){if((t=Wp(t,n))&&"function"!=typeof t.range)throw new Error("invalid interval: missing range method");return t}function Yp(t){return"function"==typeof t?.range}function Vp(t){return void 0===t||Fp(t)?t:{value:t}}function Xp(t){return t&&"function"==typeof t[Symbol.iterator]}function Zp(t){for(const n of t)if(null!=n)return"object"!=typeof n||n instanceof Date}function Gp(t){for(const n of t){if(null==n)continue;const t=typeof n;return"string"===t||"boolean"===t}}function Qp(t){for(const n of t)if(null!=n)return n instanceof Date}function Jp(t){for(const n of t)if(null!=n)return"string"==typeof n&&isNaN(n)&&Rh(n)}function Kp(t){for(const n of t)if(null!=n){if("string"!=typeof n)return!1;if(n.trim())return!isNaN(n)}}function tg(t,n){let e;for(const r of t)if(null!=r){if(!n(r))return!1;e=!0}return e}const ng=new Set("none,currentcolor,transparent,aliceblue,antiquewhite,aqua,aquamarine,azure,beige,bisque,black,blanchedalmond,blue,blueviolet,brown,burlywood,cadetblue,chartreuse,chocolate,coral,cornflowerblue,cornsilk,crimson,cyan,darkblue,darkcyan,darkgoldenrod,darkgray,darkgreen,darkgrey,darkkhaki,darkmagenta,darkolivegreen,darkorange,darkorchid,darkred,darksalmon,darkseagreen,darkslateblue,darkslategray,darkslategrey,darkturquoise,darkviolet,deeppink,deepskyblue,dimgray,dimgrey,dodgerblue,firebrick,floralwhite,forestgreen,fuchsia,gainsboro,ghostwhite,gold,goldenrod,gray,green,greenyellow,grey,honeydew,hotpink,indianred,indigo,ivory,khaki,lavender,lavenderblush,lawngreen,lemonchiffon,lightblue,lightcoral,lightcyan,lightgoldenrodyellow,lightgray,lightgreen,lightgrey,lightpink,lightsalmon,lightseagreen,lightskyblue,lightslategray,lightslategrey,lightsteelblue,lightyellow,lime,limegreen,linen,magenta,maroon,mediumaquamarine,mediumblue,mediumorchid,mediumpurple,mediumseagreen,mediumslateblue,mediumspringgreen,mediumturquoise,mediumvioletred,midnightblue,mintcream,mistyrose,moccasin,navajowhite,navy,oldlace,olive,olivedrab,orange,orangered,orchid,palegoldenrod,palegreen,paleturquoise,palevioletred,papayawhip,peachpuff,peru,pink,plum,powderblue,purple,rebeccapurple,red,rosybrown,royalblue,saddlebrown,salmon,sandybrown,seagreen,seashell,sienna,silver,skyblue,slateblue,slategray,slategrey,snow,springgreen,steelblue,tan,teal,thistle,tomato,turquoise,violet,wheat,white,whitesmoke,yellow".split(","));function eg(t){return"string"==typeof t&&(t=t.toLowerCase().trim(),/^#[0-9a-f]{3,8}$/.test(t)||/^(?:url|var|rgb|rgba|hsl|hsla|hwb|lab|lch|oklab|oklch|color|color-mix)\(.*\)$/.test(t)||ng.has(t))}function rg(t){return"number"==typeof t&&(0<=t&&t<=1||isNaN(t))}function ig(t){return null==t||ag(t)}function ag(t){return/^\s*none\s*$/i.test(t)}function og(t,n){return Ep(t,n,["middle","top-left","top","top-right","right","bottom-right","bottom","bottom-left","left"])}function cg(t="middle"){return og(t,"frameAnchor")}function fg(t){return Xp(t)?function(t){console.warn("named iterables are deprecated; please use an object instead");const n=new Set;return Object.fromEntries(Array.from(t,(t=>{const{name:e}=t;if(null==e)throw new Error("missing name");const r=`${e}`;if("__proto__"===r)throw new Error(`illegal name: ${r}`);if(n.has(r))throw new Error(`duplicate name: ${r}`);return n.add(r),[e,t]})))}(t):t}function ug(t){return!0===t?t="frame":!1===t?t=null:null!=t&&(t=Np(t,"clip",["frame","sphere"])),t}const lg=Symbol("position"),sg=Symbol("color"),dg=Symbol("radius"),hg=Symbol("length"),pg=Symbol("opacity"),gg=Symbol("symbol"),mg=Symbol("projection"),bg=new Map([["x",lg],["y",lg],["fx",lg],["fy",lg],["r",dg],["color",sg],["opacity",pg],["symbol",gg],["length",hg],["projection",mg]]);const yg=2/Math.sqrt(3),vg={draw(t,n){const e=Math.sqrt(n/Math.PI),r=e*yg,i=r/2;t.moveTo(0,r),t.lineTo(e,i),t.lineTo(e,-i),t.lineTo(0,-r),t.lineTo(-e,-i),t.lineTo(-e,i),t.closePath()}},wg=new Map([["asterisk",th],["circle",nh],["cross",eh],["diamond",ah],["diamond2",oh],["hexagon",vg],["plus",ch],["square",fh],["square2",uh],["star",hh],["times",kh],["triangle",gh],["triangle2",bh],["wye",Mh]]);function xg(t){return t&&"function"==typeof t.draw}function Mg(t){return!!xg(t)||"string"==typeof t&&wg.has(t.toLowerCase())}function kg(t){if(null==t||xg(t))return t;const n=wg.get(`${t}`.toLowerCase());if(n)return n;throw new Error(`invalid symbol: ${t}`)}function _g(t,n,e=$g){if(null==t)return e(t);if("function"==typeof t.reduceIndex)return t;if("function"==typeof t.reduce&&Op(t))return function(t){return console.warn("deprecated reduce interface; implement reduceIndex instead."),{...t,reduceIndex:t.reduce.bind(t)}}(t);if("function"==typeof t)return r=t,{reduceIndex(t,n,e){return r(qp(n,t),e)}};var r;if(/^p\d{2}$/i.test(t))return Ag(function(t){const n=+`${t}`.slice(1)/100;return(t,e)=>D(t,n,e)}(t));switch(`${t}`.toLowerCase()){case"first":return Eg;case"last":return Ng;case"identity":return Sg;case"count":return Cg;case"distinct":return Lg;case"sum":return null==n?Cg:Dg;case"proportion":return Og(n,"data");case"proportion-facet":return Og(n,"facet");case"deviation":return Ag(s);case"min":return Ag(A);case"min-index":return Ag(F);case"max":return Ag(k);case"max-index":return Ag(_);case"mean":return Tg($);case"median":return Tg(R);case"variance":return Ag(l);case"mode":return Ag(z)}return e(t)}function $g(t){throw new Error(`invalid reduce: ${t}`)}function Ag(t){return{reduceIndex(n,e){return t(n,(t=>e[t]))}}}function Tg(t){return{reduceIndex(n,e){const r=t(n,(t=>e[t]));return Qp(e)?new Date(r):r}}}const Sg={reduceIndex(t,n){return qp(n,t)}},Eg={reduceIndex(t,n){return n[t[0]]}},Ng={reduceIndex(t,n){return n[t[t.length-1]]}},Cg={label:"Frequency",reduceIndex(t){return t.length}},Lg={label:"Distinct",reduceIndex(t,n){const e=new p;for(const r of t)e.add(n[r]);return e.size}},Dg=Ag(q);function Og(t,n){return null==t?{scope:n,label:"Frequency",reduceIndex:(t,n,e=1)=>t.length/e}:{scope:n,reduceIndex:(t,n,e=1)=>q(t,(t=>n[t]))/e}}function Rg(t,{scale:n,type:e,value:r,filter:i,hint:a,label:o=Pp(r)},c){return void 0===a&&"function"==typeof r?.transform&&(a=r.hint),Fg(c,{scale:n,type:e,value:lp(t,r),label:o,filter:i,hint:a})}function Fg(t,n){const{scale:e,value:r}=n;if(!0===e||"auto"===e)switch(t){case"fill":case"stroke":case"color":n.scale=!0!==e&&tg(r,eg)?null:"color";break;case"fillOpacity":case"strokeOpacity":case"opacity":n.scale=!0!==e&&tg(r,rg)?null:"opacity";break;case"symbol":!0!==e&&tg(r,Mg)?(n.scale=null,n.value=Lp(r,kg)):n.scale="symbol";break;default:n.scale=bg.has(t)?t:null}else if(!1===e)n.scale=null;else if(null!=e&&!bg.has(e))throw new Error(`unknown scale: ${e}`);return n}function zg(t,n){for(const e in t){const r=t[e];if(r.scale===n)return r}}function Ug(t,n){const e=t.original;if(e===t)return n;const r=n.value,i=n.value=[];for(let a=0;a<e.length;++a){const n=r[e[a][0]];for(const e of t[a])i[e]=n}return n}function jg(t,n,e){const r=qg(t,n);return Lp(qg(t,e),((t,n)=>Math.abs(t-r[n])),Float64Array)}function qg(t,n,e){let r=t[n];if(r||void 0===e||(r=t[e]),r)return r.value;throw new Error(`missing channel: ${n}`)}function Ig(t){if(null==t||"function"==typeof t)return t;switch(`${t}`.toLowerCase()){case"ascending":return Pg;case"descending":return Bg}throw new Error(`invalid order: ${t}`)}function Pg([t,n],[e,r]){return Sh(n,r)||Sh(t,e)}function Bg([t,n],[e,r]){return Eh(n,r)||Sh(t,e)}function Wg(t,n){let e=t[n];if(e){for(;e.source;)e=e.source;return null===e.source?null:e}}const Hg=new Map([["accent",cs],["category10",os],["dark2",fs],["observable10",us],["paired",ls],["pastel1",ss],["pastel2",ds],["set1",hs],["set2",ps],["set3",gs],["tableau10",ms]]);const Yg=new Map([...Hg,["brbg",Xg(ys,vs)],["prgn",Xg(ws,xs)],["piyg",Xg(Ms,ks)],["puor",Xg(_s,$s)],["rdbu",Xg(As,Ts)],["rdgy",Xg(Ss,Es)],["rdylbu",Xg(Ns,Cs)],["rdylgn",Xg(Ls,Ds)],["spectral",Xg(Os,Rs)],["burd",Zg(As,Ts)],["buylrd",Zg(Ns,Cs)],["blues",Vg(od,cd)],["greens",Vg(fd,ud)],["greys",Vg(ld,sd)],["oranges",Vg(md,bd)],["purples",Vg(dd,hd)],["reds",Vg(pd,gd)],["turbo",Gg(qd)],["viridis",Gg(Pd)],["magma",Gg(Bd)],["inferno",Gg(Wd)],["plasma",Gg(Hd)],["cividis",Gg(yd)],["cubehelix",Gg(Cd)],["warm",Gg(Ld)],["cool",Gg(Dd)],["bugn",Vg(Fs,zs)],["bupu",Vg(Us,js)],["gnbu",Vg(qs,Is)],["orrd",Vg(Ps,Bs)],["pubu",Vg(Ys,Vs)],["pubugn",Vg(Ws,Hs)],["purd",Vg(Xs,Zs)],["rdpu",Vg(Gs,Qs)],["ylgn",Vg(td,nd)],["ylgnbu",Vg(Js,Ks)],["ylorbr",Vg(ed,rd)],["ylorrd",Vg(id,ad)],["rainbow",Qg(Rd)],["sinebow",Qg(jd)]]);function Vg(t,n){return({length:e})=>1===e?[t[3][1]]:2===e?[t[3][1],t[3][2]]:(e=Math.max(3,Math.floor(e)))>9?jc(n,e):t[e]}function Xg(t,n){return({length:e})=>2===e?[t[3][0],t[3][2]]:(e=Math.max(3,Math.floor(e)))>11?jc(n,e):t[e]}function Zg(t,n){return({length:e})=>2===e?[t[3][2],t[3][0]]:(e=Math.max(3,Math.floor(e)))>11?jc((t=>n(1-t)),e):t[e].slice().reverse()}function Gg(t){return({length:n})=>jc(t,Math.max(2,Math.floor(n)))}function Qg(t){return({length:n})=>jc(t,Math.floor(n)+1).slice(0,-1)}function Jg(t){const n=`${t}`.toLowerCase();if(!Yg.has(n))throw new Error(`unknown ordinal scheme: ${n}`);return Yg.get(n)}function Kg(t,n){const e=Jg(t),r="function"==typeof e?e({length:n}):e;return r.length!==n?r.slice(0,n):r}const tm=new Map([["brbg",vs],["prgn",xs],["piyg",ks],["puor",$s],["rdbu",Ts],["rdgy",Es],["rdylbu",Cs],["rdylgn",Ds],["spectral",Rs],["burd",t=>Ts(1-t)],["buylrd",t=>Cs(1-t)],["blues",cd],["greens",ud],["greys",sd],["purples",hd],["reds",gd],["oranges",bd],["turbo",qd],["viridis",Pd],["magma",Bd],["inferno",Wd],["plasma",Hd],["cividis",yd],["cubehelix",Cd],["warm",Ld],["cool",Dd],["bugn",zs],["bupu",js],["gnbu",Is],["orrd",Bs],["pubugn",Hs],["pubu",Vs],["purd",Zs],["rdpu",Qs],["ylgnbu",Ks],["ylgn",nd],["ylorbr",rd],["ylorrd",ad],["rainbow",Rd],["sinebow",jd]]);function nm(t){const n=`${t}`.toLowerCase();if(!tm.has(n))throw new Error(`unknown quantitative scheme: ${n}`);return tm.get(n)}const em=new Set(["brbg","prgn","piyg","puor","rdbu","rdgy","rdylbu","rdylgn","spectral","burd","buylrd"]);const rm=t=>n=>t(1-n),im=[0,1],am=new Map([["number",oe],["rgb",ar],["hsl",lc],["hcl",Lc],["lab",function(t,n){var e=ir((t=xc(t)).l,(n=xc(n)).l),r=ir(t.a,n.a),i=ir(t.b,n.b),a=ir(t.opacity,n.opacity);return function(n){return t.l=e(n),t.a=r(n),t.b=i(n),t.opacity=a(n),t+""}}]]);function om(t){const n=`${t}`.toLowerCase();if(!am.has(n))throw new Error(`unknown interpolator: ${n}`);return am.get(n)}function cm(t,n,e,{type:r,nice:i,clamp:a,zero:o,domain:c=pm(t,e),unknown:f,round:u,scheme:l,interval:s,range:h=(bg.get(t)===dg?mm(e,c):bg.get(t)===hg?bm(e,c):bg.get(t)===pg?im:void 0),interpolate:p=(bg.get(t)===sg?null==l&&void 0!==h?ar:nm(void 0!==l?l:"cyclical"===r?"rainbow":"turbo"):u?fc:oe),reverse:g}){if(s=Hp(s,r),"cyclical"!==r&&"sequential"!==r||(r="linear"),"function"!=typeof p&&(p=om(p)),g=!!g,void 0!==h){if((c=Cp(c)).length!==(h=Cp(h)).length){if(1===p.length)throw new Error("invalid piecewise interpolator");p=Uc(p,h),h=void 0}}if(1===p.length?(g&&(p=rm(p),g=!1),void 0===h&&2===(h=Float64Array.from(c,((t,n)=>n/(c.length-1)))).length&&(h=im),n.interpolate((h===im?Mp:wm)(p))):n.interpolate(p),o){const[t,n]=d(c);if(t>0||n<0){(Fh(c=Dp(c))||1)===Math.sign(t)?c[0]=0:c[c.length-1]=0}}return g&&(c=X(c)),n.domain(c).unknown(f),i&&(n.nice(function(t,n){return!0===t?void 0:"number"==typeof t?t:function(t,n){if((t=Hp(t,n))&&"function"!=typeof t.ceil)throw new Error("invalid interval: missing ceil method");return t}(t,n)}(i,r)),c=n.domain()),void 0!==h&&n.range(h),a&&n.clamp(a),{type:r,domain:c,range:h,scale:n,interpolate:p,interval:s}}function fm(t,n,{exponent:e=1,...r}){return cm(t,Of().exponent(e),n,{...r,type:"pow"})}function um(t,n,{base:e=10,domain:r=ym(n),...i}){return cm(t,$f().base(e),n,{...i,domain:r})}function lm(t,n,{constant:e=1,...r}){return cm(t,Ef().constant(e),n,r)}function sm(t,n,{range:e,quantiles:r=(void 0===e?5:(e=[...e]).length),n:i=r,scheme:a="rdylbu",domain:o=vm(n),unknown:c,interpolate:f,reverse:u}){return void 0===e&&(e=void 0!==f?jc(f,i):bg.get(t)===sg?Kg(a,i):void 0),o.length>0&&(o=Rf(o,void 0===e?{length:i}:e).quantiles()),dm(t,n,{domain:o,range:e,reverse:u,unknown:c})}function dm(t,n,{domain:e=[0],unknown:r,scheme:a="rdylbu",interpolate:o,range:c=(void 0!==o?jc(o,e.length+1):bg.get(t)===sg?Kg(a,e.length+1):void 0),reverse:f}){const u=Fh(e=Cp(e));if(!isNaN(u)&&!function(t,n){for(let e=1,r=t.length,a=t[0];e<r;++e){const r=i(a,a=t[e]);if(0!==r&&r!==n)return!1}return!0}(e,u))throw new Error(`the ${t} scale has a non-monotonic domain`);return f&&(c=X(c)),{type:"threshold",scale:Ff(u<0?X(e):e,void 0===c?[]:c).unknown(r),domain:e,range:c}}function hm(t,n=Ch){return t.length?[A(t,(({value:t})=>void 0===t?t:A(t,n))),k(t,(({value:t})=>void 0===t?t:k(t,n)))]:[0,1]}function pm(t,n){const e=bg.get(t);return(e===dg||e===pg||e===hg?gm:hm)(n)}function gm(t){return[0,t.length?k(t,(({value:t})=>void 0===t?t:k(t,Ch))):1]}function mm(t,n){const e=t.find((({radius:t})=>void 0!==t));if(void 0!==e)return[0,e.radius];const r=D(t,.5,(({value:t})=>void 0===t?NaN:D(t,.25,Lh))),i=n.map((t=>3*Math.sqrt(t/r))),a=30/k(i);return a<1?i.map((t=>t*a)):i}function bm(t,n){const e=R(t,(({value:t})=>void 0===t?NaN:R(t,Math.abs))),r=n.map((t=>12*t/e)),i=60/k(r);return i<1?r.map((t=>t*i)):r}function ym(t){for(const{value:n}of t)if(void 0!==n)for(let e of n){if(e>0)return hm(t,Lh);if(e<0)return hm(t,Dh)}return[1,10]}function vm(t){const n=[];for(const{value:e}of t)if(void 0!==e)for(const t of e)n.push(t);return n}function wm(t){return(n,e)=>r=>t(n+r*(e-n))}let xm,Mm=0;function km(t){t!==xm&&(xm=t,console.warn(t),++Mm)}function _m(t,n,e,r,{type:a,nice:o,clamp:c,domain:f=hm(r),unknown:u,pivot:l=0,scheme:s,range:d,symmetric:h=!0,interpolate:p=(bg.get(t)===sg?null==s&&void 0!==d?ar:nm(void 0!==s?s:"rdbu"):oe),reverse:g}){l=+l,f=Cp(f);let[m,b]=f;if(f.length>2&&km(`Warning: the diverging ${t} scale domain contains extra elements.`),i(m,b)<0&&([m,b]=[b,m],g=!g),m=Math.min(m,l),b=Math.max(b,l),"function"!=typeof p&&(p=om(p)),void 0!==d&&(p=1===p.length?wm(p)(...d):Uc(p,d)),g&&(p=rm(p)),h){const t=e.apply(l),n=t-e.apply(m),r=e.apply(b)-t;n<r?m=e.invert(t-r):n>r&&(b=e.invert(t+n))}return n.domain([m,l,b]).unknown(u).interpolator(p),c&&n.clamp(c),o&&n.nice(o),{type:a,domain:[m,b],pivot:l,interpolate:p,scale:n}}function $m(t,n,e){return _m(t,ns(),Em,n,e)}function Am(t,n,{exponent:e=1,...r}){return _m(t,is().exponent(e=+e),function(t){return.5===t?Cm:{apply(n){return Math.sign(n)*Math.pow(Math.abs(n),t)},invert(n){return Math.sign(n)*Math.pow(Math.abs(n),1/t)}}}(e),n,{...r,type:"diverging-pow"})}function Tm(t,n,{base:e=10,pivot:r=1,domain:i=hm(n,r<0?Dh:Lh),...a}){return _m(t,es().base(e=+e),Nm,n,{domain:i,pivot:r,...a})}function Sm(t,n,{constant:e=1,...r}){return _m(t,rs().constant(e=+e),function(t){return{apply(n){return Math.sign(n)*Math.log1p(Math.abs(n/t))},invert(n){return Math.sign(n)*Math.expm1(Math.abs(n))*t}}}(e),n,r)}const Em={apply(t){return t},invert(t){return t}},Nm={apply:Math.log,invert:Math.exp},Cm={apply(t){return Math.sign(t)*Math.sqrt(Math.abs(t))},invert(t){return Math.sign(t)*(t*t)}};function Lm(t,n,e,r){return cm(t,n,e,r)}function Dm(t,n,e){return Lm(t,function(){return Vc.apply(Jl($u,Au,wu,yu,ru,Kf,Qf,Zf,Xf,Cu).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}(),n,e)}function Om(t,n,e){return Lm(t,function(){return Vc.apply(Jl(ku,_u,xu,vu,su,tu,Jf,Gf,Xf,Lu).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}(),n,e)}const Rm=Symbol("ordinal");function Fm(t,n,e,{type:r,interval:i,domain:a,range:o,reverse:c,hint:f}){return i=Hp(i,r),void 0===a&&(a=jm(e,i,t)),"categorical"!==r&&r!==Rm||(r="ordinal"),c&&(a=X(a)),a=n.domain(a).domain(),void 0!==o&&("function"==typeof o&&(o=o(a)),n.range(o)),{type:r,domain:a,range:o,scale:n,hint:f,interval:i}}function zm(t,n,{type:e,interval:r,domain:i,range:a,scheme:o,unknown:c,...f}){let u;if(r=Hp(r,e),void 0===i&&(i=jm(n,r,t)),bg.get(t)===gg)u=function(t){return{fill:qm(t,"fill"),stroke:qm(t,"stroke")}}(n),a=void 0===a?function(t){return ig(t.fill)?$h:_h}(u):Lp(a,kg);else if(bg.get(t)===sg&&(void 0!==a||"ordinal"!==e&&e!==Rm||(a=function(t,n="greys"){const e=new Set,[r,i]=Kg(n,2);for(const a of t)if(null!=a)if(!0===a)e.add(i);else{if(!1!==a)return;e.add(r)}return[...e]}(i,o),void 0!==a&&(o=void 0)),void 0===o&&void 0===a&&(o="ordinal"===e?"turbo":"observable10"),void 0!==o))if(void 0!==a){const t=nm(o),n=a[0],e=a[1]-a[0];a=({length:r})=>jc((r=>t(n+e*r)),r)}else a=Jg(o);if(c===Zc)throw new Error(`implicit unknown on ${t} scale is not supported`);return Fm(t,Gc().unknown(c),n,{...f,type:e,domain:i,range:a,hint:u})}function Um(t,n,e,r){let{round:i}=e;return void 0!==i&&t.round(i=!!i),(t=Fm(r,t,n,e)).round=i,t}function jm(t,n,e){const r=new p;for(const{value:i,domain:a}of t){if(void 0!==a)return a();if(void 0!==i)for(const t of i)r.add(t)}if(void 0!==n){const[t,e]=d(r).map(n.floor,n);return n.range(t,n.offset(e))}if(r.size>1e4&&bg.get(e)===lg)throw new Error(`implicit ordinal domain of ${e} scale has more than 10,000 values`);return T(r,Sh)}function qm(t,n){let e;for(const{hint:r}of t){const t=r?.[n];if(void 0!==t)if(void 0===e)e=t;else if(e!==t)return}return e}function Im(t,{label:n,inset:e=0,insetTop:r=e,insetRight:i=e,insetBottom:a=e,insetLeft:o=e,round:c,nice:f,clamp:u,zero:l,align:s,padding:d,projection:h,facet:{label:p=n}={},...g}={}){const m={};for(const[b,y]of t){const t=g[b],e=Gm(b,y,{round:bg.get(b)===lg?c:void 0,nice:f,clamp:u,zero:l,align:s,padding:d,projection:h,...t});if(e){let{label:c=("fx"===b||"fy"===b?p:n),percent:f,transform:u,inset:l,insetTop:s=(void 0!==l?l:"y"===b?r:0),insetRight:d=(void 0!==l?l:"x"===b?i:0),insetBottom:h=(void 0!==l?l:"y"===b?a:0),insetLeft:g=(void 0!==l?l:"x"===b?o:0)}=t||{};if(null==u)u=void 0;else if("function"!=typeof u)throw new Error("invalid scale transform; not a function");e.percent=!!f,e.label=void 0===c?Bm(y,e):c,e.transform=u,"x"===b||"fx"===b?(e.insetLeft=+g,e.insetRight=+d):"y"!==b&&"fy"!==b||(e.insetTop=+s,e.insetBottom=+h),m[b]=e}}return m}function Pm(t){const n={},e={scales:n};for(const[r,i]of Object.entries(t)){const{scale:t,type:a,interval:o,label:c}=i;n[r]=ob(i),e[r]=t,t.type=a,null!=o&&(t.interval=o),null!=c&&(t.label=c)}return e}function Bm(t=[],n){let e;for(const{label:r}of t)if(void 0!==r)if(void 0===e)e=r;else if(e!==r)return;if(void 0!==e)return!nb(n)&&n.percent&&(e=`${e} (%)`),{inferred:!0,toString:()=>e}}function Wm(t){const{marginTop:n,marginRight:e,marginBottom:r,marginLeft:i,width:a,height:o,facet:{marginTop:c,marginRight:f,marginBottom:u,marginLeft:l}}=t;return{marginTop:Math.max(n,c),marginRight:Math.max(e,f),marginBottom:Math.max(r,u),marginLeft:Math.max(i,l),width:a,height:o}}function Hm({fx:t,fy:n},e){const{marginTop:r,marginRight:i,marginBottom:a,marginLeft:o,width:c,height:f}=Wm(e);return{marginTop:r,marginRight:i,marginBottom:a,marginLeft:o,width:t?t.scale.bandwidth()+o+i:c,height:n?n.scale.bandwidth()+r+a:f,facet:{width:c,height:f}}}function Ym(t,n){if(void 0===t.range){const{insetLeft:e,insetRight:r}=t,{width:i,marginLeft:a=0,marginRight:o=0}=n,c=a+e,f=i-o-r;t.range=[c,Math.max(c,f)],nb(t)||(t.range=Zm(t)),t.scale.range(t.range)}Xm(t)}function Vm(t,n){if(void 0===t.range){const{insetTop:e,insetBottom:r}=t,{height:i,marginTop:a=0,marginBottom:o=0}=n,c=a+e,f=i-o-r;t.range=[Math.max(c,f),c],nb(t)?t.range.reverse():t.range=Zm(t),t.scale.range(t.range)}Xm(t)}function Xm(t){void 0===t.round&&function({type:t}){return"point"===t||"band"===t}(t)&&function({scale:t}){const n=t.domain().length,[e,r]=t.range(),i=t.paddingInner?t.paddingInner():1,a=t.paddingOuter?t.paddingOuter():t.padding(),o=n-i,c=Math.abs(r-e)/Math.max(1,o+2*a);return(c-Math.floor(c))*o}(t)<=30&&t.scale.round(!0)}function Zm(t){const n=t.scale.domain().length+eb(t);if(!(n>2))return t.range;const[e,r]=t.range;return Array.from({length:n},((t,i)=>e+i/(n-1)*(r-e)))}function Gm(t,n=[],e={}){const r=function(t,n,{type:e,domain:r,range:i,scheme:a,pivot:o,projection:c}){if(e=Jm(e),"fx"===t||"fy"===t)return"band";"x"!==t&&"y"!==t||null==c||(e=Km);for(const u of n){const t=Jm(u.type);if(void 0!==t)if(void 0===e)e=t;else if(e!==t)throw new Error(`scale incompatible with channel: ${e} !== ${t}`)}if(e===Km)return;if(void 0!==e)return e;if(void 0===r&&!n.some((({value:t})=>void 0!==t)))return;const f=bg.get(t);if(f===dg)return"sqrt";if(f===pg||f===hg)return"linear";if(f===gg)return"ordinal";if((r||i||[]).length>2)return tb(f);if(void 0!==r){if(Gp(r))return tb(f);if(Qp(r))return"utc"}else{const t=n.map((({value:t})=>t)).filter((t=>void 0!==t));if(t.some(Gp))return tb(f);if(t.some(Qp))return"utc"}if(f===sg){if(null!=o||function(t){return null!=t&&em.has(`${t}`.toLowerCase())}(a))return"diverging";if(function(t){return null!=t&&Hg.has(`${t}`.toLowerCase())}(a))return"categorical"}return"linear"}(t,n,e);if(void 0===e.type&&void 0===e.domain&&void 0===e.range&&null==e.interval&&"fx"!==t&&"fy"!==t&&nb({type:r})){const e=n.map((({value:t})=>t)).filter((t=>void 0!==t));e.some(Qp)?km(`Warning: some data associated with the ${t} scale are dates. Dates are typically associated with a "utc" or "time" scale rather than a "${Qm(r)}" scale. If you are using a bar mark, you probably want a rect mark with the interval option instead; if you are using a group transform, you probably want a bin transform instead. If you want to treat this data as ordinal, you can specify the interval of the ${t} scale (e.g., d3.utcDay), or you can suppress this warning by setting the type of the ${t} scale to "${Qm(r)}".`):e.some(Jp)?km(`Warning: some data associated with the ${t} scale are strings that appear to be dates (e.g., YYYY-MM-DD). If these strings represent dates, you should parse them to Date objects. Dates are typically associated with a "utc" or "time" scale rather than a "${Qm(r)}" scale. If you are using a bar mark, you probably want a rect mark with the interval option instead; if you are using a group transform, you probably want a bin transform instead. If you want to treat this data as ordinal, you can suppress this warning by setting the type of the ${t} scale to "${Qm(r)}".`):e.some(Kp)&&km(`Warning: some data associated with the ${t} scale are strings that appear to be numbers. If these strings represent numbers, you should parse or coerce them to numbers. Numbers are typically associated with a "linear" scale rather than a "${Qm(r)}" scale. If you want to treat this data as ordinal, you can specify the interval of the ${t} scale (e.g., 1 for integers), or you can suppress this warning by setting the type of the ${t} scale to "${Qm(r)}".`)}switch(e.type=r,r){case"diverging":case"diverging-sqrt":case"diverging-pow":case"diverging-log":case"diverging-symlog":case"cyclical":case"sequential":case"linear":case"sqrt":case"threshold":case"quantile":case"pow":case"log":case"symlog":e=ib(n,e,kp);break;case"identity":switch(bg.get(t)){case lg:e=ib(n,e,kp);break;case gg:e=ib(n,e,ab)}break;case"utc":case"time":e=ib(n,e,$p)}switch(r){case"diverging":return $m(t,n,e);case"diverging-sqrt":return function(t,n,e){return Am(t,n,{...e,exponent:.5})}(t,n,e);case"diverging-pow":return Am(t,n,e);case"diverging-log":return Tm(t,n,e);case"diverging-symlog":return Sm(t,n,e);case"categorical":case"ordinal":case Rm:return zm(t,n,e);case"cyclical":case"sequential":case"linear":return function(t,n,e){return cm(t,gf(),n,e)}(t,n,e);case"sqrt":return function(t,n,e){return fm(t,n,{...e,exponent:.5})}(t,n,e);case"threshold":return dm(t,0,e);case"quantile":return sm(t,n,e);case"quantize":return function(t,n,{range:e,n:r=(void 0===e?5:(e=[...e]).length),scheme:i="rdylbu",domain:a=pm(t,n),unknown:o,interpolate:c,reverse:f}){const[u,l]=d(a);let s;return void 0===e?(s=H(u,l,r),s[0]<=u&&s.splice(0,1),s[s.length-1]>=l&&s.pop(),r=s.length+1,e=void 0!==c?jc(c,r):bg.get(t)===sg?Kg(i,r):void 0):(s=jc(oe(u,l),r+1).slice(1,-1),u instanceof Date&&(s=s.map((t=>new Date(t))))),Fh(Cp(a))<0&&s.reverse(),dm(t,0,{domain:s,range:e,reverse:f,unknown:o})}(t,n,e);case"pow":return fm(t,n,e);case"log":return um(t,n,e);case"symlog":return lm(t,n,e);case"utc":return Om(t,n,e);case"time":return Dm(t,n,e);case"point":return function(t,n,{align:e=.5,padding:r=.5,...i}){return Um(Kc().align(e).padding(r),n,i,t)}(t,n,e);case"band":return function(t,n,{align:e=.5,padding:r=.1,paddingInner:i=r,paddingOuter:a=("fx"===t||"fy"===t?0:r),...o}){return Um(Qc().align(e).paddingInner(i).paddingOuter(a),n,o,t)}(t,n,e);case"identity":return function(t){return{type:"identity",scale:(n=bg.get(t),n===lg||n===dg||n===hg||n===pg?mf():t=>t)};var n}(t);case void 0:return;default:throw new Error(`unknown scale type: ${r}`)}}function Qm(t){return"symbol"==typeof t?t.description:t}function Jm(t){return"string"==typeof t?`${t}`.toLowerCase():t}const Km={toString:()=>"projection"};function tb(t){switch(t){case lg:return"point";case sg:return Rm;default:return"ordinal"}}function nb({type:t}){return"ordinal"===t||"point"===t||"band"===t||t===Rm}function eb({type:t}){return"threshold"===t}function rb(t){if(void 0===t)return!0;const n=t.domain(),e=t(n[0]);for(let r=1,i=n.length;r<i;++r)if(t(n[r])-e)return!1;return!0}function ib(t,{domain:n,...e},r){for(const i of t)void 0!==i.value&&(void 0===n&&(n=i.value?.domain),i.value=r(i.value));return{domain:void 0===n?n:r(n),...e}}function ab(t){return Lp(t,kg)}function ob({scale:t,type:n,domain:e,range:r,interpolate:i,interval:a,transform:o,percent:c,pivot:f}){if("identity"===n)return{type:"identity",apply:t=>t,invert:t=>t};const u=t.unknown?t.unknown():void 0;return{type:n,domain:Dp(e),...void 0!==r&&{range:Dp(r)},...void 0!==o&&{transform:o},...c&&{percent:c},...void 0!==u&&{unknown:u},...void 0!==a&&{interval:a},...void 0!==i&&{interpolate:i},...t.clamp&&{clamp:t.clamp()},...void 0!==f&&{pivot:f,symmetric:!1},...t.base&&{base:t.base()},...t.exponent&&{exponent:t.exponent()},...t.constant&&{constant:t.constant()},...t.align&&{align:t.align(),round:t.round()},...t.padding&&(t.paddingInner?{paddingInner:t.paddingInner(),paddingOuter:t.paddingOuter()}:{padding:t.padding()}),...t.bandwidth&&{bandwidth:t.bandwidth(),step:t.step()},apply:n=>t(n),...t.invert&&{invert:n=>t.invert(n)}}}function cb(t,n){const{fx:e,fy:r}=Im(t,n),i=e?.scale.domain(),a=r?.scale.domain();return i&&a?function(...t){const n="function"==typeof t[t.length-1]&&function(t){return n=>t(...n)}(t.pop()),e=(t=t.map(u)).map(c),r=t.length-1,i=new Array(r+1).fill(0),a=[];if(r<0||e.some(f))return a;for(;;){a.push(i.map(((n,e)=>t[e][n])));let o=r;for(;++i[o]===e[o];){if(0===o)return n?a.map(n):a;i[o--]=0}}}(i,a).map((([t,n],e)=>({x:t,y:n,i:e}))):i?i.map(((t,n)=>({x:t,i:n}))):a?a.map(((t,n)=>({y:t,i:n}))):void 0}function fb(t,{fx:n,fy:e}){const r=jp(t),i=n?.value,a=e?.value;return n&&e?w(r,(t=>(t.fx=i[t[0]],t.fy=a[t[0]],t)),(t=>i[t]),(t=>a[t])):n?w(r,(t=>(t.fx=i[t[0]],t)),(t=>i[t])):w(r,(t=>(t.fy=a[t[0]],t)),(t=>a[t]))}function ub(t){const n=[],e=new Uint32Array(q(t,(t=>t.length)));for(const r of t){let i=0;for(const n of t)r!==n&&(e.set(n,i),i+=n.length);n.push(e.slice(0,i))}return n}const lb=new Map([["top",gb],["right",yb],["bottom",mb],["left",bb],["top-left",vb(gb,bb)],["top-right",vb(gb,yb)],["bottom-left",vb(mb,bb)],["bottom-right",vb(mb,yb)],["top-empty",function(t,{y:n},{x:e,y:r,empty:i}){if(i)return!1;if(!n)return;const a=hb(n,r);if(a>0)return pb(t,e,n[a-1])}],["right-empty",function(t,{x:n},{x:e,y:r,empty:i}){if(i)return!1;if(!n)return;const a=hb(n,e);if(a<n.length-1)return pb(t,n[a+1],r)}],["bottom-empty",function(t,{y:n},{x:e,y:r,empty:i}){if(i)return!1;if(!n)return;const a=hb(n,r);if(a<n.length-1)return pb(t,e,n[a+1])}],["left-empty",function(t,{x:n},{x:e,y:r,empty:i}){if(i)return!1;if(!n)return;const a=hb(n,e);if(a>0)return pb(t,n[a-1],r)}],["empty",function(t,n,{empty:e}){return e}]]);const sb=new WeakMap;function db(t){let n=sb.get(t);return n||sb.set(t,n=new h(Lp(t,((t,n)=>[t,n])))),n}function hb(t,n){return db(t).get(n)}function pb(t,n,e){return function(t,n,e){return n=Ip(n),e=Ip(e),t.find((t=>Object.is(Ip(t.x),n)&&Object.is(Ip(t.y),e)))}(t,n,e)?.empty}function gb(t,{y:n},{y:e}){return!n||0===hb(n,e)}function mb(t,{y:n},{y:e}){return!n||hb(n,e)===n.length-1}function bb(t,{x:n},{x:e}){return!n||0===hb(n,e)}function yb(t,{x:n},{x:e}){return!n||hb(n,e)===n.length-1}function vb(t,n){return function(){return t.apply(null,arguments)&&n.apply(null,arguments)}}function wb(t,{channels:{fx:n,fy:e},groups:r}){return n&&e?t.map((({x:t,y:n})=>r.get(t)?.get(n)??[])):n?t.map((({x:t})=>r.get(t)??[])):t.map((({y:t})=>r.get(t)??[]))}const xb=Math.PI,Mb=2*xb,kb=.618;function _b({projection:t,inset:n=0,insetTop:e=n,insetRight:r=n,insetBottom:i=n,insetLeft:a=n}={},o){if(null==t)return;if("function"==typeof t.stream)return t;let c,f,u="frame";if(Op(t)){let n;if(({type:t,domain:f,inset:n,insetTop:e=(void 0!==n?n:e),insetRight:r=(void 0!==n?n:r),insetBottom:i=(void 0!==n?n:i),insetLeft:a=(void 0!==n?n:a),clip:u=u,...c}=t),null==t)return}"function"!=typeof t&&({type:t}=$b(t));const{width:l,height:s,marginLeft:d,marginRight:h,marginTop:p,marginBottom:g}=o,m=l-d-h-a-r,b=s-p-g-e-i;if(t=t?.({width:m,height:b,clip:u,...c}),null==t)return;u=function(t,n,e,r,i){if(!1===t||null==t||"number"==typeof t)return t=>t;!0===t&&(t="frame");if("frame"===`${t}`.toLowerCase())return Ei(n,e,r,i);throw new Error(`unknown projection clip type: ${t}`)}(u,d,p,l-h,s-g);let y,v=d+a,w=p+e;if(null!=f){const[[n,e],[r,i]]=Ba(t).bounds(f),a=Math.min(m/(r-n),b/(i-e));a>0?(v-=(a*(n+r)-m)/2,w-=(a*(e+i)-b)/2,y=lo({point(t,n){this.stream.point(t*a+v,n*a+w)}})):km("Warning: the projection could not be fit to the specified domain; using the default scale.")}return y??=0===v&&0===w?Sb():lo({point(t,n){this.stream.point(t+v,n+w)}}),{stream:n=>t.stream(y.stream(u(n)))}}function $b(t){switch(`${t}`.toLowerCase()){case"albers-usa":return Ab(No,.7463,.4673);case"albers":return Tb(Eo,.7463,.4673);case"azimuthal-equal-area":return Ab(Oo,4,4);case"azimuthal-equidistant":return Ab(Fo,Mb,Mb);case"conic-conformal":return Tb(Po,Mb,Mb);case"conic-equal-area":return Tb(So,6.1702,2.9781);case"conic-equidistant":return Tb(Yo,7.312,3.6282);case"equal-earth":return Ab(Ko,5.4133,2.6347);case"equirectangular":return Ab(Wo,Mb,xb);case"gnomonic":return Ab(nc,3.4641,3.4641);case"identity":return{type:Sb};case"reflect-y":return{type:Eb};case"mercator":return Ab(Uo,Mb,Mb);case"orthographic":return Ab(rc,2,2);case"stereographic":return Ab(ac,2,2);case"transverse-mercator":return Ab(cc,Mb,Mb);default:throw new Error(`unknown projection type: ${t}`)}}function Ab(t,n,e){return{type:({width:r,height:i,rotate:a,precision:o=.15,clip:c})=>{const f=t();return null!=o&&f.precision?.(o),null!=a&&f.rotate?.(a),"number"==typeof c&&f.clipAngle?.(c),f.scale(Math.min(r/n,i/e)),f.translate([r/2,i/2]),f},aspectRatio:e/n}}function Tb(t,n,e){const{type:r,aspectRatio:i}=Ab(t,n,e);return{type:t=>{const{parallels:n,domain:e,width:i,height:a}=t,o=r(t);return null!=n&&(o.parallels(n),void 0===e&&o.fitSize([i,a],{type:"Sphere"})),o},aspectRatio:i}}const Sb=Mp({stream:t=>t}),Eb=Mp(lo({point(t,n){this.stream.point(t,-n)}}));function Nb(t,n,e,r){const i=e[t],a=e[n],o=i.length,c=e[t]=new Float64Array(o).fill(NaN),f=e[n]=new Float64Array(o).fill(NaN);let u;const l=r.stream({point(t,n){c[u]=t,f[u]=n}});for(u=0;u<o;++u)l.point(i[u],a[u])}function Cb({projection:t}={}){return null!=t&&("function"==typeof t.stream||(Op(t)&&(t=t.type),null!=t))}function Lb(t){const n=[],e=[],r={scale:"x",value:n},i={scale:"y",value:e},a={point(t,r){n.push(t),e.push(r)},lineStart(){},lineEnd(){},polygonStart(){},polygonEnd(){},sphere(){}};for(const o of t.value)Fi(o,a);return[r,i]}function Db(t={}){const{document:n=("undefined"!=typeof window?window.document:void 0),clip:e}=t;return{document:n,clip:ug(e)}}function Ob(t,{document:n}){return Yd(fn(t).call(n.documentElement))}function Rb(t,n){if(t instanceof Date||(t=new Date(+t)),isNaN(t))return"function"==typeof n?n(t):n;const e=t.getUTCHours(),r=t.getUTCMinutes(),i=t.getUTCSeconds(),a=t.getUTCMilliseconds();return`${o=t.getUTCFullYear(),o<0?`-${Fb(-o,6)}`:o>9999?`+${Fb(o,6)}`:Fb(o,4)}-${Fb(t.getUTCMonth()+1,2)}-${Fb(t.getUTCDate(),2)}${e||r||i||a?`T${Fb(e,2)}:${Fb(r,2)}${i||a?`:${Fb(i,2)}${a?`.${Fb(a,3)}`:""}`:""}Z`:""}`;var o}function Fb(t,n){return`${t}`.padStart(n,"0")}function zb(t){let n,e;return(...r)=>((e?.length!==r.length||e.some(((t,n)=>t!==r[n])))&&(e=r,n=t(...r)),n)}const Ub=zb((t=>new Intl.NumberFormat(t)));zb(((t,n)=>new Intl.DateTimeFormat(t,{timeZone:"UTC",...n&&{month:n}}))),zb(((t,n)=>new Intl.DateTimeFormat(t,{timeZone:"UTC",...n&&{weekday:n}})));function jb(t){return Rb(t,"Invalid Date")}const qb=function(t="en-US"){const n=function(t="en-US"){const n=Ub(t);return t=>null==t||isNaN(t)?void 0:n.format(t)}(t);return t=>(t instanceof Date?jb:"number"==typeof t?n:yp)(t)}(),Ib=("undefined"!=typeof window?window.devicePixelRatio>1:"undefined"==typeof it)?0:.5;let Pb=0;function Bb(){return"plot-clip-"+ ++Pb}function Wb(t,{title:n,href:e,ariaLabel:r,ariaDescription:i,ariaHidden:a,target:o,fill:c,fillOpacity:f,stroke:u,strokeWidth:l,strokeOpacity:s,strokeLinejoin:d,strokeLinecap:h,strokeMiterlimit:p,strokeDasharray:g,strokeDashoffset:m,opacity:b,mixBlendMode:y,imageFilter:v,paintOrder:w,pointerEvents:x,shapeRendering:M,channels:k},{ariaLabel:_,fill:$="currentColor",fillOpacity:A,stroke:T="none",strokeOpacity:S,strokeWidth:E,strokeLinecap:N,strokeLinejoin:C,strokeMiterlimit:L,paintOrder:D}){null===$&&(c=null,f=null),null===T&&(u=null,s=null),ig($)?ig(T)||ig(c)&&!k?.fill||(T="none"):!ig(T)||ig(u)&&!k?.stroke||($="none");const[O,R]=Tp(c,$),[F,z]=Sp(f,A),[U,j]=Tp(u,T),[q,I]=Sp(s,S),[P,B]=Sp(b);ag(j)||(void 0===l&&(l=E),void 0===h&&(h=N),void 0===d&&(d=C),void 0!==p||function(t){return/^\s*round\s*$/i.test(t)}(d)||(p=L),ag(R)||void 0!==w||(w=D));const[W,H]=Sp(l);return null!==$&&(t.fill=Jb(R,"currentColor"),t.fillOpacity=Kb(z,1)),null!==T&&(t.stroke=Jb(j,"none"),t.strokeWidth=Kb(H,1),t.strokeOpacity=Kb(I,1),t.strokeLinejoin=Jb(d,"miter"),t.strokeLinecap=Jb(h,"butt"),t.strokeMiterlimit=Kb(p,4),t.strokeDasharray=Jb(g,"none"),t.strokeDashoffset=Jb(m,"0")),t.target=yp(o),t.ariaLabel=yp(_),t.ariaDescription=yp(i),t.ariaHidden=yp(a),t.opacity=Kb(B,1),t.mixBlendMode=Jb(y,"normal"),t.imageFilter=Jb(v,"none"),t.paintOrder=Jb(w,"normal"),t.pointerEvents=Jb(x,"auto"),t.shapeRendering=Jb(M,"auto"),{title:{value:n,optional:!0,filter:null},href:{value:e,optional:!0,filter:null},ariaLabel:{value:r,optional:!0,filter:null},fill:{value:O,scale:"auto",optional:!0},fillOpacity:{value:F,scale:"auto",optional:!0},stroke:{value:U,scale:"auto",optional:!0},strokeOpacity:{value:q,scale:"auto",optional:!0},strokeWidth:{value:W,optional:!0},opacity:{value:P,scale:"auto",optional:!0}}}function Hb(t,n){n&&t.text((t=>qb(n[t])))}function Yb(t,{target:n,tip:e},{ariaLabel:r,title:i,fill:a,fillOpacity:o,stroke:c,strokeOpacity:f,strokeWidth:u,opacity:l,href:s}){r&&Gb(t,"aria-label",(t=>r[t])),a&&Gb(t,"fill",(t=>a[t])),o&&Gb(t,"fill-opacity",(t=>o[t])),c&&Gb(t,"stroke",(t=>c[t])),f&&Gb(t,"stroke-opacity",(t=>f[t])),u&&Gb(t,"stroke-width",(t=>u[t])),l&&Gb(t,"opacity",(t=>l[t])),s&&Zb(t,(t=>s[t]),n),e||function(t,n){n&&t.filter((t=>Nh(n[t]))).append("title").call(Hb,n)}(t,i)}function Vb(t,n,e,r){!function(t,n,e,r){let i;const{clip:a=r.clip}=n;switch(a){case"frame":{const{width:n,height:a,marginLeft:o,marginRight:c,marginTop:f,marginBottom:u}=e,l=Bb();i=`url(#${l})`,t=Ob("svg:g",r).call((t=>t.append("svg:clipPath").attr("id",l).append("rect").attr("x",o).attr("y",f).attr("width",n-c-o).attr("height",a-f-u))).each((function(){this.appendChild(t.node()),t.node=()=>this}));break}case"sphere":{const{projection:n}=r;if(!n)throw new Error('the "sphere" clip option requires a projection');const e=Bb();i=`url(#${e})`,t.append("clipPath").attr("id",e).append("path").attr("d",Ba(n)({type:"Sphere"}));break}}Gb(t,"aria-label",n.ariaLabel),Gb(t,"aria-description",n.ariaDescription),Gb(t,"aria-hidden",n.ariaHidden),Gb(t,"clip-path",i)}(t,n,e,r),Gb(t,"fill",n.fill),Gb(t,"fill-opacity",n.fillOpacity),Gb(t,"stroke",n.stroke),Gb(t,"stroke-width",n.strokeWidth),Gb(t,"stroke-opacity",n.strokeOpacity),Gb(t,"stroke-linejoin",n.strokeLinejoin),Gb(t,"stroke-linecap",n.strokeLinecap),Gb(t,"stroke-miterlimit",n.strokeMiterlimit),Gb(t,"stroke-dasharray",n.strokeDasharray),Gb(t,"stroke-dashoffset",n.strokeDashoffset),Gb(t,"shape-rendering",n.shapeRendering),Gb(t,"filter",n.imageFilter),Gb(t,"paint-order",n.paintOrder);const{pointerEvents:i=(!1===r.pointerSticky?"none":void 0)}=n;Gb(t,"pointer-events",i)}function Xb(t,n){!function(t,n,e){null!=e&&t.style(n,e)}(t,"mix-blend-mode",n.mixBlendMode),Gb(t,"opacity",n.opacity)}function Zb(t,n,e){t.each((function(t){const r=n(t);if(null!=r){const t=this.ownerDocument.createElementNS(Tt.svg,"a");t.setAttribute("fill","inherit"),t.setAttributeNS(Tt.xlink,"href",r),null!=e&&t.setAttribute("target",e),this.parentNode.insertBefore(t,this).appendChild(this)}}))}function Gb(t,n,e){null!=e&&t.attr(n,e)}function Qb(t,n,{x:e,y:r},i=Ib,a=Ib){i+=n.dx,a+=n.dy,e?.bandwidth&&(i+=e.bandwidth()/2),r?.bandwidth&&(a+=r.bandwidth()/2),(i||a)&&t.attr("transform",`translate(${i},${a})`)}function Jb(t,n){if((t=yp(t))!==n)return t}function Kb(t,n){if((t=vp(t))!==n)return t}const ty=/^-?([_a-z]|[\240-\377]|\\[0-9a-f]{1,6}(\r\n|[ \t\r\n\f])?|\\[^\r\n\f0-9a-f])([_a-z0-9-]|[\240-\377]|\\[0-9a-f]{1,6}(\r\n|[ \t\r\n\f])?|\\[^\r\n\f0-9a-f])*$/i;function ny(t){if(void 0===t)return"plot-d6a7b5";if(t=`${t}`,!ty.test(t))throw new Error(`invalid class name: ${t}`);return t}function ey(t,n){if("string"==typeof n)t.property("style",n);else if(null!=n)for(const e of t)Object.assign(e.style,n)}function ry({frameAnchor:t},{width:n,height:e,marginTop:r,marginRight:i,marginBottom:a,marginLeft:o}){return[/left$/.test(t)?o:/right$/.test(t)?n-i:(o+n-i)/2,/^top/.test(t)?r:/^bottom/.test(t)?e-a:(r+e-a)/2]}function iy({filter:t,sort:n,reverse:e,transform:r,initializer:i,...a}={},o){if(void 0===r&&(null!=t&&(r=uy(t)),null==n||zp(n)||(r=oy(r,sy(n))),e&&(r=oy(r,ly))),null!=o&&null!=i)throw new Error("transforms cannot be applied after initializers");return{...a,...(null===n||zp(n))&&{sort:n},transform:oy(r,o)}}function ay({filter:t,sort:n,reverse:e,initializer:r,...i}={},a){return void 0===r&&(null!=t&&(r=uy(t)),null==n||zp(n)||(r=cy(r,sy(n))),e&&(r=cy(r,ly))),{...i,...(null===n||zp(n))&&{sort:n},initializer:cy(r,a)}}function oy(t,n){return null==t?null===n?void 0:n:null==n?null===t?void 0:t:function(e,r,i){return({data:e,facets:r}=t.call(this,e,r,i)),n.call(this,Cp(e),r,i)}}function cy(t,n){return null==t?null===n?void 0:n:null==n?null===t?void 0:t:function(e,r,i,...a){let o,c,f,u,l,s;return({data:c=e,facets:f=r,channels:o}=t.call(this,e,r,i,...a)),({data:l=c,facets:s=f,channels:u}=n.call(this,c,f,{...i,...o},...a)),{data:l,facets:s,channels:{...o,...u}}}}function fy(t,n){return(null!=t.initializer?ay:iy)(t,n)}function uy(t){return(n,e)=>{const r=lp(n,t);return{data:n,facets:e.map((t=>t.filter((t=>r[t]))))}}}function ly(t,n){return{data:t,facets:n.map((t=>t.slice().reverse()))}}function sy(t){return("function"==typeof t&&1!==t.length?dy:hy)(t)}function dy(t){return(n,e)=>{const r=(e,r)=>t(n[e],n[r]);return{data:n,facets:e.map((t=>t.slice().sort(r)))}}}function hy(t){let n,e;({channel:n,value:t,order:e}={...Vp(t)});const r=n?.startsWith("-");if(r&&(n=n.slice(1)),void 0===e&&(e=r?Eh:Sh),"function"!=typeof e)switch(`${e}`.toLowerCase()){case"ascending":e=Sh;break;case"descending":e=Eh;break;default:throw new Error(`invalid order: ${e}`)}return(r,i,a)=>{let o;if(void 0===n)o=lp(r,t);else{if(void 0===a)throw new Error("channel sort requires an initializer");if(o=a[n],!o)return{};o=o.value}const c=(t,n)=>e(o[t],o[n]);return{data:r,facets:i.map((t=>t.slice().sort(c)))}}}class py{constructor(t,n={},e={},r){const{facet:i="auto",facetAnchor:a,fx:o,fy:c,sort:f,dx:u=0,dy:l=0,margin:s=0,marginTop:d=s,marginRight:h=s,marginBottom:p=s,marginLeft:g=s,clip:m=r?.clip,channels:b,tip:y,render:v}=e;if(this.data=t,this.sort=zp(f)?f:null,this.initializer=ay(e).initializer,this.transform=this.initializer?e.transform:iy(e).transform,null===i||!1===i?this.facet=null:(this.facet=Np(!0===i?"include":i,"facet",["auto","include","exclude","super"]),this.fx=t===hp&&"string"==typeof o?[o]:o,this.fy=t===hp&&"string"==typeof c?[c]:c),this.facetAnchor=function(t){if(null==t)return null;const n=lb.get(`${t}`.toLowerCase());if(n)return n;throw new Error(`invalid facet anchor: ${t}`)}(a),n=fg(n),void 0!==b&&(n={...by(b),...n}),void 0!==r&&(n={...Wb(this,e,r),...n}),this.channels=Object.fromEntries(Object.entries(n).map((([n,e])=>{if(Fp(e.value)){const{value:t,label:n=e.label,scale:r=e.scale}=e.value;e={...e,label:n,scale:r,value:t}}if(t===hp&&"string"==typeof e.value){const{value:t}=e;e={...e,value:[t]}}return[n,e]})).filter((([t,{value:n,optional:e}])=>{if(null!=n)return!0;if(e)return!1;throw new Error(`missing channel value: ${t}`)}))),this.dx=+u,this.dy=+l,this.marginTop=+d,this.marginRight=+h,this.marginBottom=+p,this.marginLeft=+g,this.clip=ug(m),this.tip=function(t){return!0===t?"xy":!1===t||null==t?null:"string"==typeof t?Np(t,"tip",["x","y","xy"]):t}(y),"super"===this.facet){if(o||c)throw new Error("super-faceting cannot use fx or fy");for(const t in this.channels){const{scale:e}=n[t];if("x"===e||"y"===e)throw new Error("super-faceting cannot use x or y")}}null!=v&&(this.render=my(v,this.render))}initialize(t,n,e){let r=Cp(this.data);void 0===t&&null!=r&&(t=[jp(r)]);const i=t;null!=this.transform&&(({facets:t,data:r}=this.transform(r,t,e)),r=Cp(r)),void 0!==t&&(t.original=i);const a=function(t,n){return Object.fromEntries(Object.entries(t).map((([t,e])=>[t,Rg(n,e,t)])))}(this.channels,r);return null!=this.sort&&function(t,n,e,r,i){const{order:a,reverse:o,reduce:c=!0,limit:f}=i;for(const u in i){if(!bg.has(u))continue;let{value:l,order:s=a,reverse:d=o,reduce:h=c,limit:g=f}=Vp(i[u]);const m=l?.startsWith("-");if(m&&(l=l.slice(1)),s=void 0===s?m!==("width"===l||"height"===l)?Bg:Pg:Ig(s),null==h||!1===h)continue;const b="fx"===u||"fy"===u?Ug(n,r[u]):zg(e,u);if(!b)throw new Error(`missing channel for scale: ${u}`);const y=b.value,[v=0,w=1/0]=Xp(g)?g:g<0?[g]:[0,g];if(null==l)b.domain=()=>{let t=Array.from(new p(y));return d&&(t=t.reverse()),0===v&&w===1/0||(t=t.slice(v,w)),t};else{const n="data"===l?t:"height"===l?jg(e,"y1","y2"):"width"===l?jg(e,"x1","x2"):qg(e,l,"y"===l?"y2":"x"===l?"x2":void 0),r=_g(!0===h?"max":h,n);b.domain=()=>{let t=x(jp(y),(t=>r.reduceIndex(t,n)),(t=>y[t]));return s&&t.sort(s),d&&t.reverse(),0===v&&w===1/0||(t=t.slice(v,w)),t.map(wp)}}}}(r,t,a,n,this.sort),{data:r,facets:t,channels:a}}filter(t,n,e){for(const r in n){const{filter:i=Th}=n[r];if(null!==i){const n=e[r];t=t.filter((t=>i(n[t])))}}return t}project(t,n,e){for(const r in t)if("x"===t[r].scale&&/^x|x$/.test(r)){const i=r.replace(/^x|x$/,"y");i in t&&"y"===t[i].scale&&Nb(r,i,n,e.projection)}}scale(t,n,e){const r=function(t,n){const e=Object.fromEntries(Object.entries(t).map((([t,{scale:e,value:r}])=>{const i=null==e?null:n[e];return[t,null==i?r:Lp(r,i)]})));return e.channels=t,e}(t,n);return e.projection&&this.project(t,r,e),r}}function gy(...t){return t.plot=py.prototype.plot,t}function my(t,n){if(null==t)return null===n?void 0:n;if(null==n)return null===t?void 0:t;if("function"!=typeof t)throw new TypeError(`invalid render transform: ${t}`);if("function"!=typeof n)throw new TypeError(`invalid render transform: ${n}`);return function(e,r,i,a,o,c){return t.call(this,e,r,i,a,o,((t,e,r,i,a)=>n.call(this,t,e,r,i,a,c)))}}function by(t){return Object.fromEntries(Object.entries(fg(t)).map((([t,n])=>(void 0===(n="string"==typeof n?{value:n,label:t}:Vp(n)).filter&&null==n.scale&&(n={...n,filter:null}),[t,n]))))}function yy(t,n){return!0===t?.tip?{...t,tip:n}:Op(t?.tip)&&void 0===t.tip.pointer?{...t,tip:{...t.tip,pointer:n}}:t}function vy({x:t,y:n,fy:e,fx:r},{projection:i,aspectRatio:a},{width:o,marginTopDefault:c,marginRightDefault:f,marginBottomDefault:u,marginLeftDefault:l}){const s=e?e.scale.domain().length:1,d=function(t){if("function"==typeof t?.stream)return kb;if(Op(t)&&(t=t.type),null!=t){if("function"!=typeof t){const{aspectRatio:n}=$b(t);if(n)return n}return kb}}(i);if(d){const t=(1.1*s-.1)/(1.1*(r?r.scale.domain().length:1)-.1)*d,n=Math.max(.1,Math.min(10,t));return Math.round((o-l-f)*n+c+u)}const h=n?nb(n)?n.scale.domain().length:Math.max(7,17/s):1;if(null!=a){if(a=+a,!(isFinite(a)&&a>0))throw new Error(`invalid aspectRatio: ${a}`);const i=wy("y",n)/(wy("x",t)*a),s=r?r.scale.bandwidth():1,d=e?e.scale.bandwidth():1;return(i*(s*(o-l-f)-t.insetLeft-t.insetRight)+n.insetTop+n.insetBottom)/d+c+u}return!(!n&&!e)*Math.max(1,Math.min(60,h*s))*20+30*!!r+60}function wy(t,n){if(!n)throw new Error(`aspectRatio requires ${t} scale`);const{type:e,domain:r}=n;let i;switch(e){case"linear":case"utc":case"time":i=Number;break;case"pow":{const t=n.scale.exponent();i=n=>Math.pow(n,t);break}case"log":i=Math.log;break;case"point":case"band":return r.length;default:throw new Error(`unsupported ${t} scale for aspectRatio: ${e}`)}const[a,o]=d(r);return Math.abs(i(o)-i(a))}const xy=new WeakMap;function My(t,n,{x:e,y:r,px:i,py:a,maxRadius:o=40,channels:c,render:f,...u}={}){return o=+o,null!=i&&(e??=null,c={...c,px:{value:i,scale:"x"}}),null!=a&&(r??=null,c={...c,py:{value:a,scale:"y"}}),{x:e,y:r,channels:c,...u,render:my((function(e,r,i,a,c,f){const u=(c={...c,pointerSticky:!1}).ownerSVGElement,{data:l}=c.getMarkState(this);let s=xy.get(u);s||xy.set(u,s={sticky:!1,roots:[],renders:[]});let d=s.renders.push(L)-1;const{x:h,y:p,fx:g,fy:m}=r;let b=g?g(e.fx)-a.marginLeft:0,y=m?m(e.fy)-a.marginTop:0;h?.bandwidth&&(b+=h.bandwidth()/2),p?.bandwidth&&(y+=p.bandwidth()/2);const v=null!=e.fi;let w;if(v){let t=s.facetStates;t||(s.facetStates=t=new Map),w=t.get(this),w||t.set(this,w=new Map)}const[x,M]=ry(this,a),{px:k,py:_}=i,$=k?t=>k[t]:Ay(i,x),A=_?t=>_[t]:Ty(i,M);let T,S,E,N;function C(t,n){if(v){if(N&&(N=cancelAnimationFrame(N)),null!=t)return w.set(e.fi,n),void(N=requestAnimationFrame((()=>{N=null;for(const[r,i]of w)if(i<n||i===n&&r<e.fi){t=null;break}L(t)})));w.delete(e.fi)}L(t)}function L(t){if(T===t&&E===s.sticky)return;T=t,E=c.pointerSticky=s.sticky;const n=null==T?[]:[T];v&&(n.fx=e.fx,n.fy=e.fy,n.fi=e.fi);const o=f(n,r,i,a,c);if(S){if(v){const t=S.parentNode,n=S.getAttribute("transform"),e=o.getAttribute("transform");n?o.setAttribute("transform",n):o.removeAttribute("transform"),e?t.setAttribute("transform",e):t.removeAttribute("transform"),o.removeAttribute("aria-label"),o.removeAttribute("aria-description"),o.removeAttribute("aria-hidden")}S.replaceWith(o)}return s.roots[d]=S=o,null==T&&w?.size>1||c.dispatchValue(null==T?null:l[T]),o}function D(r){if(s.sticky||"mouse"===r.pointerType&&1===r.buttons)return;let[i,c]=function(t,n){if(t=function(t){let n;for(;n=t.sourceEvent;)t=n;return t}(t),void 0===n&&(n=t.currentTarget),n){var e=n.ownerSVGElement||n;if(e.createSVGPoint){var r=e.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,[(r=r.matrixTransform(n.getScreenCTM().inverse())).x,r.y]}if(n.getBoundingClientRect){var i=n.getBoundingClientRect();return[t.clientX-i.left-n.clientLeft,t.clientY-i.top-n.clientTop]}}return[t.pageX,t.pageY]}(r);i-=b,c-=y;const f=i<a.marginLeft||i>a.width-a.marginRight?1:t,u=c<a.marginTop||c>a.height-a.marginBottom?1:n;let l=null,d=o*o;for(const t of e){const n=f*($(t)-i),e=u*(A(t)-c),r=n*n+e*e;r<=d&&(l=t,d=r)}if(null!=l&&(1!==t||1!==n)){const t=$(l)-i,n=A(l)-c;d=t*t+n*n}C(l,d)}return u.addEventListener("pointerenter",D),u.addEventListener("pointermove",D),u.addEventListener("pointerdown",(function(t){"mouse"===t.pointerType&&null!=T&&(s.sticky&&s.roots.some((n=>n?.contains(t.target)))||(s.sticky?(s.sticky=!1,s.renders.forEach((t=>t(null)))):(s.sticky=!0,L(T)),t.stopImmediatePropagation()))})),u.addEventListener("pointerleave",(function(t){"mouse"===t.pointerType&&(s.sticky||C(null))})),L(null)}),f)}}function ky(t){return My(1,1,t)}function _y(t){return My(1,.01,t)}function $y(t){return My(.01,1,t)}function Ay({x1:t,x2:n,x:e=t},r){return t&&n?e=>(t[e]+n[e])/2:e?t=>e[t]:()=>r}function Ty({y1:t,y2:n,y:e=t},r){return t&&n?e=>(t[e]+n[e])/2:e?t=>e[t]:()=>r}function Sy(t){return nb(t)&&void 0===t.interval?void 0:"tabular-nums"}function Ey(t,n){let{label:e=t.label,tickSize:r=6,width:i=240,height:a=44+r,marginTop:o=18,marginRight:c=0,marginBottom:f=16+r,marginLeft:u=0,style:l,ticks:s=(i-u-c)/64,tickFormat:d,fontVariant:h=Sy(t),round:p=!0,opacity:g,className:m}=n;const b=Db(n);m=ny(m),g=Sp(g)[1],null===d&&(d=()=>null);const y=Ob("svg",b).attr("class",`${m}-ramp`).attr("font-family","system-ui, sans-serif").attr("font-size",10).attr("width",i).attr("height",a).attr("viewBox",`0 0 ${i} ${a}`).call((t=>t.append("style").text(`:where(.${m}-ramp) {\n  display: block;\n  height: auto;\n  height: intrinsic;\n  max-width: 100%;\n  overflow: visible;\n}\n:where(.${m}-ramp text) {\n  white-space: pre;\n}`))).call(ey,l);let v,w=t=>t.selectAll(".tick line").attr("y1",o+f-a);const x=p?(t,n)=>t.rangeRound(n):(t,n)=>t.range(n),{type:M,domain:k,range:_,interpolate:$,scale:A,pivot:T}=t;if($){const t=void 0===_?$:Uc(1===$.length?wm($):$,_);v=x(A.copy(),jc(oe(u,i-c),Math.min(k.length+(void 0!==T),void 0===_?1/0:_.length)));const n=256,e=b.document.createElement("canvas");e.width=n,e.height=1;const r=e.getContext("2d");for(let i=0,a=n-1;i<n;++i)r.fillStyle=t(i/a),r.fillRect(i,0,1,1);y.append("image").attr("opacity",g).attr("x",u).attr("y",o).attr("width",i-u-c).attr("height",a-o-f).attr("preserveAspectRatio","none").attr("xlink:href",e.toDataURL())}else if("threshold"===M){const t=k,n=void 0===d?t=>t:"string"==typeof d?Xr(d):d;v=x(gf().domain([-1,_.length-1]),[u,i-c]),y.append("g").attr("fill-opacity",g).selectAll().data(_).enter().append("rect").attr("x",((t,n)=>v(n-1))).attr("y",o).attr("width",((t,n)=>v(n)-v(n-1))).attr("height",a-o-f).attr("fill",(t=>t)),s=Lp(t,((t,n)=>n)),d=e=>n(t[e],e)}else v=x(Qc().domain(k),[u,i-c]),y.append("g").attr("fill-opacity",g).selectAll().data(k).enter().append("rect").attr("x",v).attr("y",o).attr("width",Math.max(0,v.bandwidth()-1)).attr("height",a-o-f).attr("fill",A),w=()=>{};return y.append("g").attr("transform",`translate(0,${a-f})`).call(function(t){return ct(J,t)}(v).ticks(Array.isArray(s)?null:s,"string"==typeof d?d:void 0).tickFormat("function"==typeof d?d:void 0).tickSize(r).tickValues(Array.isArray(s)?s:null)).attr("font-size",null).attr("font-family",null).attr("font-variant",Jb(h,"normal")).call(w).call((t=>t.select(".domain").remove())),void 0!==e&&y.append("text").attr("x",u).attr("y",o-6).attr("fill","currentColor").attr("font-weight","bold").text(e),y.node()}const Ny=Math.PI/180;function Cy(t,{marker:n,markerStart:e=n,markerMid:r=n,markerEnd:i=n}={}){t.markerStart=Ly(e),t.markerMid=Ly(r),t.markerEnd=Ly(i)}function Ly(t){if(null==t||!1===t)return null;if(!0===t)return Ry;if("function"==typeof t)return t;switch(`${t}`.toLowerCase()){case"none":return null;case"arrow":return Dy("auto");case"arrow-reverse":return Dy("auto-start-reverse");case"dot":return Oy;case"circle":case"circle-fill":return Ry;case"circle-stroke":return Fy;case"tick":return zy("auto");case"tick-x":return zy(90);case"tick-y":return zy(0)}throw new Error(`invalid marker: ${t}`)}function Dy(t){return(n,e)=>Ob("svg:marker",e).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("orient",t).attr("fill","none").attr("stroke",n).attr("stroke-width",1.5).attr("stroke-linecap","round").attr("stroke-linejoin","round").call((t=>t.append("path").attr("d","M-1.5,-3l3,3l-3,3"))).node()}function Oy(t,n){return Ob("svg:marker",n).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("fill",t).attr("stroke","none").call((t=>t.append("circle").attr("r",2.5))).node()}function Ry(t,n){return Ob("svg:marker",n).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("fill",t).attr("stroke","var(--plot-background)").attr("stroke-width",1.5).call((t=>t.append("circle").attr("r",3))).node()}function Fy(t,n){return Ob("svg:marker",n).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("fill","var(--plot-background)").attr("stroke",t).attr("stroke-width",1.5).call((t=>t.append("circle").attr("r",3))).node()}function zy(t){return(n,e)=>Ob("svg:marker",e).attr("viewBox","-3 -3 6 6").attr("markerWidth",6).attr("markerHeight",6).attr("orient",t).attr("stroke",n).call((t=>t.append("path").attr("d","M0,-3v6"))).node()}let Uy=0;function jy(t,n,{stroke:e},r){return qy(t,n,e&&(t=>e[t]),r)}function qy(t,{markerStart:n,markerMid:e,markerEnd:r,stroke:i},a=()=>i,o){const c=new Map;function f(t){return function(n){const e=a(n);let r=c.get(t);r||c.set(t,r=new Map);let i=r.get(e);if(!i){const n=this.parentNode.insertBefore(t(e,o),this),a="plot-marker-"+ ++Uy;n.setAttribute("id",a),r.set(e,i=`url(#${a})`)}return i}}n&&t.attr("marker-start",f(n)),e&&t.attr("marker-mid",f(e)),r&&t.attr("marker-end",f(r))}function Iy({inset:t,insetLeft:n,insetRight:e,...r}={}){return[n,e]=By(t,n,e),{inset:t,insetLeft:n,insetRight:e,...r}}function Py({inset:t,insetTop:n,insetBottom:e,...r}={}){return[n,e]=By(t,n,e),{inset:t,insetTop:n,insetBottom:e,...r}}function By(t,n,e){return void 0===t&&void 0===n&&void 0===e?Ib?[1,0]:[.5,.5]:[n,e]}function Wy(t,{interval:n}){return(t={...Vp(t)}).interval=Wp(void 0===t.interval?n:t.interval),t}function Hy(t,n,e,r){const{[t]:i,[`${t}1`]:a,[`${t}2`]:o}=e,{value:c,interval:f}=Wy(i,e);if(null==c||null==f&&!r)return e;const u=Pp(i);if(null==f){let n;const i={transform:t=>n||(n=lp(t,c)),label:u};return{...e,[t]:void 0,[`${t}1`]:void 0===a?i:a,[`${t}2`]:void 0!==o||a===o&&r?o:i}}let l,s;function d(t){return void 0!==s&&t===l?s:s=Lp(lp(l=t,c),(t=>f.floor(t)))}return n({...e,[t]:void 0,[`${t}1`]:void 0===a?{transform:d,label:u}:a,[`${t}2`]:void 0===o?{transform:t=>d(t).map((t=>f.offset(t))),label:u}:o})}function Yy(t,n,e){const{[t]:r}=e,{value:i,interval:a}=Wy(r,e);return null==i||null==a?e:n({...e,[t]:{label:Pp(r),transform:t=>{const n=Lp(lp(t,i),(t=>a.floor(t))),e=n.map((t=>a.offset(t)));return n.map(Qp(n)?(t,n)=>null==t||isNaN(t=+t)||null==(n=e[n])||isNaN(n=+n)?void 0:new Date((t+n)/2):(t,n)=>null==t||null==(n=e[n])?NaN:(+t+ +n)/2)}}})}const Vy={ariaLabel:"rule",fill:null,stroke:"currentColor"};class Xy extends py{constructor(t,n={}){const{x:e,y1:r,y2:i,inset:a=0,insetTop:o=a,insetBottom:c=a}=n;super(t,{x:{value:e,scale:"x",optional:!0},y1:{value:r,scale:"y",optional:!0},y2:{value:i,scale:"y",optional:!0}},yy(n,"x"),Vy),this.insetTop=vp(o),this.insetBottom=vp(c),Cy(this,n)}render(t,n,e,r,i){const{x:a,y:o}=n,{x:c,y1:f,y2:u}=e,{width:l,height:s,marginTop:d,marginRight:h,marginLeft:p,marginBottom:g}=r,{insetTop:m,insetBottom:b}=this;return Ob("svg:g",i).call(Vb,this,r,i).call(Qb,this,{x:c&&a},Ib,0).call((n=>n.selectAll().data(t).enter().append("line").call(Xb,this).attr("x1",c?t=>c[t]:(p+l-h)/2).attr("x2",c?t=>c[t]:(p+l-h)/2).attr("y1",f&&!rb(o)?t=>f[t]+m:d+m).attr("y2",u&&!rb(o)?o.bandwidth?t=>u[t]+o.bandwidth()-b:t=>u[t]-b:s-g-b).call(Yb,this,e).call(jy,this,e,i))).node()}}class Zy extends py{constructor(t,n={}){const{x1:e,x2:r,y:i,inset:a=0,insetRight:o=a,insetLeft:c=a}=n;super(t,{y:{value:i,scale:"y",optional:!0},x1:{value:e,scale:"x",optional:!0},x2:{value:r,scale:"x",optional:!0}},yy(n,"y"),Vy),this.insetRight=vp(o),this.insetLeft=vp(c),Cy(this,n)}render(t,n,e,r,i){const{x:a,y:o}=n,{y:c,x1:f,x2:u}=e,{width:l,height:s,marginTop:d,marginRight:h,marginLeft:p,marginBottom:g}=r,{insetLeft:m,insetRight:b}=this;return Ob("svg:g",i).call(Vb,this,r,i).call(Qb,this,{y:c&&o},0,Ib).call((n=>n.selectAll().data(t).enter().append("line").call(Xb,this).attr("x1",f&&!rb(a)?t=>f[t]+m:p+m).attr("x2",u&&!rb(a)?a.bandwidth?t=>u[t]+a.bandwidth()-b:t=>u[t]-b:l-h-b).attr("y1",c?t=>c[t]:(d+s-g)/2).attr("y2",c?t=>c[t]:(d+s-g)/2).call(Yb,this,e).call(jy,this,e,i))).node()}}function Gy(t,n){let{x:e=mp,y:r,y1:i,y2:a,...o}=function(t={}){return Hy("y",Py,t)}(n);return[i,a]=Jy(r,i,a),new Xy(t,{...o,x:e,y1:i,y2:a})}function Qy(t,n){let{y:e=mp,x:r,x1:i,x2:a,...o}=function(t={}){return Hy("x",Iy,t)}(n);return[i,a]=Jy(r,i,a),new Zy(t,{...o,y:e,x1:i,x2:a})}function Jy(t,n,e){if(null==t){if(void 0===n){if(void 0!==e)return[0,e]}else if(void 0===e)return[0,n]}else{if(void 0===n)return void 0===e?[0,t]:[t,e];if(void 0===e)return[t,n]}return[n,e]}function Ky(t,...n){let e=n.length;for(let r=0,i=!0;r<e;++r)"function"!=typeof n[r]&&(i&&(t=t.slice(),i=!1),t.splice(r,2,t[r]+n[r]+t[r+1]),n.splice(r,1),--r,--e);return r=>{let i=t[0];for(let a=0;a<e;++a)i+=n[a](r)+t[a+1];return i}}const tv={ariaLabel:"text",strokeLinejoin:"round",strokeWidth:3,paintOrder:"stroke"},nv="­";class ev extends py{constructor(t,n={}){const{x:e,y:r,text:i=(Xp(t)&&Zp(t)?mp:gp),frameAnchor:a,textAnchor:o=(/right$/i.test(a)?"end":/left$/i.test(a)?"start":"middle"),lineAnchor:c=(/^top/i.test(a)?"top":/^bottom/i.test(a)?"bottom":"middle"),lineHeight:f=1,lineWidth:u=1/0,textOverflow:l,monospace:s,fontFamily:d=(s?"ui-monospace, monospace":void 0),fontSize:h,fontStyle:p,fontVariant:g,fontWeight:m,rotate:b}=n,[y,v]=Sp(b,0),[w,x]=function(t){return null==t||"number"==typeof t?[void 0,t]:"string"!=typeof t?[t,void 0]:(t=t.trim().toLowerCase(),uv.has(t)||/^[+-]?\d*\.?\d+(e[+-]?\d+)?(\w*|%)$/.test(t)?[void 0,t]:[t,void 0])}(h);var M;if(super(t,{x:{value:e,scale:"x",optional:!0},y:{value:r,scale:"y",optional:!0},fontSize:{value:w,optional:!0},rotate:{value:(M=y,null==M?null:{transform:t=>lp(t,M,Float64Array),label:Pp(M)}),optional:!0},text:{value:i,filter:Nh,optional:!0}},n,tv),this.rotate=v,this.textAnchor=Jb(o,"middle"),this.lineAnchor=Np(c,"lineAnchor",["top","middle","bottom"]),this.lineHeight=+f,this.lineWidth=+u,this.textOverflow=rv(l),this.monospace=!!s,this.fontFamily=yp(d),this.fontSize=x,this.fontStyle=yp(p),this.fontVariant=yp(g),this.fontWeight=yp(m),this.frameAnchor=cg(a),!(this.lineWidth>=0))throw new Error(`invalid lineWidth: ${u}`);this.splitLines=pv(this),this.clipLine=gv(this)}render(t,n,e,r,i){const{x:a,y:o}=n,{x:c,y:f,rotate:u,text:l,title:s,fontSize:d}=e,{rotate:h}=this,[p,g]=ry(this,r);return Ob("svg:g",i).call(Vb,this,r,i).call(fv,this,l,r).call(Qb,this,{x:c&&a,y:f&&o}).call((n=>n.selectAll().data(t).enter().append("text").call(Xb,this).call(iv,this,l,s).attr("transform",Ky`translate(${c?t=>c[t]:p},${f?t=>f[t]:g})${u?t=>` rotate(${u[t]})`:h?` rotate(${h})`:""}`).call(Gb,"font-size",d&&(t=>d[t])).call(Yb,this,e))).node()}}function rv(t){return null==t?null:Np(t,"textOverflow",["clip","ellipsis","clip-start","clip-end","ellipsis-start","ellipsis-middle","ellipsis-end"]).replace(/^(clip|ellipsis)$/,"$1-end")}function iv(t,n,e,r){if(!e)return;const{lineAnchor:i,lineHeight:a,textOverflow:o,splitLines:c,clipLine:f}=n;t.each((function(t){const n=c(qb(e[t])??"").map(f),u=n.length,l="top"===i?.71:"bottom"===i?1-u:(164-100*u)/200;if(u>1){let t=0;for(let e=0;e<u;++e){if(++t,!n[e])continue;const r=this.ownerDocument.createElementNS(Tt.svg,"tspan");r.setAttribute("x",0),e===t-1?r.setAttribute("y",(l+e)*a+"em"):r.setAttribute("dy",t*a+"em"),r.textContent=n[e],this.appendChild(r),t=0}}else l&&this.setAttribute("y",l*a+"em"),this.textContent=n[0];if(o&&!r&&n[0]!==e[t]){const n=this.ownerDocument.createElementNS(Tt.svg,"title");n.textContent=e[t],this.appendChild(n)}}))}function av(t,{x:n,y:e,...r}={}){return void 0===r.frameAnchor&&([n,e]=Up(n,e)),new ev(t,{...r,x:n,y:e})}function ov(t,{x:n=mp,...e}={}){return new ev(t,function(t={}){return Yy("y",Py,t)}({...e,x:n}))}function cv(t,{y:n=mp,...e}={}){return new ev(t,function(t={}){return Yy("x",Iy,t)}({...e,y:n}))}function fv(t,n,e){Gb(t,"text-anchor",n.textAnchor),Gb(t,"font-family",n.fontFamily),Gb(t,"font-size",n.fontSize),Gb(t,"font-style",n.fontStyle),Gb(t,"font-variant",void 0===n.fontVariant?function(t){return t&&(function(t){for(const n of t)if(null!=n)return"number"==typeof n}(t)||Qp(t))?"tabular-nums":void 0}(e):n.fontVariant),Gb(t,"font-weight",n.fontWeight)}const uv=new Set(["inherit","initial","revert","unset","xx-small","x-small","small","medium","large","x-large","xx-large","xxx-large","larger","smaller"]);function lv(t,n,e){const r=[];let i,a=0;for(const[o,c,f]of function*(t){let n=0,e=0;const r=t.length;for(;e<r;){let r=1;switch(t[e]){case nv:case"-":++e,yield[n,e,!1],n=e;break;case" ":for(yield[n,e,!1];" "===t[++e];);n=e;break;case"\r":"\n"===t[e+1]&&++r;case"\n":yield[n,e,!0],e+=r,n=e;break;default:++e}}yield[n,e,!0]}(t))void 0===i&&(i=o),a>i&&e(t,i,c)>n&&(r.push(t.slice(i,a)+(t[a-1]===nv?"-":"")),i=o),f?(r.push(t.slice(i,c)),i=void 0):a=c;return r}const sv={a:56,b:63,c:57,d:63,e:58,f:37,g:62,h:60,i:26,j:26,k:55,l:26,m:88,n:60,o:60,p:62,q:62,r:39,s:54,t:38,u:60,v:55,w:79,x:54,y:55,z:55,A:69,B:67,C:73,D:74,E:61,F:58,G:76,H:75,I:28,J:55,K:67,L:58,M:89,N:75,O:78,P:65,Q:78,R:67,S:65,T:65,U:75,V:69,W:98,X:69,Y:67,Z:67,0:64,1:48,2:62,3:64,4:66,5:63,6:65,7:58,8:65,9:65," ":29,"!":32,'"':49,"'":31,"(":39,")":39,",":31,"-":48,".":31,"/":32,":":31,";":31,"?":52,"‘":31,"’":31,"“":47,"”":47,"…":82};function dv(t,n=0,e=t.length){let r=0;for(let i=n;i<e;i=Mv(t,i))r+=sv[t[i]]??(_v(t,i)?120:sv.e);return r}function hv(t,n=0,e=t.length){let r=0;for(let i=n;i<e;i=Mv(t,i))r+=_v(t,i)?126:63;return r}function pv({monospace:t,lineWidth:n,textOverflow:e}){if(null!=e||n==1/0)return t=>t.split(/\r\n?|\n/g);const r=t?hv:dv,i=100*n;return t=>lv(t,i,r)}function gv({monospace:t,lineWidth:n,textOverflow:e}){if(null==e||n==1/0)return t=>t;const r=t?hv:dv,i=100*n;switch(e){case"clip-start":return t=>vv(t,i,r,"");case"clip-end":return t=>yv(t,i,r,"");case"ellipsis-start":return t=>vv(t,i,r,mv);case"ellipsis-middle":return t=>function(t,n,e,r){t=t.trim();const i=e(t);if(i<=n)return t;const a=e(r)/2,[o,c]=bv(t,n/2,e,a),[f]=bv(t,i-n/2-c+a,e,-a);return f<0?r:t.slice(0,o).trimEnd()+r+t.slice(Mv(t,f)).trimStart()}(t,i,r,mv);case"ellipsis-end":return t=>yv(t,i,r,mv)}}const mv="…";function bv(t,n,e,r){const i=[];let a=0;for(let o=0,c=0,f=t.length;o<f;o=c){c=Mv(t,o);const f=e(t,o,c);if(a+f>n){for(a+=r;a>n&&o>0;)c=o,o=i.pop(),a-=e(t,o,c);return[o,n-a]}a+=f,i.push(o)}return[-1,0]}function yv(t,n,e,r){t=t.trim();const i=e(r),[a]=bv(t,n,e,i);return a<0?t:t.slice(0,a).trimEnd()+r}function vv(t,n,e,r){const i=e(t=t.trim());if(i<=n)return t;const a=e(r),[o]=bv(t,i-n+a,e,-a);return o<0?r:r+t.slice(Mv(t,o)).trimStart()}const wv=/[\p{Combining_Mark}\p{Emoji_Modifier}]+/uy,xv=/\p{Extended_Pictographic}/uy;function Mv(t,n){return n+=function(t,n){const e=t.charCodeAt(n);if(e>=55296&&e<56320){const e=t.charCodeAt(n+1);return e>=56320&&e<57344}return!1}(t,n)?2:1,function(t,n){return!kv(t,n)&&(wv.lastIndex=n,wv.test(t))}(t,n)&&(n=wv.lastIndex),function(t,n){return 8205===t.charCodeAt(n)}(t,n)?Mv(t,n+1):n}function kv(t,n){return t.charCodeAt(n)<128}function _v(t,n){return!kv(t,n)&&(xv.lastIndex=n,xv.test(t))}const $v={ariaLabel:"vector",fill:"none",stroke:"currentColor",strokeWidth:1.5,strokeLinejoin:"round",strokeLinecap:"round"},Av=3.5,Tv=5*Av,Sv={draw(t,n,e){const r=n*e/Tv;t.moveTo(0,0),t.lineTo(0,-n),t.moveTo(-r,r-n),t.lineTo(0,-n),t.lineTo(r,r-n)}},Ev={draw(t,n,e){t.moveTo(-e,0),t.lineTo(0,-n),t.lineTo(e,0)}},Nv=new Map([["arrow",Sv],["spike",Ev]]);class Cv extends py{constructor(t,n={}){const{x:e,y:r,r:i=Av,length:a,rotate:o,shape:c=Sv,anchor:f="middle",frameAnchor:u}=n,[l,s]=Sp(a,12),[d,h]=Sp(o,0);super(t,{x:{value:e,scale:"x",optional:!0},y:{value:r,scale:"y",optional:!0},length:{value:l,scale:"length",optional:!0},rotate:{value:d,optional:!0}},n,$v),this.r=+i,this.length=s,this.rotate=h,this.shape=function(t){if(function(t){return t&&"function"==typeof t.draw}(t))return t;const n=Nv.get(`${t}`.toLowerCase());if(n)return n;throw new Error(`invalid shape: ${t}`)}(c),this.anchor=Np(f,"anchor",["start","middle","end"]),this.frameAnchor=cg(u)}render(t,n,e,r,i){const{x:a,y:o}=n,{x:c,y:f,length:u,rotate:l}=e,{length:s,rotate:d,anchor:h,shape:p,r:g}=this,[m,b]=ry(this,r);return Ob("svg:g",i).call(Vb,this,r,i).call(Qb,this,{x:c&&a,y:f&&o}).call((n=>n.selectAll().data(t).enter().append("path").call(Xb,this).attr("transform",Ky`translate(${c?t=>c[t]:m},${f?t=>f[t]:b})${l?t=>` rotate(${l[t]})`:d?` rotate(${d})`:""}${"start"===h?"":"end"===h?u?t=>` translate(0,${u[t]})`:` translate(0,${s})`:u?t=>` translate(0,${u[t]/2})`:` translate(0,${s/2})`}`).attr("d",u?t=>{const n=Yc();return p.draw(n,u[t],g),n}:(()=>{const t=Yc();return p.draw(t,s,g),t})()).call(Yb,this,e))).node()}}function Lv(t,n={}){const{x:e=mp,...r}=n;return new Cv(t,{...r,x:e})}function Dv(t,n={}){const{y:e=mp,...r}=n;return new Cv(t,{...r,y:e})}function Ov(t,n){return arguments.length<2&&!Xp(t)&&(n=t,t=null),void 0===n&&(n={}),[t,n]}function Rv({anchor:t}={},n){return void 0===t?n[0]:Np(t,"anchor",n)}function Fv(t){return Rv(t,["left","right"])}function zv(t){return Rv(t,["right","left"])}function Uv(t){return Rv(t,["bottom","top"])}function jv(t){return Rv(t,["top","bottom"])}function qv(){const[t,n]=Ov(...arguments);return Wv("y",Fv(n),t,n)}function Iv(){const[t,n]=Ov(...arguments);return Wv("fy",zv(n),t,n)}function Pv(){const[t,n]=Ov(...arguments);return Hv("x",Uv(n),t,n)}function Bv(){const[t,n]=Ov(...arguments);return Hv("fx",jv(n),t,n)}function Wv(t,n,e,{color:r="currentColor",opacity:i=1,stroke:a=r,strokeOpacity:o=i,strokeWidth:c=1,fill:f=r,fillOpacity:u=i,textAnchor:l,textStroke:s,textStrokeOpacity:d,textStrokeWidth:h,tickSize:p=("y"===t?6:0),tickPadding:g,tickRotate:m,x:b,margin:y,marginTop:v=(void 0===y?20:y),marginRight:w=(void 0===y?"right"===n?40:0:y),marginBottom:x=(void 0===y?20:y),marginLeft:M=(void 0===y?"left"===n?40:0:y),label:k,labelAnchor:_,labelArrow:$,labelOffset:A,...T}){return p=vp(p),g=vp(g),m=vp(m),void 0!==_&&(_=Np(_,"labelAnchor",["center","top","bottom"])),$=lw($),gy(p&&!ig(a)?function(t,n,e,{strokeWidth:r=1,strokeLinecap:i=null,strokeLinejoin:a=null,facetAnchor:o=n+("y"===t?"-empty":""),frameAnchor:c=n,tickSize:f,inset:u=0,insetLeft:l=u,insetRight:s=u,dx:d=0,y:h=("y"===t?void 0:null),...p}){return tw(Dv,t,e,{ariaLabel:`${t}-axis tick`,ariaHidden:!0},{strokeWidth:r,strokeLinecap:i,strokeLinejoin:a,facetAnchor:o,frameAnchor:c,y:h,...p,dx:"left"===n?+d-Ib+ +l:+d+Ib-s,anchor:"start",length:f,shape:"left"===n?ow:cw})}(t,n,e,{stroke:a,strokeOpacity:o,strokeWidth:c,tickSize:p,tickPadding:g,tickRotate:m,x:b,...T}):null,ig(f)?null:function(t,n,e,{facetAnchor:r=n+("y"===t?"-empty":""),frameAnchor:i=n,tickSize:a,tickRotate:o=0,tickPadding:c=Math.max(3,9-a)+(Math.abs(o)>60?4*Math.cos(o*Ny):0),text:f,textAnchor:u=(Math.abs(o)>60?"middle":"left"===n?"end":"start"),lineAnchor:l=(o>60?"top":o<-60?"bottom":"middle"),fontVariant:s,inset:d=0,insetLeft:h=d,insetRight:p=d,dx:g=0,y:m=("y"===t?void 0:null),...b}){return tw(cv,t,e,{ariaLabel:`${t}-axis tick label`},{facetAnchor:r,frameAnchor:i,text:f,textAnchor:u,lineAnchor:l,fontVariant:s,rotate:o,y:m,...b,dx:"left"===n?+g-a-c+ +h:+g+ +a+ +c-p},(function(t,e,r,i,a){void 0===s&&(this.fontVariant=fw(t)),void 0===f&&(a.text=nw(t,e,r,i,n))}))}(t,n,e,{fill:f,fillOpacity:u,stroke:s,strokeOpacity:d,strokeWidth:h,textAnchor:l,tickSize:p,tickPadding:g,tickRotate:m,x:b,marginTop:v,marginRight:w,marginBottom:x,marginLeft:M,...T}),ig(f)||null===k?null:av([],Kv({fill:f,fillOpacity:u,...T},(function(e,r,i,a,o){const c=a[t],{marginTop:f,marginRight:u,marginBottom:l,marginLeft:s}="y"===t&&o.inset||o,d=_??(c.bandwidth?"center":"top"),h=A??("right"===n?u:s)-3;return"center"===d?(this.textAnchor=void 0,this.lineAnchor="right"===n?"bottom":"top",this.frameAnchor=n,this.rotate=-90):(this.textAnchor="right"===n?"end":"start",this.lineAnchor=d,this.frameAnchor=`${d}-${n}`,this.rotate=0),this.dy="top"===d?3-f:"bottom"===d?l-3:0,this.dx="right"===n?h:-h,this.ariaLabel=`${t}-axis label`,{facets:[[0]],channels:{text:{value:[uw(t,c,{anchor:n,label:k,labelAnchor:d,labelArrow:$})]}}}}))))}function Hv(t,n,e,{color:r="currentColor",opacity:i=1,stroke:a=r,strokeOpacity:o=i,strokeWidth:c=1,fill:f=r,fillOpacity:u=i,textAnchor:l,textStroke:s,textStrokeOpacity:d,textStrokeWidth:h,tickSize:p=("x"===t?6:0),tickPadding:g,tickRotate:m,y:b,margin:y,marginTop:v=(void 0===y?"top"===n?30:0:y),marginRight:w=(void 0===y?20:y),marginBottom:x=(void 0===y?"bottom"===n?30:0:y),marginLeft:M=(void 0===y?20:y),label:k,labelAnchor:_,labelArrow:$,labelOffset:A,...T}){return p=vp(p),g=vp(g),m=vp(m),void 0!==_&&(_=Np(_,"labelAnchor",["center","left","right"])),$=lw($),gy(p&&!ig(a)?function(t,n,e,{strokeWidth:r=1,strokeLinecap:i=null,strokeLinejoin:a=null,facetAnchor:o=n+("x"===t?"-empty":""),frameAnchor:c=n,tickSize:f,inset:u=0,insetTop:l=u,insetBottom:s=u,dy:d=0,x:h=("x"===t?void 0:null),...p}){return tw(Lv,t,e,{ariaLabel:`${t}-axis tick`,ariaHidden:!0},{strokeWidth:r,strokeLinejoin:a,strokeLinecap:i,facetAnchor:o,frameAnchor:c,x:h,...p,dy:"bottom"===n?+d-Ib-s:+d+Ib+ +l,anchor:"start",length:f,shape:"bottom"===n?iw:aw})}(t,n,e,{stroke:a,strokeOpacity:o,strokeWidth:c,tickSize:p,tickPadding:g,tickRotate:m,y:b,...T}):null,ig(f)?null:function(t,n,e,{facetAnchor:r=n+("x"===t?"-empty":""),frameAnchor:i=n,tickSize:a,tickRotate:o=0,tickPadding:c=Math.max(3,9-a)+(Math.abs(o)>=10?4*Math.cos(o*Ny):0),text:f,textAnchor:u=(Math.abs(o)>=10?o<0^"bottom"===n?"start":"end":"middle"),lineAnchor:l=(Math.abs(o)>=10?"middle":"bottom"===n?"top":"bottom"),fontVariant:s,inset:d=0,insetTop:h=d,insetBottom:p=d,dy:g=0,x:m=("x"===t?void 0:null),...b}){return tw(ov,t,e,{ariaLabel:`${t}-axis tick label`},{facetAnchor:r,frameAnchor:i,text:void 0===f?null:f,textAnchor:u,lineAnchor:l,fontVariant:s,rotate:o,x:m,...b,dy:"bottom"===n?+g+ +a+ +c-p:+g-a-c+ +h},(function(t,e,r,i,a){void 0===s&&(this.fontVariant=fw(t)),void 0===f&&(a.text=nw(t,e,r,i,n))}))}(t,n,e,{fill:f,fillOpacity:u,stroke:s,strokeOpacity:d,strokeWidth:h,textAnchor:l,tickSize:p,tickPadding:g,tickRotate:m,y:b,marginTop:v,marginRight:w,marginBottom:x,marginLeft:M,...T}),ig(f)||null===k?null:av([],Kv({fill:f,fillOpacity:u,...T},(function(e,r,i,a,o){const c=a[t],{marginTop:f,marginRight:u,marginBottom:l,marginLeft:s}="x"===t&&o.inset||o,d=_??(c.bandwidth?"center":"right"),h=A??("top"===n?f:l)-3;return"center"===d?(this.frameAnchor=n,this.textAnchor=void 0):(this.frameAnchor=`${n}-${d}`,this.textAnchor="right"===d?"end":"start"),this.lineAnchor=n,this.dy="top"===n?-h:h,this.dx="right"===d?u-3:"left"===d?3-s:0,this.ariaLabel=`${t}-axis label`,{facets:[[0]],channels:{text:{value:[uw(t,c,{anchor:n,label:k,labelAnchor:d,labelArrow:$})]}}}}))))}function Yv(){const[t,n]=Ov(...arguments);return Gv("y",Fv(n),t,n)}function Vv(){const[t,n]=Ov(...arguments);return Gv("fy",zv(n),t,n)}function Xv(){const[t,n]=Ov(...arguments);return Qv("x",Uv(n),t,n)}function Zv(){const[t,n]=Ov(...arguments);return Qv("fx",jv(n),t,n)}function Gv(t,n,e,{y:r=("y"===t?void 0:null),x:i=null,x1:a=("left"===n?i:null),x2:o=("right"===n?i:null),...c}){return tw(Qy,t,e,{ariaLabel:`${t}-grid`,ariaHidden:!0},{y:r,x1:a,x2:o,...Jv(c)})}function Qv(t,n,e,{x:r=("x"===t?void 0:null),y:i=null,y1:a=("top"===n?i:null),y2:o=("bottom"===n?i:null),...c}){return tw(Gy,t,e,{ariaLabel:`${t}-grid`,ariaHidden:!0},{x:r,y1:a,y2:o,...Jv(c)})}function Jv({color:t="currentColor",opacity:n=.1,stroke:e=t,strokeOpacity:r=n,strokeWidth:i=1,...a}){return{stroke:e,strokeOpacity:r,strokeWidth:i,...a}}function Kv({fill:t,fillOpacity:n,fontFamily:e,fontSize:r,fontStyle:i,fontVariant:a,fontWeight:o,monospace:c,pointerEvents:f,shapeRendering:u,clip:l=!1},s){return[,t]=Tp(t),[,n]=Sp(n),{facet:"super",x:null,y:null,fill:t,fillOpacity:n,fontFamily:e,fontSize:r,fontStyle:i,fontVariant:a,fontWeight:o,monospace:c,pointerEvents:f,shapeRendering:u,clip:l,initializer:s}}function tw(t,n,e,r,i,a){let o;const c=ay(i).initializer,f=t(e,ay({...i,initializer:function(t,e,r,c,f,u){const l=null==t&&("fx"===n||"fy"===n),{[n]:s}=c;if(!s)throw new Error(`missing scale: ${n}`);const h=s.domain();let{interval:g,ticks:m,tickFormat:b,tickSpacing:y=("x"===n?80:35)}=i;if("string"==typeof m&&sw(s)&&(g=m,m=void 0),void 0===m&&(m=Hp(g,s.type)??function(t,n){const[e,r]=d(t.range());return(r-e)/n}(s,y)),null==t){if(Xp(m))t=Cp(m);else if(Yp(m))t=rw(m,...d(h));else if(s.interval){let n=s.interval;if(s.ticks){const[e,r]=d(h);n=rp(n,(r-e)/n[Xh]/m)??n,t=rw(n,e,r)}else{n=rp(n,(t=h).length/m)??n,n!==s.interval&&(t=rw(n,...d(t)))}if(n===s.interval){const n=Math.round(t.length/m);n>1&&(t=t.filter(((t,e)=>e%n==0)))}}else t=s.ticks?s.ticks(m):h;if(!s.ticks&&t.length&&t!==h){const e=new p(h);(t=t.filter((t=>e.has(t)))).length||km(`Warning: the ${n}-axis ticks appear to not align with the scale domain, resulting in no ticks. Try different ticks?`)}"y"===n||"x"===n?e=[jp(t)]:o[n]={scale:n,value:mp}}a?.call(this,s,t,m,b,o);const v=Object.fromEntries(Object.entries(o).map((([n,e])=>[n,{...e,value:lp(t,e.value)}])));return l&&(e=u.filterFacets(t,v)),{data:t,facets:e,channels:v}}},c));return null==e?(o=f.channels,f.channels={}):o={},void 0!==r&&Object.assign(f,r),void 0===f.clip&&(f.clip=!1),f}function nw(t,n,e,r,i){return{value:ew(t,n,e,r,i)}}function ew(t,n,e,r,i){return"function"!=typeof r||"log"===t.type&&t.tickFormat?void 0===r&&n&&Qp(n)?ap(t.type,n,i)??qb:t.tickFormat?t.tickFormat("number"==typeof e?e:null,r):void 0===r?qb:"string"==typeof r?(Qp(t.domain())?Lu:Xr)(r):Mp(r):r}function rw(t,n,e){return t.range(n,t.offset(t.floor(e)))}const iw={draw(t,n){t.moveTo(0,0),t.lineTo(0,n)}},aw={draw(t,n){t.moveTo(0,0),t.lineTo(0,-n)}},ow={draw(t,n){t.moveTo(0,0),t.lineTo(-n,0)}},cw={draw(t,n){t.moveTo(0,0),t.lineTo(n,0)}};function fw(t){return t.bandwidth&&!t.interval?void 0:"tabular-nums"}function uw(t,n,{anchor:e,label:r=n.label,labelAnchor:i,labelArrow:a}={}){if(!(null==r||r.inferred&&sw(n)&&/^(date|time|year)$/i.test(r))){if(r=String(r),"auto"===a&&(a=(!n.bandwidth||n.interval)&&!/[↑↓→←]/.test(r)),!a)return r;if(!0===a){const e=function(t){return Math.sign(Fh(t.domain()))*Math.sign(Fh(t.range()))}(n);e&&(a=/x$/.test(t)||"center"===i?/x$/.test(t)===e<0?"left":"right":e<0?"up":"down")}switch(a){case"left":return`← ${r}`;case"right":return`${r} →`;case"up":return"right"===e?`${r} ↑`:`↑ ${r}`;case"down":return"right"===e?`${r} ↓`:`↓ ${r}`}return r}}function lw(t="auto"){return!ig(t)&&("boolean"==typeof t?t:Np(t,"labelArrow",["auto","up","right","down","left"]))}function sw(t){return Qp(t.domain())}function dw(t,n){if(null==n)return n;const e=t(n);if(!e)throw new Error(`scale not found: ${n}`);return e}function hw(t,n={},e){let{columns:r,tickFormat:i,fontVariant:a=Sy(t),swatchSize:o=15,swatchWidth:c=o,swatchHeight:f=o,marginLeft:u=0,className:l,style:s,width:d}=n;const h=Db(n);l=ny(l),i=ew(t.scale,t.domain,void 0,i);const p=Ob("div",h).attr("class",`${l}-swatches ${l}-swatches-${null!=r?"columns":"wrap"}`);let g;return null!=r?(g=`:where(.${l}-swatches-columns .${l}-swatch) {\n  display: flex;\n  align-items: center;\n  break-inside: avoid;\n  padding-bottom: 1px;\n}\n:where(.${l}-swatches-columns .${l}-swatch::before) {\n  flex-shrink: 0;\n}\n:where(.${l}-swatches-columns .${l}-swatch-label) {\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}`,p.style("columns",r).selectAll().data(t.domain).enter().append("div").attr("class",`${l}-swatch`).call(e,t,c,f).call((t=>t.append("div").attr("class",`${l}-swatch-label`).attr("title",i).text(i)))):(g=`:where(.${l}-swatches-wrap) {\n  display: flex;\n  align-items: center;\n  min-height: 33px;\n  flex-wrap: wrap;\n}\n:where(.${l}-swatches-wrap .${l}-swatch) {\n  display: inline-flex;\n  align-items: center;\n  margin-right: 1em;\n}`,p.selectAll().data(t.domain).enter().append("span").attr("class",`${l}-swatch`).call(e,t,c,f).append((function(){return this.ownerDocument.createTextNode(i.apply(this,arguments))}))),p.call((t=>t.insert("style","*").text(`:where(.${l}-swatches) {\n  font-family: system-ui, sans-serif;\n  font-size: 10px;\n  margin-bottom: 0.5em;\n}\n:where(.${l}-swatch > svg) {\n  margin-right: 0.5em;\n  overflow: visible;\n}\n${g}`))).style("margin-left",u?+u+"px":null).style("width",void 0===d?null:+d+"px").style("font-variant",Jb(a,"normal")).call(ey,s).node()}const pw=new Map([["symbol",function(t,{fill:n=(void 0!==t.hint?.fill?t.hint.fill:"none"),fillOpacity:e=1,stroke:r=(void 0!==t.hint?.stroke?t.hint.stroke:ig(n)?"currentColor":"none"),strokeOpacity:i=1,strokeWidth:a=1.5,r:o=4.5,...c}={},f){const[u,l]=Tp(n),[s,d]=Tp(r),h=dw(f,u),p=dw(f,s),g=o*o*Math.PI;return e=Sp(e)[1],i=Sp(i)[1],a=Sp(a)[1],hw(t,c,((n,r,o,c)=>n.append("svg").attr("viewBox","-8 -8 16 16").attr("width",o).attr("height",c).attr("fill","color"===u?t=>h.scale(t):l).attr("fill-opacity",e).attr("stroke","color"===s?t=>p.scale(t):d).attr("stroke-opacity",i).attr("stroke-width",a).append("path").attr("d",(n=>{const e=Yc();return t.scale(n).draw(e,g),e}))))}],["color",mw],["opacity",function({type:t,interpolate:n,...e},{legend:r=!0,color:i=je(0,0,0),...a}){if(!n)throw new Error(`${t} opacity scales are not supported`);!0===r&&(r="ramp");if("ramp"!==`${r}`.toLowerCase())throw new Error(`${r} opacity legends are not supported`);return mw({type:t,...e,interpolate:bw(i)},{legend:r,...a})}]]);function gw({className:t,...n},{label:e,ticks:r,tickFormat:i}={},a){return function(t={},...n){let e=t;for(const r of n)for(const n in r)if(void 0===e[n]){const i=r[n];e===t?e={...e,[n]:i}:e[n]=i}return e}(a,{className:t,...n},{label:e,ticks:r,tickFormat:i})}function mw(t,{legend:n=!0,...e}){if(!0===n&&(n="ordinal"===t.type?"swatches":"ramp"),void 0!==t.domain)switch(`${n}`.toLowerCase()){case"swatches":return function(t,{opacity:n,...e}={}){if(!nb(t)&&!eb(t))throw new Error(`swatches legend requires ordinal or threshold color scale (not ${t.type})`);return hw(t,e,((t,e,r,i)=>t.append("svg").attr("width",r).attr("height",i).attr("fill",e.scale).attr("fill-opacity",Sp(n)[1]).append("rect").attr("width","100%").attr("height","100%")))}(t,e);case"ramp":return Ey(t,e);default:throw new Error(`unknown legend type: ${n}`)}}function bw(t){const{r:n,g:e,b:r}=je(t)||je(0,0,0);return t=>`rgba(${n},${e},${r},${t})`}const yw={ariaLabel:"frame",fill:"none",stroke:"currentColor",clip:!1},vw={ariaLabel:"frame",fill:null,stroke:"currentColor",strokeLinecap:"square",clip:!1};class ww extends py{constructor(t={}){const{anchor:n=null,inset:e=0,insetTop:r=e,insetRight:i=e,insetBottom:a=e,insetLeft:o=e,rx:c,ry:f}=t;super(hp,void 0,t,null==n?yw:vw),this.anchor=Ep(n,"anchor",["top","right","bottom","left"]),this.insetTop=vp(r),this.insetRight=vp(i),this.insetBottom=vp(a),this.insetLeft=vp(o),this.rx=vp(c),this.ry=vp(f)}render(t,n,e,r,i){const{marginTop:a,marginRight:o,marginBottom:c,marginLeft:f,width:u,height:l}=r,{anchor:s,insetTop:d,insetRight:h,insetBottom:p,insetLeft:g,rx:m,ry:b}=this,y=f+g,v=u-o-h,w=a+d,x=l-c-p;return Ob(s?"svg:line":"svg:rect",i).datum(0).call(Vb,this,r,i).call(Xb,this).call(Yb,this,e).call(Qb,this,{}).call("left"===s?t=>t.attr("x1",y).attr("x2",y).attr("y1",w).attr("y2",x):"right"===s?t=>t.attr("x1",v).attr("x2",v).attr("y1",w).attr("y2",x):"top"===s?t=>t.attr("x1",y).attr("x2",v).attr("y1",w).attr("y2",w):"bottom"===s?t=>t.attr("x1",y).attr("x2",v).attr("y1",x).attr("y2",x):t=>t.attr("x",y).attr("y",w).attr("width",v-y).attr("height",x-w).attr("rx",m).attr("ry",b)).node()}}const xw={ariaLabel:"tip",fill:"var(--plot-background)",stroke:"currentColor"},Mw=new Set(["geometry","href","src","ariaLabel","scales"]);class kw extends py{constructor(t,n={}){n.tip&&(n={...n,tip:!1}),void 0===n.title&&Xp(t)&&Zp(t)&&(n={...n,title:mp});const{x:e,y:r,x1:i,x2:a,y1:o,y2:c,anchor:f,preferredAnchor:u="bottom",monospace:l,fontFamily:s=(l?"ui-monospace, monospace":void 0),fontSize:d,fontStyle:h,fontVariant:p,fontWeight:g,lineHeight:m=1,lineWidth:b=20,frameAnchor:y,format:v,textAnchor:w="start",textOverflow:x,textPadding:M=8,title:k,pointerSize:_=12,pathFilter:$="drop-shadow(0 3px 4px rgba(0,0,0,0.2))"}=n;super(t,{x:{value:null!=i&&null!=a?null:e,scale:"x",optional:!0},y:{value:null!=o&&null!=c?null:r,scale:"y",optional:!0},x1:{value:i,scale:"x",optional:null==a},y1:{value:o,scale:"y",optional:null==c},x2:{value:a,scale:"x",optional:null==i},y2:{value:c,scale:"y",optional:null==o},title:{value:k,optional:!0}},n,xw),this.anchor=og(f,"anchor"),this.preferredAnchor=og(u,"preferredAnchor"),this.frameAnchor=cg(y),this.textAnchor=Jb(w,"middle"),this.textPadding=+M,this.pointerSize=+_,this.pathFilter=yp($),this.lineHeight=+m,this.lineWidth=+b,this.textOverflow=rv(x),this.monospace=!!l,this.fontFamily=yp(s),this.fontSize=vp(d),this.fontStyle=yp(h),this.fontVariant=yp(p),this.fontWeight=yp(g);for(const A in xw)A in this.channels&&(this[A]=xw[A]);this.splitLines=pv(this),this.clipLine=gv(this),this.format="string"==typeof v||"function"==typeof v?{title:v}:{...v}}render(t,n,e,r,i){const a=this,{x:o,y:c,fx:f,fy:u}=n,{ownerSVGElement:l,document:s}=i,{anchor:d,monospace:h,lineHeight:p,lineWidth:g}=this,{textPadding:m,pointerSize:b,pathFilter:y}=this,{marginTop:v,marginLeft:w}=r,{x1:x,y1:M,x2:k,y2:_,x:$=x??k,y:A=M??_}=e,T=f?f(t.fx)-w:0,S=u?u(t.fy)-v:0,[E,N]=ry(this,r),C=Ay(e,E),L=Ty(e,N),D=h?hv:dv,O=D(mv);let R,F;"title"in e?(R=$w.call(this,{title:e.channels.title},n),F=Tw):(R=$w.call(this,e.channels,n),F=Sw);const z=Ob("svg:g",i).call(Vb,this,r,i).call(fv,this).call(Qb,this,{x:$&&o,y:A&&c}).call((r=>r.selectAll().data(t).enter().append("g").attr("transform",(t=>`translate(${Math.round(C(t))},${Math.round(L(t))})`)).call(Xb,this).call((t=>t.append("path").attr("filter",y))).call((r=>r.append("text").each((function(r){const i=Yd(this);this.setAttribute("fill","currentColor"),this.setAttribute("fill-opacity",1),this.setAttribute("stroke","none");const o=F.call(a,r,t,R,n,e);if("string"==typeof o)for(const t of a.splitLines(o))U(i,{value:a.clipLine(t)});else{const t=new Set;for(const n of o){const{label:e=""}=n;e&&t.has(e)||(t.add(e),U(i,n))}}}))))));function U(t,{label:n,value:e,color:r,opacity:i}){n??="",e??="";const a=null!=r||null!=i;let o,c=100*g;const[f]=bv(n,c,D,O);if(f>=0)n=n.slice(0,f).trimEnd()+mv,o=e.trim(),e="";else{(n||!e&&!a)&&(e=" "+e);const[t]=bv(e,c-D(n),D,O);t>=0&&(o=e.trim(),e=e.slice(0,t).trimEnd()+mv)}const u=t.append("tspan").attr("x",0).attr("dy",`${p}em`).text("​");n&&u.append("tspan").attr("font-weight","bold").text(n),e&&u.append((()=>s.createTextNode(e))),a&&u.append("tspan").text(" ■").attr("fill",r).attr("fill-opacity",i).style("user-select","none"),o&&u.append("title").text(o)}function j(){const{width:t,height:n}=r.facet??r;z.selectChildren().each((function(e){let{x:r,width:i,height:o}=this.getBBox();i=Math.round(i),o=Math.round(o);let c=d;if(void 0===c){const r=C(e)+T,f=L(e)+S,u=r+i+b+2*m<t,l=r-i-b-2*m>0,s=f+o+b+2*m<n,d=f-o-b-2*m>0;c=u&&l?s&&d?a.preferredAnchor:d?"bottom":"top":s&&d?u?"left":"right":(u||l)&&(s||d)?`${d?"bottom":"top"}-${u?"left":"right"}`:a.preferredAnchor}const f=this.firstChild,u=this.lastChild;if(f.setAttribute("d",function(t,n,e,r,i){const a=r+2*e,o=i+2*e;switch(t){case"middle":return`M${-a/2},${-o/2}h${a}v${o}h${-a}z`;case"top-left":return`M0,0l${n},${n}h${a-n}v${o}h${-a}z`;case"top":return`M0,0l${n/2},${n/2}h${(a-n)/2}v${o}h${-a}v${-o}h${(a-n)/2}z`;case"top-right":return`M0,0l${-n},${n}h${n-a}v${o}h${a}z`;case"right":return`M0,0l${-n/2},${-n/2}v${n/2-o/2}h${-a}v${o}h${a}v${n/2-o/2}z`;case"bottom-left":return`M0,0l${n},${-n}h${a-n}v${-o}h${-a}z`;case"bottom":return`M0,0l${n/2},${-n/2}h${(a-n)/2}v${-o}h${-a}v${o}h${(a-n)/2}z`;case"bottom-right":return`M0,0l${-n},${-n}h${n-a}v${-o}h${a}z`;case"left":return`M0,0l${n/2},${-n/2}v${n/2-o/2}h${a}v${o}h${-a}v${n/2-o/2}z`}}(c,b,m,i,o)),r)for(const t of u.childNodes)t.setAttribute("x",-r);u.setAttribute("y",+function(t,n,e){return/^top(?:-|$)/.test(t)?.94-e:-.29-n*e}(c,u.childNodes.length,p).toFixed(6)+"em"),u.setAttribute("transform",`translate(${function(t,n,e,r,i){switch(t){case"middle":return[-r/2,i/2];case"top-left":return[e,n+e];case"top":return[-r/2,n/2+e];case"top-right":return[-r-e,n+e];case"right":return[-n/2-r-e,i/2];case"bottom-left":return[e,-n-e];case"bottom":return[-r/2,-n/2-e];case"bottom-right":return[-r-e,-n-e];case"left":return[e+n/2,i/2]}}(c,b,m,i,o)})`)})),z.attr("visibility",null)}return t.length&&(z.attr("visibility","hidden"),l.isConnected?Promise.resolve().then(j):"undefined"!=typeof requestAnimationFrame&&requestAnimationFrame(j)),z.node()}}function _w(t,{x:n,y:e,...r}={}){return void 0===r.frameAnchor&&([n,e]=Up(n,e)),new kw(t,{...r,x:n,y:e})}function $w(t,n){const e={};let r=this.format;r=Aw(r,t,"x"),r=Aw(r,t,"y"),this.format=r;for(const i in r){const n=r[i];if(null!==n&&!1!==n)if("fx"===i||"fy"===i)e[i]=!0;else{const n=Wg(t,i);n&&(e[i]=n)}}for(const i in t){if(i in e||i in r||Mw.has(i))continue;const n=Wg(t,i);n&&(e[i]=n)}this.facet&&(n.fx&&!("fx"in r)&&(e.fx=!0),n.fy&&!("fy"in r)&&(e.fy=!0));for(const i in e){const t=this.format[i];if("string"==typeof t){const r=e[i]?.value??n[i]?.domain()??[];this.format[i]=(Qp(r)?Lu:Xr)(t)}else if(void 0===t||!0===t){const t=n[i];this.format[i]=t?.bandwidth?ew(t,t.domain()):qb}}return e}function Aw(t,n,e){if(!(e in t))return t;const r=`${e}1`,i=`${e}2`;if(!(!(r in t)&&r in n||!(i in t)&&i in n))return t;const a=Object.entries(t),o=t[e];return a.splice(a.findIndex((([t])=>t===e))+1,0,[r,o],[i,o]),Object.fromEntries(a)}function Tw(t,n,{title:e}){return this.format.title(e.value[t],t)}function*Sw(t,n,e,r,i){for(const a in e){if("fx"===a||"fy"===a){yield{label:Cw(r,e,a),value:this.format[a](n[a],t)};continue}if("x1"===a&&"x2"in e)continue;if("y1"===a&&"y2"in e)continue;const o=e[a];if("x2"===a&&"x1"in e)yield{label:Nw(r,e,"x"),value:Ew(this.format.x2,e.x1,o,t)};else if("y2"===a&&"y1"in e)yield{label:Nw(r,e,"y"),value:Ew(this.format.y2,e.y1,o,t)};else{const n=o.value[t],c=o.scale;if(!Th(n)&&null==c)continue;yield{label:Cw(r,e,a),value:this.format[a](n,t),color:"color"===c?i[a][t]:null,opacity:"opacity"===c?i[a][t]:null}}}}function Ew(t,n,e,r){return e.hint?.length?`${t(e.value[r]-n.value[r],r)}`:`${t(n.value[r],r)}–${t(e.value[r],r)}`}function Nw(t,n,e){const r=Cw(t,n,`${e}1`,e),i=Cw(t,n,`${e}2`,e);return r===i?r:`${r}–${i}`}function Cw(t,n,e,r=e){const i=n[e],a=t[i?.scale??e];return String(a?.label??i?.label??r)}function Lw(t={}){const{facet:n,style:e,title:r,subtitle:i,caption:a,ariaLabel:o,ariaDescription:c}=t,f=ny(t.className),u=void 0===t.marks?[]:Ow(t.marks);u.push(...function(t){const n=[];for(const e of t){let t=e.tip;if(t){!0===t?t={}:"string"==typeof t&&(t={pointer:t});let{pointer:r,preferredAnchor:i}=t;r=/^x$/i.test(r)?_y:/^y$/i.test(r)?$y:ky,t=r(Bw(e,t)),t.title=null,void 0===i&&(t.preferredAnchor=r===$y?"left":"bottom");const a=_w(e.data,t);a.facet=e.facet,a.facetAnchor=e.facetAnchor,n.push(a)}}return n}(u));const l=function(t,n){if(null==t)return;const{x:e,y:r}=t;if(null==e&&null==r)return;const i=Cp(t.data);if(null==i)throw new Error("missing facet data");const a={};null!=e&&(a.fx=Rg(i,{value:e,scale:"fx"}));null!=r&&(a.fy=Rg(i,{value:r,scale:"fy"}));zw(a,n);const o=fb(i,a);return{channels:a,groups:o,data:t.data}}(n,t),s=new Map;for(const j of u){const n=Pw(j,l,t);n&&s.set(j,n)}const d=new Map;l&&qw(d,[l],t),qw(d,s,t);const h=Ow(function(t,n,e){let{projection:r,x:i={},y:a={},fx:o={},fy:c={},axis:f,grid:u,facet:l={},facet:{axis:s=f,grid:d}=l,x:{axis:h=f,grid:p=(null===h?null:u)}=i,y:{axis:g=f,grid:m=(null===g?null:u)}=a,fx:{axis:b=s,grid:y=(null===b?null:d)}=o,fy:{axis:v=s,grid:w=(null===v?null:d)}=c}=e;(r||!Rp(i)&&!Xw("x",t))&&(h=p=null);(r||!Rp(a)&&!Xw("y",t))&&(g=m=null);n.has("fx")||(b=y=null);n.has("fy")||(v=w=null);void 0===h&&(h=!Vw(t,"x"));void 0===g&&(g=!Vw(t,"y"));void 0===b&&(b=!Vw(t,"fx"));void 0===v&&(v=!Vw(t,"fy"));!0===h&&(h="bottom");!0===g&&(g="left");!0===b&&(b="top"===h||null===h?"bottom":"top");!0===v&&(v="right"===g||null===g?"left":"right");const x=[];return Hw(x,w,Vv,c),Ww(x,v,Iv,"right","left",l,c),Hw(x,y,Zv,o),Ww(x,b,Bv,"top","bottom",l,o),Hw(x,m,Yv,a),Ww(x,g,qv,"left","right",e,a),Hw(x,p,Xv,i),Ww(x,h,Pv,"bottom","top",e,i),x}(u,d,t));for(const j of h){const n=Pw(j,l,t);n&&s.set(j,n)}u.unshift(...h);let p=cb(d,t);if(void 0!==p){const t=l?wb(p,l):void 0;for(const e of u){if(null===e.facet||"super"===e.facet)continue;const n=s.get(e);void 0!==n&&(n.facetsIndex=null!=e.fx||null!=e.fy?wb(p,n):t)}const n=new Set;for(const{facetsIndex:e}of s.values())e?.forEach(((t,e)=>{t?.length>0&&n.add(e)}));p.forEach(0<n.size&&n.size<p.length?(t,e)=>t.empty=!n.has(e):t=>t.empty=!1);for(const e of u)if("exclude"===e.facet){const t=s.get(e);void 0!==t&&(t.facetsIndex=ub(t.facetsIndex))}}for(const j of bg.keys())Rp(t[j])&&"fx"!==j&&"fy"!==j&&d.set(j,[]);const g=new Map;for(const j of u){if(g.has(j))throw new Error("duplicate mark; each mark must be unique");const{facetsIndex:n,channels:e}=s.get(j)??{},{data:r,facets:i,channels:a}=j.initialize(n,e,t);zw(a,t),g.set(j,{data:r,facets:i,channels:a})}const m=Im(qw(d,g,t),t),b=function(t,n,e={}){let r=.5-Ib,i=.5+Ib,a=.5+Ib,o=.5-Ib;for(const{marginTop:g,marginRight:m,marginBottom:b,marginLeft:y}of n)g>r&&(r=g),m>i&&(i=m),b>a&&(a=b),y>o&&(o=y);let{margin:c,marginTop:f=(void 0!==c?c:r),marginRight:u=(void 0!==c?c:i),marginBottom:l=(void 0!==c?c:a),marginLeft:s=(void 0!==c?c:o)}=e;f=+f,u=+u,l=+l,s=+s;let{width:d=640,height:h=vy(t,e,{width:d,marginTopDefault:r,marginRightDefault:i,marginBottomDefault:a,marginLeftDefault:o})+Math.max(0,f-r+l-a)}=e;d=+d,h=+h;const p={width:d,height:h,marginTop:f,marginRight:u,marginBottom:l,marginLeft:s};if(t.fx||t.fy){let{margin:t,marginTop:n=(void 0!==t?t:f),marginRight:r=(void 0!==t?t:u),marginBottom:i=(void 0!==t?t:l),marginLeft:a=(void 0!==t?t:s)}=e.facet??{};n=+n,r=+r,i=+i,a=+a,p.facet={marginTop:n,marginRight:r,marginBottom:i,marginLeft:a}}return p}(m,u,t);!function(t,n){const{x:e,y:r,fx:i,fy:a}=t,o=i||a?Wm(n):n;i&&Ym(i,o),a&&Vm(a,o);const c=i||a?Hm(t,n):n;e&&Ym(e,c),r&&Vm(r,c)}(m,b);const y=Pm(m),{fx:v,fy:w}=y,x=v||w?Hm(m,b):b,M=v||w?function({fx:t,fy:n},e){const{marginTop:r,marginRight:i,marginBottom:a,marginLeft:o,width:c,height:f}=Wm(e),u=t&&Zw(t),l=n&&Zw(n);return{marginTop:n?l[0]:r,marginRight:t?c-u[1]:i,marginBottom:n?f-l[1]:a,marginLeft:t?u[0]:o,inset:{marginTop:e.marginTop,marginRight:e.marginRight,marginBottom:e.marginBottom,marginLeft:e.marginLeft},width:c,height:f}}(y,b):b,k=Db(t),_=k.document,$=fn("svg").call(_.documentElement);let A=$;k.ownerSVGElement=$,k.className=f,k.projection=_b(t,x),k.filterFacets=(t,n)=>wb(p,{channels:n,groups:fb(t,n)}),k.getMarkState=t=>{const n=g.get(t),e=s.get(t);return{...n,channels:{...n.channels,...e?.channels}}},k.dispatchValue=t=>{A.value!==t&&(A.value=t,A.dispatchEvent(new Event("input",{bubbles:!0})))};const T=new Set;for(const[j,q]of g)if(null!=j.initializer){const n="super"===j.facet?M:x,e=j.initializer(q.data,q.facets,q.channels,y,n,k);if(void 0!==e.data&&(q.data=e.data),void 0!==e.facets&&(q.facets=e.facets),void 0!==e.channels){const{fx:n,fy:r,...i}=e.channels;jw(i),Object.assign(q.channels,i);for(const e of Object.values(i)){const{scale:n}=e;null!=n&&((S=bg.get(n))!==lg&&S!==mg)&&(Uw(e,t),T.add(n))}null==n&&null==r||s.set(j,!0)}}var S;if(T.size){const n=new Map;qw(n,g,t,(t=>T.has(t))),qw(d,g,t,(t=>T.has(t)));const e=function(t,n){for(const e in t){const r=t[e],i=n[e];void 0===r.label&&i&&(r.label=i.label)}return t}(Im(n,t),m),{scales:r,...i}=Pm(e);Object.assign(m,e),Object.assign(y,i),Object.assign(y.scales,r)}let E,N;void 0!==p&&(E={x:v?.domain(),y:w?.domain()},p=function(t,{x:n,y:e}){return n&&=db(n),e&&=db(e),t.filter(n&&e?t=>n.has(t.x)&&e.has(t.y):n?t=>n.has(t.x):t=>e.has(t.y)).sort(n&&e?(t,r)=>n.get(t.x)-n.get(r.x)||e.get(t.y)-e.get(r.y):n?(t,e)=>n.get(t.x)-n.get(e.x):(t,n)=>e.get(t.y)-e.get(n.y))}(p,E),N=function(t,n,{marginTop:e,marginLeft:r}){return t&&n?({x:i,y:a})=>`translate(${t(i)-r},${n(a)-e})`:t?({x:n})=>`translate(${t(n)-r},0)`:({y:t})=>`translate(0,${n(t)-e})`}(v,w,b));for(const[j,q]of g)q.values=j.scale(q.channels,y,k);const{width:C,height:L}=b;Yd($).attr("class",f).attr("fill","currentColor").attr("font-family","system-ui, sans-serif").attr("font-size",10).attr("text-anchor","middle").attr("width",C).attr("height",L).attr("viewBox",`0 0 ${C} ${L}`).attr("aria-label",o).attr("aria-description",c).call((t=>t.append("style").text(`:where(.${f}) {\n  --plot-background: white;\n  display: block;\n  height: auto;\n  height: intrinsic;\n  max-width: 100%;\n}\n:where(.${f} text),\n:where(.${f} tspan) {\n  white-space: pre;\n}`))).call(ey,e);for(const j of u){const{channels:t,values:n,facets:e}=g.get(j);if(void 0===p||"super"===j.facet){let r=null;if(e&&(r=e[0],r=j.filter(r,t,n),0===r.length))continue;const i=j.render(r,y,n,M,k);if(null==i)continue;$.appendChild(i)}else{let r;for(const i of p){if(!(j.facetAnchor?.(p,E,i)??!i.empty))continue;let a=null;if(e){const r=s.has(j);if(a=e[r?i.i:0],a=j.filter(a,t,n),0===a.length)continue;r||a!==e[0]||(O=void 0,R=void 0,a=(D=a).subarray?D.subarray(O,R):D.slice(O,R)),a.fx=i.x,a.fy=i.y,a.fi=i.i}const o=j.render(a,y,n,x,k);if(null!=o){(r??=Yd($).append("g")).append((()=>o)).datum(i);for(const t of["aria-label","aria-description","aria-hidden","transform"])o.hasAttribute(t)&&(r.attr(t,o.getAttribute(t)),o.removeAttribute(t))}}r?.selectChildren().attr("transform",N)}}var D,O,R;const F=function(t,n,e){const r=[];for(const[i,a]of pw){const o=e[i];if(o?.legend&&i in t){const e=a(t[i],gw(n,t[i],o),(n=>t[n]));null!=e&&r.push(e)}}return r}(m,k,t),{figure:z=null!=r||null!=i||null!=a||F.length>0}=t;z&&(A=_.createElement("figure"),A.className=`${f}-figure`,A.style.maxWidth="initial",null!=r&&A.append(Dw(_,r,"h2")),null!=i&&A.append(Dw(_,i,"h3")),A.append(...F,$),null!=a&&A.append(function(t,n){const e=t.createElement("figcaption");return e.append(n),e}(_,a)),"value"in $&&(A.value=$.value,delete $.value)),A.scale=function(t){return n=>{if(!bg.has(n=`${n}`))throw new Error(`unknown scale: ${n}`);return t[n]}}(y.scales),A.legend=function(t,n,e={}){return(r,i)=>{if(!pw.has(r))throw new Error(`unknown legend type: ${r}`);if(r in t)return pw.get(r)(t[r],gw(n,e[r],i),(n=>t[n]))}}(m,k,t);const U=function(){const t=Mm;return Mm=0,xm=void 0,t}();return U>0&&Yd($).append("text").attr("x",C).attr("y",20).attr("dy","-1em").attr("text-anchor","end").attr("font-family","initial").text("⚠️").append("title").text(`${U.toLocaleString("en-US")} warning${1===U?"":"s"}. Please check the console.`),A}function Dw(t,n,e){if(n.ownerDocument)return n;const r=t.createElement(e);return r.append(n),r}function Ow(t){return t.flat(1/0).filter((t=>null!=t)).map(Rw)}function Rw(t){return"function"==typeof t.render?t:new Fw(t)}class Fw extends py{constructor(t){if("function"!=typeof t)throw new TypeError("invalid mark; missing render function");super(),this.render=t}render(){}}function zw(t,n){for(const e in t)Uw(t[e],n);return t}function Uw(t,n){const{scale:e,transform:r=!0}=t;if(null==e||!r)return;const{type:i,percent:a,interval:o,transform:c=(a?t=>null==t?NaN:100*t:Bp(o,i))}=n[e]??{};null!=c&&(t.value=Lp(t.value,c),t.transform=!1)}function jw(t){for(const n in t)Fg(n,t[n])}function qw(t,n,e,r=bp){for(const{channels:i}of n.values())for(const n in i){const a=i[n],{scale:o}=a;if(null!=o&&r(o))if("projection"===o){if(!Cb(e)){const n=void 0===e.x?.domain,r=void 0===e.y?.domain;if(n||r){const[e,i]=Lb(a);n&&Iw(t,"x",e),r&&Iw(t,"y",i)}}}else Iw(t,o,a)}return t}function Iw(t,n,e){const r=t.get(n);void 0!==r?r.push(e):t.set(n,[e])}function Pw(t,n,e){if(null===t.facet||"super"===t.facet)return;const{fx:r,fy:i}=t;if(null!=r||null!=i){const n=Cp(t.data??r??i);if(void 0===n)throw new Error(`missing facet data in ${t.ariaLabel}`);if(null===n)return;const a={};return null!=r&&(a.fx=Rg(n,{value:r,scale:"fx"})),null!=i&&(a.fy=Rg(n,{value:i,scale:"fy"})),zw(a,e),{channels:a,groups:fb(n,a)}}if(void 0===n)return;const{channels:a,groups:o,data:c}=n;if("auto"!==t.facet||t.data===c)return{channels:a,groups:o};c.length>0&&(o.size>1||1===o.size&&a.fx&&a.fy&&[...o][0][1].size>1)&&Cp(t.data)?.length===c.length&&km(`Warning: the ${t.ariaLabel} mark appears to use faceted data, but isn’t faceted. The mark data has the same length as the facet data and the mark facet option is "auto", but the mark data and facet data are distinct. If this mark should be faceted, set the mark facet option to true; otherwise, suppress this warning by setting the mark facet option to false.`)}function Bw(t,n={}){return ay({...n,x:null,y:null},((n,e,r,i,a,o)=>o.getMarkState(t)))}function Ww(t,n,e,r,i,a,o){if(!n)return;const c=function(t){return/^\s*both\s*$/i.test(t)}(n);o=function(t,n,{line:e=n.line,ticks:r,tickSize:i,tickSpacing:a,tickPadding:o,tickFormat:c,tickRotate:f,fontVariant:u,ariaLabel:l,ariaDescription:s,label:d=n.label,labelAnchor:h,labelArrow:p=n.labelArrow,labelOffset:g}){return{anchor:t,line:e,ticks:r,tickSize:i,tickSpacing:a,tickPadding:o,tickFormat:c,tickRotate:f,fontVariant:u,ariaLabel:l,ariaDescription:s,label:d,labelAnchor:h,labelArrow:p,labelOffset:g}}(c?r:n,a,o);const{line:f}=o;e!==qv&&e!==Pv||!f||ag(f)||t.push(function(t){return new ww(t)}(function(t){const{anchor:n,line:e}=t;return{anchor:n,facetAnchor:n+"-empty",stroke:!0===e?void 0:e}}(o))),t.push(e(o)),c&&t.push(e({...o,anchor:i,label:null}))}function Hw(t,n,e,r){n&&!ag(n)&&t.push(e(function(t,{stroke:n=(eg(t)?t:void 0),ticks:e=(Yw(t)?t:void 0),tickSpacing:r,ariaLabel:i,ariaDescription:a}){return{stroke:n,ticks:e,tickSpacing:r,ariaLabel:i,ariaDescription:a}}(n,r)))}function Yw(t){switch(typeof t){case"number":return!0;case"string":return!eg(t)}return Xp(t)||"function"==typeof t?.range}function Vw(t,n){const e=`${n}-axis `;return t.some((t=>t.ariaLabel?.startsWith(e)))}function Xw(t,n){for(const e of n)for(const n in e.channels){const{scale:r}=e.channels[n];if(r===t||"projection"===r)return!0}return!1}function Zw(t){const n=t.domain();let e=t(n[0]),r=t(n[n.length-1]);return r<e&&([e,r]=[r,e]),[e,r+t.bandwidth()]}const Gw={ariaLabel:"dot",fill:"none",stroke:"currentColor",strokeWidth:1.5};function Qw(t){return void 0===t.sort&&void 0===t.reverse?function(t,{sort:n,...e}={}){return{...(Fp(t)&&void 0!==t.channel?ay:fy)(e,sy(t)),sort:zp(n)?n:null}}({channel:"-r"},t):t}class Jw extends py{constructor(t,n={}){const{x:e,y:r,r:i,rotate:a,symbol:o=nh,frameAnchor:c}=n,[f,u]=Sp(a,0),[l,s]=function(t){if(null==t||xg(t))return[void 0,t];if("string"==typeof t){const n=wg.get(`${t}`.toLowerCase());if(n)return[void 0,n]}return[t,void 0]}(o),[d,h]=Sp(i,null==l?3:4.5);super(t,{x:{value:e,scale:"x",optional:!0},y:{value:r,scale:"y",optional:!0},r:{value:d,scale:"r",filter:Lh,optional:!0},rotate:{value:f,optional:!0},symbol:{value:l,scale:"auto",optional:!0}},Qw(n),Gw),this.r=h,this.rotate=u,this.symbol=s,this.frameAnchor=cg(c);const{channels:p}=this,{symbol:g}=p;if(g){const{fill:t,stroke:n}=p;g.hint={fill:t?t.value===g.value?"color":"currentColor":this.fill??"currentColor",stroke:n?n.value===g.value?"color":"currentColor":this.stroke??"none"}}}render(t,n,e,r,i){const{x:a,y:o}=n,{x:c,y:f,r:u,rotate:l,symbol:s}=e,{r:d,rotate:h,symbol:p}=this,[g,m]=ry(this,r),b=p===nh,y=u?void 0:d*d*Math.PI;return Dh(d)&&(t=[]),Ob("svg:g",i).call(Vb,this,r,i).call(Qb,this,{x:c&&a,y:f&&o}).call((n=>n.selectAll().data(t).enter().append(b?"circle":"path").call(Xb,this).call(b?t=>{t.attr("cx",c?t=>c[t]:g).attr("cy",f?t=>f[t]:m).attr("r",u?t=>u[t]:d)}:t=>{t.attr("transform",Ky`translate(${c?t=>c[t]:g},${f?t=>f[t]:m})${l?t=>` rotate(${l[t]})`:h?` rotate(${h})`:""}`).attr("d",u&&s?t=>{const n=Yc();return s[t].draw(n,u[t]*u[t]*Math.PI),n}:u?t=>{const n=Yc();return p.draw(n,u[t]*u[t]*Math.PI),n}:s?t=>{const n=Yc();return s[t].draw(n,y),n}:(()=>{const t=Yc();return p.draw(t,y),t})())}).call(Yb,this,e))).node()}}function Kw(t,{x:n,y:e,...r}={}){return void 0===r.frameAnchor&&([n,e]=Up(n,e)),new Jw(t,{...r,x:n,y:e})}const tx={ariaLabel:"rect"};class nx extends py{constructor(t,n={}){const{x1:e,y1:r,x2:i,y2:a,inset:o=0,insetTop:c=o,insetRight:f=o,insetBottom:u=o,insetLeft:l=o,rx:s,ry:d}=n;super(t,{x1:{value:e,scale:"x",type:null!=e&&null==i?"band":void 0,optional:!0},y1:{value:r,scale:"y",type:null!=r&&null==a?"band":void 0,optional:!0},x2:{value:i,scale:"x",optional:!0},y2:{value:a,scale:"y",optional:!0}},n,tx),this.insetTop=vp(c),this.insetRight=vp(f),this.insetBottom=vp(u),this.insetLeft=vp(l),this.rx=Jb(s,"auto"),this.ry=Jb(d,"auto")}render(t,n,e,r,i){const{x:a,y:o}=n,{x1:c,y1:f,x2:u,y2:l}=e,{marginTop:s,marginRight:d,marginBottom:h,marginLeft:p,width:g,height:m}=r,{projection:b}=i,{insetTop:y,insetRight:v,insetBottom:w,insetLeft:x,rx:M,ry:k}=this,_=(a?.bandwidth?a.bandwidth():0)-x-v,$=(o?.bandwidth?o.bandwidth():0)-y-w;return Ob("svg:g",i).call(Vb,this,r,i).call(Qb,this,{},0,0).call((n=>n.selectAll().data(t).enter().append("rect").call(Xb,this).attr("x",!c||!b&&rb(a)?p+x:u?t=>Math.min(c[t],u[t])+x:t=>c[t]+x).attr("y",!f||!b&&rb(o)?s+y:l?t=>Math.min(f[t],l[t])+y:t=>f[t]+y).attr("width",!c||!b&&rb(a)?g-d-p-v-x:u?t=>Math.max(0,Math.abs(u[t]-c[t])+_):_).attr("height",!f||!b&&rb(o)?m-s-h-y-w:l?t=>Math.max(0,Math.abs(f[t]-l[t])+$):$).call(Gb,"rx",M).call(Gb,"ry",k).call(Yb,this,e))).node()}}function ex(t,n){return new nx(t,function(t={}){return Hy("x",Iy,t,!0)}(function(t={}){return Hy("y",Py,t,!0)}(n)))}py.prototype.plot=function({marks:t=[],...n}={}){return Lw({...n,marks:[...t,this]})}}}]);
//# sourceMappingURL=65bcd59f52eddd46465e37da32103128a649d3de-e216318e9cfea9ba2bb7.js.map