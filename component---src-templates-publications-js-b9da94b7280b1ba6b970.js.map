{"version":3,"file":"component---src-templates-publications-js-b9da94b7280b1ba6b970.js","mappings":"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","sources":["webpack://lastig-gastby/./src/templates/publications.js","webpack://lastig-gastby/./src/components/seo.js","webpack://lastig-gastby/./src/util.js"],"sourcesContent":["import React from \"react\";\nimport { graphql } from \"gatsby\";\nimport Layout from \"../components/Layout\";\nimport Seo from \"../components/seo\";\nimport { useIntl } from \"react-intl\";\nimport { PublicationListOfLists } from \"../components/styles/Publications.styled\";\nimport { getPubType } from \"../util\";\nimport { PublicationList } from \"../components/CreateNodes\";\nimport { NavBar } from \"../components/NavBar\";\nimport { theme } from \"../theme\";\n\nexport default function PublicationsPage({ data, pageContext }) {\n  const team = pageContext.team;\n  const isLastigPage = team.length > 1;\n  console.log(`Publication PAGE : ${team} => ${isLastigPage}`);\n  const intl = useIntl();\n  function trans(text) {\n    return intl.formatMessage({ id: text });\n  }\n  const nodes = data.allHalCsv.nodes;\n  const classifiedNodes = nodes.map((node) => ({\n    pubType: getPubType(node),\n    ...node,\n  }));\n  function Pub({ pubType }) {\n    const filteredNodes = classifiedNodes.filter(\n      (node) => node.pubType === pubType,\n    );\n    if (filteredNodes.length > 0) {\n      return (\n        <div key={`pub${pubType}`}>\n          <h2> {trans(pubType)} </h2>\n          <PublicationList nodes={filteredNodes} type={pubType} theme={theme} />\n        </div>\n      );\n    }\n    return null;\n  }\n  return (\n    <Layout pageTitle={`${isLastigPage ? \"LASTIG\" : team} Publications`}>\n      <h3>{trans(`${isLastigPage ? \"LASTIG\" : team} Publications`)}</h3>\n      {!isLastigPage && (\n        <NavBar\n          title={team}\n          menus={data.site.siteMetadata.menus[team]}\n          team={team}\n        />\n      )}\n      <PublicationListOfLists>\n        <Pub pubType=\"ACL\" key=\"ACL\"></Pub>\n        <Pub pubType=\"ACLN\" key=\"ACLN\"></Pub>\n        <Pub pubType=\"ASCL\" key=\"ASCL\"></Pub>\n        <Pub pubType=\"PV\" key=\"PV\"></Pub>\n        <Pub pubType=\"INV\" key=\"INV\"></Pub>\n        <Pub pubType=\"COM\" key=\"COM\"></Pub>\n        <Pub pubType=\"ACTI\" key=\"ACTI\"></Pub>\n        <Pub pubType=\"ACTN\" key=\"ACTN\"></Pub>\n        <Pub pubType=\"OS\" key=\"OS\"></Pub>\n        <Pub pubType=\"DO\" key=\"DO\"></Pub>\n        <Pub pubType=\"AP\" key=\"AP\"></Pub>\n        <Pub pubType=\"TH\" key=\"TH\"></Pub>\n        <Pub pubType=\"AFF\" key=\"AFF\"></Pub>\n        <Pub pubType=\"OTHER\" key=\"OTHER\"></Pub>\n      </PublicationListOfLists>\n    </Layout>\n  );\n}\n\nexport const query = graphql`\n  query ($team: [String]) {\n    allHalCsv(filter: { teams: { in: $team } }) {\n      nodes {\n        halId\n        id\n        citationRef\n        docType\n        fileMain\n        files\n        invitedCommunication\n        label_bibtex\n        popularLevel\n        proceedings\n        producedDate\n        title\n        authIdHalFullName {\n          fullName\n          idHal\n        }\n        peerReviewing\n        researchData\n        audience\n        doiId\n        softCodeRepository\n        arxivId\n        anrProjectTitle\n        europeanProjectTitle\n        publicationDate\n        teams\n      }\n    }\n    site {\n      siteMetadata {\n        menuLinks {\n          link\n          name\n          subMenu {\n            link\n            name\n            subMenu {\n              link\n              name\n            }\n          }\n        }\n        menus {\n          ACTE {\n            link\n            name\n            subMenu {\n              link\n              name\n            }\n          }\n          GEOVIS {\n            link\n            name\n            subMenu {\n              link\n              name\n            }\n          }\n          MEIG {\n            link\n            name\n            subMenu {\n              link\n              name\n            }\n          }\n          STRUDEL {\n            link\n            name\n            subMenu {\n              link\n              name\n            }\n          }\n        }\n      }\n    }\n  }\n`;\n\nexport const Head = ({ pageContext }) => (\n  <Seo\n    title={`${\n      pageContext.team.length > 1 ? \"LASTIG\" : pageContext.team\n    } Publications`}\n  />\n);\n","import * as React from \"react\";\nimport { graphql, useStaticQuery } from \"gatsby\";\n\nconst Seo = ({ title }) => {\n  const data = useStaticQuery(graphql`\n    query {\n      site {\n        siteMetadata {\n          title\n        }\n      }\n    }\n  `);\n\n  return (\n    <title>\n      {title} | {data.site.siteMetadata.title}\n    </title>\n  );\n};\n\nexport default Seo;\n","export function getPubType(node) {\n  if (node.popularLevel === \"1\") return \"PV\";\n  if (\n    node.popularLevel === \"0\" &&\n    node.docType === \"ART\" &&\n    node.peerReviewing === \"0\"\n  )\n    return \"ASCL\";\n  if (\n    node.popularLevel === \"0\" &&\n    node.docType === \"ART\" &&\n    node.peerReviewing === \"1\" &&\n    node.audience === \"2\"\n  )\n    return \"ACL\";\n  if (\n    node.popularLevel === \"0\" &&\n    node.docType === \"ART\" &&\n    node.peerReviewing === \"1\"\n  )\n    return \"ACLN\";\n  if (\n    node.popularLevel === \"0\" &&\n    node.docType === \"COMM\" &&\n    node.invitedCommunication === \"1\"\n  )\n    return \"INV\";\n  if (\n    node.popularLevel === \"0\" &&\n    node.docType === \"COMM\" &&\n    node.invitedCommunication === \"0\" &&\n    node.proceedings === \"0\"\n  )\n    return \"COM\";\n  if (\n    node.popularLevel === \"0\" &&\n    node.docType === \"COMM\" &&\n    node.invitedCommunication === \"0\" &&\n    node.proceedings === \"1\" &&\n    node.audience === \"2\"\n  )\n    return \"ACTI\";\n  if (\n    node.popularLevel === \"0\" &&\n    node.docType === \"COMM\" &&\n    node.invitedCommunication === \"0\" &&\n    node.proceedings === \"1\"\n  )\n    return \"ACTN\";\n  if (node.docType === \"COUV\") return \"OS\";\n  if (node.docType === \"DOUV\") return \"DO\";\n  if (node.docType === \"REPORT\" || node.docType === \"UNDEFINED\") return \"AP\";\n  if (node.docType === \"THESE\" || node.docType === \"HDR\") return \"TH\";\n  if (node.docType === \"POSTER\") return \"AFF\";\n  return \"OTHER\";\n}\n"],"names":["PublicationsPage","_ref","data","pageContext","team","isLastigPage","length","console","log","intl","useIntl","trans","text","formatMessage","id","classifiedNodes","allHalCsv","nodes","map","node","pubType","getPubType","Pub","_ref2","filteredNodes","filter","React","key","PublicationList","type","theme","Layout","pageTitle","NavBar","title","menus","site","siteMetadata","PublicationListOfLists","Head","_ref3","Seo","useStaticQuery","popularLevel","docType","peerReviewing","audience","invitedCommunication","proceedings"],"sourceRoot":""}