{"version":3,"file":"component---src-templates-publications-js-71983f492c542f3e48ae.js","mappings":"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","sources":["webpack://lastig-gastby/./src/components/seo.js","webpack://lastig-gastby/./src/templates/publications.js","webpack://lastig-gastby/./src/util.js"],"sourcesContent":["import * as React from \"react\";\nimport { graphql, useStaticQuery } from \"gatsby\";\n\nconst Seo = ({ title }) => {\n  const data = useStaticQuery(graphql`\n    query {\n      site {\n        siteMetadata {\n          title\n        }\n      }\n    }\n  `);\n\n  return (\n    <title>\n      {title} | {data.site.siteMetadata.title}\n    </title>\n  );\n};\n\nexport default Seo;\n","import React from \"react\";\nimport { graphql } from \"gatsby\";\nimport Layout from \"../components/Layout\";\nimport Seo from \"../components/seo\";\nimport { useIntl } from \"react-intl\";\nimport { PublicationListOfLists } from \"../components/styles/Publications.styled\";\nimport { getPubType } from \"../util\";\nimport { PublicationList } from \"../components/CreateNodes\";\nimport { NavBar } from \"../components/NavBar\";\nimport { theme } from \"../theme\";\n\nexport default function PublicationsPage({ data, pageContext }) {\n  const team = pageContext.team;\n  const isLastigPage = team.length > 1;\n  console.log(`Publication PAGE : ${team} => ${isLastigPage}`);\n  const intl = useIntl();\n  function trans(text) {\n    return intl.formatMessage({ id: text });\n  }\n  const nodes = data.allHalCsv.nodes;\n  const classifiedNodes = nodes.map((node) => ({\n    pubType: getPubType(node),\n    ...node,\n  }));\n  function Pub({ pubType }) {\n    const filteredNodes = classifiedNodes.filter(\n      (node) => node.pubType === pubType,\n    );\n    if (filteredNodes.length > 0) {\n      return (\n        <div key={`pub${pubType}`}>\n          <h2> {trans(pubType)} </h2>\n          <PublicationList nodes={filteredNodes} type={pubType} theme={theme} />\n        </div>\n      );\n    }\n    return null;\n  }\n  return (\n    <Layout pageTitle={`${isLastigPage ? \"LASTIG\" : team} Publications`}>\n      <h3>{trans(`${isLastigPage ? \"LASTIG\" : team} Publications`)}</h3>\n      {!isLastigPage && (\n        <NavBar\n          title={team}\n          menus={data.site.siteMetadata.menus[team]}\n          team={team}\n        />\n      )}\n      <PublicationListOfLists>\n        <Pub pubType=\"ACL\" key=\"ACL\"></Pub>\n        <Pub pubType=\"ACLN\" key=\"ACLN\"></Pub>\n        <Pub pubType=\"ASCL\" key=\"ASCL\"></Pub>\n        <Pub pubType=\"PV\" key=\"PV\"></Pub>\n        <Pub pubType=\"INV\" key=\"INV\"></Pub>\n        <Pub pubType=\"COM\" key=\"COM\"></Pub>\n        <Pub pubType=\"ACTI\" key=\"ACTI\"></Pub>\n        <Pub pubType=\"ACTN\" key=\"ACTN\"></Pub>\n        <Pub pubType=\"OS\" key=\"OS\"></Pub>\n        <Pub pubType=\"DO\" key=\"DO\"></Pub>\n        <Pub pubType=\"AP\" key=\"AP\"></Pub>\n        <Pub pubType=\"TH\" key=\"TH\"></Pub>\n        <Pub pubType=\"AFF\" key=\"AFF\"></Pub>\n        <Pub pubType=\"OTHER\" key=\"OTHER\"></Pub>\n      </PublicationListOfLists>\n    </Layout>\n  );\n}\n\nexport const query = graphql`\n  query ($team: [String]) {\n    allHalCsv(filter: { teams: { in: $team } }) {\n      nodes {\n        halId\n        id\n        citationRef\n        docType\n        fileMain\n        files\n        invitedCommunication\n        label_bibtex\n        popularLevel\n        proceedings\n        producedDate\n        title\n        authIdHalFullName {\n          fullName\n          idHal\n        }\n        peerReviewing\n        researchData\n        audience\n        doiId\n        softCodeRepository\n        arxivId\n        anrProjectTitle\n        europeanProjectTitle\n        publicationDate\n        teams\n      }\n    }\n    site {\n      siteMetadata {\n        menuLinks {\n          link\n          name\n          subMenu {\n            link\n            name\n            subMenu {\n              link\n              name\n            }\n          }\n        }\n        menus {\n          ACTE {\n            link\n            name\n            subMenu {\n              link\n              name\n            }\n          }\n          GEOVIS {\n            link\n            name\n            subMenu {\n              link\n              name\n            }\n          }\n          MEIG {\n            link\n            name\n            subMenu {\n              link\n              name\n            }\n          }\n          STRUDEL {\n            link\n            name\n            subMenu {\n              link\n              name\n            }\n          }\n        }\n      }\n    }\n  }\n`;\n\nexport const Head = ({ pageContext }) => (\n  <Seo\n    title={`${\n      pageContext.team.length > 1 ? \"LASTIG\" : pageContext.team\n    } Publications`}\n  />\n);\n","export function getPubType(node) {\n  if (node.popularLevel === \"1\") return \"PV\";\n  if (\n    node.popularLevel === \"0\" &&\n    node.docType === \"ART\" &&\n    node.peerReviewing === \"0\"\n  )\n    return \"ASCL\";\n  if (\n    node.popularLevel === \"0\" &&\n    node.docType === \"ART\" &&\n    node.peerReviewing === \"1\" &&\n    node.audience === \"2\"\n  )\n    return \"ACL\";\n  if (\n    node.popularLevel === \"0\" &&\n    node.docType === \"ART\" &&\n    node.peerReviewing === \"1\"\n  )\n    return \"ACLN\";\n  if (\n    node.popularLevel === \"0\" &&\n    node.docType === \"COMM\" &&\n    node.invitedCommunication === \"1\"\n  )\n    return \"INV\";\n  if (\n    node.popularLevel === \"0\" &&\n    node.docType === \"COMM\" &&\n    node.invitedCommunication === \"0\" &&\n    node.proceedings === \"0\"\n  )\n    return \"COM\";\n  if (\n    node.popularLevel === \"0\" &&\n    node.docType === \"COMM\" &&\n    node.invitedCommunication === \"0\" &&\n    node.proceedings === \"1\" &&\n    node.audience === \"2\"\n  )\n    return \"ACTI\";\n  if (\n    node.popularLevel === \"0\" &&\n    node.docType === \"COMM\" &&\n    node.invitedCommunication === \"0\" &&\n    node.proceedings === \"1\"\n  )\n    return \"ACTN\";\n  if (node.docType === \"COUV\") return \"OS\";\n  if (node.docType === \"DOUV\") return \"DO\";\n  if (node.docType === \"REPORT\" || node.docType === \"UNDEFINED\") return \"AP\";\n  if (node.docType === \"THESE\" || node.docType === \"HDR\") return \"TH\";\n  if (node.docType === \"POSTER\") return \"AFF\";\n  return \"OTHER\";\n}\n"],"names":["_ref","title","data","useStaticQuery","React","site","siteMetadata","PublicationsPage","pageContext","team","isLastigPage","length","console","log","intl","useIntl","trans","text","formatMessage","id","classifiedNodes","allHalCsv","nodes","map","node","pubType","getPubType","Pub","_ref2","filteredNodes","filter","key","PublicationList","type","theme","Layout","pageTitle","NavBar","menus","PublicationListOfLists","Head","_ref3","Seo","popularLevel","docType","peerReviewing","audience","invitedCommunication","proceedings"],"sourceRoot":""}